diff --git a/wallet-extension/.gitignore b/wallet-extension/.gitignore
new file mode 100644
index 00000000..c9c9cad6
--- /dev/null
+++ b/wallet-extension/.gitignore
@@ -0,0 +1,33 @@
+# Sultan Wallet
+
+node_modules/
+dist/
+*.local
+*.log
+
+# IDE
+.vscode/
+.idea/
+*.swp
+*.swo
+
+# OS
+.DS_Store
+Thumbs.db
+
+# Environment
+.env
+.env.local
+.env.*.local
+
+# Build artifacts
+*.tsbuildinfo
+vite.config.js
+vite.config.d.ts
+
+# Test coverage
+coverage/
+.nyc_output/
+
+# PWA generated
+dev-dist/
diff --git a/wallet-extension/CONTRIBUTING.md b/wallet-extension/CONTRIBUTING.md
new file mode 100644
index 00000000..1d71105d
--- /dev/null
+++ b/wallet-extension/CONTRIBUTING.md
@@ -0,0 +1,85 @@
+# Contributing to Sultan Wallet
+
+Thank you for your interest in contributing to Sultan Wallet!
+
+## Security
+
+**IMPORTANT**: If you discover a security vulnerability, please DO NOT file a public issue. 
+Email security@sltn.io instead. See [SECURITY.md](./SECURITY.md) for details.
+
+## Development Setup
+
+```bash
+# Clone the repository
+git clone https://github.com/Wollnbergen/sultan-wallet.git
+cd sultan-wallet
+
+# Install dependencies
+npm install
+
+# Start development server
+npm run dev
+
+# Run tests
+npm test
+```
+
+## Code Style
+
+- TypeScript strict mode enabled
+- Use functional components with hooks
+- Keep cryptographic operations in `src/core/`
+- All new features must have tests
+
+## Pull Request Process
+
+1. **Fork** the repository
+2. **Create** a feature branch (`git checkout -b feat/amazing-feature`)
+3. **Write tests** for new functionality
+4. **Ensure** all tests pass (`npm test`)
+5. **Commit** with conventional commits (`feat:`, `fix:`, `docs:`, etc.)
+6. **Push** to your fork
+7. **Open** a Pull Request
+
+## Commit Messages
+
+Follow [Conventional Commits](https://www.conventionalcommits.org/):
+
+```
+feat: add validator registration
+fix: correct balance display precision
+docs: update security documentation
+test: add key derivation tests
+refactor: simplify storage encryption
+```
+
+## Testing
+
+All code in `src/core/` must have test coverage:
+
+```bash
+# Run tests
+npm test
+
+# Run tests in watch mode
+npm run test:watch
+
+# Run with coverage (when configured)
+npm run test:coverage
+```
+
+## Security Guidelines
+
+When contributing to cryptographic code:
+
+1. **Never log** sensitive data (private keys, mnemonics, PINs)
+2. **Always wipe** sensitive data after use with `secureWipe()`
+3. **Use Uint8Array** instead of strings for sensitive data
+4. **Validate inputs** before cryptographic operations
+5. **Add tests** for edge cases and error conditions
+
+## Questions?
+
+- Open a GitHub Discussion for questions
+- File an issue for bugs (non-security)
+- Email security@sltn.io for security issues
diff --git a/wallet-extension/LICENSE b/wallet-extension/LICENSE
new file mode 100644
index 00000000..dd3b8646
--- /dev/null
+++ b/wallet-extension/LICENSE
@@ -0,0 +1,21 @@
+MIT License
+
+Copyright (c) 2024 Sultan Network
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
+SOFTWARE.
diff --git a/wallet-extension/README.md b/wallet-extension/README.md
new file mode 100644
index 00000000..5f7e2b2d
--- /dev/null
+++ b/wallet-extension/README.md
@@ -0,0 +1,206 @@
+# Sultan Wallet
+
+A secure, zero-fee blockchain wallet built as a Progressive Web App (PWA).
+
+![Version](https://img.shields.io/badge/version-1.0.0-blue)
+![License](https://img.shields.io/badge/license-MIT-green)
+![TypeScript](https://img.shields.io/badge/TypeScript-5.6-blue)
+![React](https://img.shields.io/badge/React-18.3-61DAFB)
+
+## Features
+
+- ğŸ” **Secure Key Management** - Ed25519 keys with BIP39 mnemonic
+- ğŸ’° **Zero Transaction Fees** - Send and receive without fees
+- ğŸ“± **PWA Support** - Install on mobile or desktop
+- ğŸ”’ **Encrypted Storage** - AES-256-GCM with PBKDF2 key derivation
+- âš¡ **Offline Capable** - Transaction signing works offline
+- ğŸ—³ï¸ **Governance** - Vote on proposals directly from wallet
+- ğŸ’ **Staking** - Stake SLTN and become a validator
+
+## Quick Start
+
+```bash
+# Install dependencies
+npm install
+
+# Start development server
+npm run dev
+
+# Run tests
+npm test
+
+# Build for production
+npm run build
+```
+
+## Architecture
+
+```
+src/
+â”œâ”€â”€ api/           # Network API client
+â”œâ”€â”€ components/    # Reusable UI components
+â”œâ”€â”€ core/          # Cryptographic core
+â”‚   â”œâ”€â”€ wallet.ts       # Key derivation, signing
+â”‚   â”œâ”€â”€ security.ts     # Memory wiping, rate limiting
+â”‚   â”œâ”€â”€ storage.secure.ts # Encrypted IndexedDB storage
+â”‚   â””â”€â”€ csp.ts          # Content Security Policy
+â”œâ”€â”€ hooks/         # React hooks
+â””â”€â”€ screens/       # Application screens
+```
+
+## Security
+
+See [SECURITY.md](./SECURITY.md) for:
+- Threat model
+- Cryptographic design
+- Security features
+- Vulnerability disclosure
+
+### Key Security Features
+
+| Feature | Implementation |
+|---------|----------------|
+| Key Derivation | SLIP-0010 Ed25519 |
+| Encryption | AES-256-GCM |
+| Key Stretching | PBKDF2 (600K iterations) |
+| Memory Protection | Secure wipe, XOR encryption |
+| Rate Limiting | 5 attempts, 5 min lockout |
+| Session Timeout | 5 minutes inactivity |
+
+## Cryptographic Libraries
+
+All crypto libraries are independently audited:
+
+- [@noble/ed25519](https://github.com/paulmillr/noble-ed25519) - Ed25519 signatures
+- [@noble/hashes](https://github.com/paulmillr/noble-hashes) - SHA-256, SHA-512, PBKDF2
+- [@scure/bip39](https://github.com/paulmillr/scure-bip39) - BIP39 mnemonic generation
+- [bech32](https://github.com/bitcoinjs/bech32) - Address encoding
+
+## Development
+
+### Prerequisites
+
+- Node.js 18+
+- npm 9+
+
+### Commands
+
+```bash
+# Development
+npm run dev          # Start dev server on http://localhost:3000
+
+# Testing
+npm test             # Run tests once
+npm run test:watch   # Run tests in watch mode
+
+# Build
+npm run build        # Production build
+npm run preview      # Preview production build
+```
+
+### Testing
+
+Tests are located in `src/core/__tests__/`:
+
+- `wallet.test.ts` - Key derivation, signing, address validation
+- `security.test.ts` - Memory wiping, rate limiting, sessions
+- `storage.secure.test.ts` - Encryption, IndexedDB operations
+
+Run with:
+```bash
+npm test
+```
+
+## Configuration
+
+### Chain Configuration
+
+| Parameter | Value |
+|-----------|-------|
+| Prefix | `sultan` |
+| Coin Type | `1984` |
+| Decimals | `9` |
+| Derivation Path | `m/44'/1984'/0'/0'/{index}` |
+
+### RPC Endpoints
+
+Configure in `vite.config.ts`:
+
+```typescript
+// Production
+'https://rpc.sltn.io'
+'https://api.sltn.io'
+```
+
+## PWA Installation
+
+The wallet can be installed as a PWA:
+
+1. Visit the wallet URL in Chrome/Edge/Safari
+2. Click "Install" in the address bar or browser menu
+3. The wallet will be installed as a standalone app
+
+### Offline Support
+
+- Transaction signing works offline
+- Balances cached for offline viewing
+- Transactions queued when offline
+
+## API Reference
+
+### SultanWallet
+
+```typescript
+// Generate new wallet
+const mnemonic = SultanWallet.generateMnemonic();
+
+// Create from mnemonic
+const wallet = await SultanWallet.fromMnemonic(mnemonic);
+
+// Derive accounts
+const account = await wallet.deriveAccount(0);
+console.log(account.address); // sultan1...
+
+// Sign transaction
+const signed = await wallet.signTransaction(tx, 0);
+```
+
+### Secure Storage
+
+```typescript
+// Save wallet (encrypts with PIN)
+await saveWallet(mnemonic, pin);
+
+// Unlock wallet
+const mnemonic = await unlockWallet(pin);
+
+// Lock wallet
+lockWallet();
+
+// Check status
+const hasWallet = await hasWallet();
+const isLocked = isWalletLocked();
+```
+
+## Contributing
+
+1. Fork the repository
+2. Create a feature branch
+3. Write tests for new functionality
+4. Ensure all tests pass
+5. Submit a pull request
+
+See [CONTRIBUTING.md](../CONTRIBUTING.md) for detailed guidelines.
+
+## License
+
+MIT License - see [LICENSE](./LICENSE) for details.
+
+## Disclaimer
+
+This wallet is provided "as is" without warranty. Users are responsible for:
+- Securely backing up their mnemonic phrase
+- Keeping their PIN confidential
+- Verifying transaction details before signing
+
+**Never share your mnemonic phrase with anyone.**
diff --git a/wallet-extension/SECURITY.md b/wallet-extension/SECURITY.md
new file mode 100644
index 00000000..e0a77238
--- /dev/null
+++ b/wallet-extension/SECURITY.md
@@ -0,0 +1,319 @@
+# Sultan Wallet Security
+
+This document describes the security architecture, threat model, and security assumptions of the Sultan Wallet PWA.
+
+## Table of Contents
+
+- [Security Architecture](#security-architecture)
+- [Threat Model](#threat-model)
+- [Cryptographic Design](#cryptographic-design)
+- [Security Features](#security-features)
+- [Known Limitations](#known-limitations)
+- [Security Assumptions](#security-assumptions)
+- [Vulnerability Disclosure](#vulnerability-disclosure)
+- [Audit Status](#audit-status)
+
+---
+
+## Security Architecture
+
+### High-Level Design
+
+```
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚                      Sultan Wallet PWA                          â”‚
+â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+â”‚  UI Layer (React)                                               â”‚
+â”‚  â””â”€â”€ Screens: Dashboard, Send, Receive, Stake, Settings        â”‚
+â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+â”‚  Core Layer (TypeScript)                                        â”‚
+â”‚  â”œâ”€â”€ wallet.ts      - Key derivation, signing, address encodingâ”‚
+â”‚  â”œâ”€â”€ security.ts    - Memory wiping, rate limiting, sessions   â”‚
+â”‚  â”œâ”€â”€ storage.secure.ts - AES-GCM encryption, IndexedDB storageâ”‚
+â”‚  â””â”€â”€ csp.ts         - Content Security Policy                  â”‚
+â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+â”‚  Cryptographic Primitives (@noble, @scure)                      â”‚
+â”‚  â”œâ”€â”€ Ed25519 signatures                                         â”‚
+â”‚  â”œâ”€â”€ SHA-256/SHA-512 hashing                                    â”‚
+â”‚  â”œâ”€â”€ AES-256-GCM encryption                                     â”‚
+â”‚  â””â”€â”€ PBKDF2 key derivation                                      â”‚
+â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+â”‚  Storage Layer                                                   â”‚
+â”‚  â”œâ”€â”€ IndexedDB (encrypted wallet data)                          â”‚
+â”‚  â””â”€â”€ localStorage (lockout state, preferences)                  â”‚
+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+```
+
+### Data Flow
+
+1. **Wallet Creation**
+   - Generate 24-word BIP39 mnemonic (256-bit entropy)
+   - Derive master seed using PBKDF2
+   - Derive Ed25519 keys using SLIP-0010
+   - Encrypt mnemonic with user PIN using AES-256-GCM
+   - Store encrypted blob in IndexedDB
+
+2. **Wallet Unlock**
+   - User enters PIN
+   - Derive encryption key using PBKDF2 (600K iterations)
+   - Decrypt mnemonic from IndexedDB
+   - Store decrypted mnemonic in memory (XOR-encrypted)
+   - Start session timer
+
+3. **Transaction Signing**
+   - Retrieve mnemonic from memory
+   - Derive private key for account index
+   - Sign transaction with Ed25519
+   - Immediately wipe private key from memory
+
+---
+
+## Threat Model
+
+### Assets to Protect
+
+| Asset | Sensitivity | Storage |
+|-------|-------------|---------|
+| Mnemonic phrase | CRITICAL | Encrypted in IndexedDB |
+| Private keys | CRITICAL | Derived on-demand, wiped after use |
+| PIN/Password | HIGH | Never stored (derived key only) |
+| Account addresses | LOW | Stored in plaintext |
+| Transaction history | MEDIUM | Fetched from network |
+
+### Threat Actors
+
+1. **Remote Attacker (Network)**
+   - XSS attacks via malicious content
+   - Man-in-the-middle on RPC connections
+   - Phishing via fake wallet sites
+
+2. **Local Attacker (Device Access)**
+   - Physical access to unlocked device
+   - Malware with filesystem access
+   - Memory forensics on crashed/hibernated device
+
+3. **Supply Chain Attacker**
+   - Compromised npm packages
+   - Malicious browser extensions
+   - Compromised CDN/hosting
+
+### Threat Mitigations
+
+| Threat | Mitigation |
+|--------|------------|
+| XSS | Strict CSP, no inline scripts, input sanitization |
+| MITM | HTTPS-only, certificate pinning (planned) |
+| Phishing | Domain verification, origin checks |
+| Physical access | PIN lockout, session timeout, memory wiping |
+| Memory forensics | Secure wipe, XOR-encrypted in-memory storage |
+| Supply chain | Audited crypto libraries, lock file verification |
+
+---
+
+## Cryptographic Design
+
+### Key Derivation
+
+```
+Mnemonic (24 words, 256-bit entropy)
+    â”‚
+    â–¼ BIP39 (PBKDF2-HMAC-SHA512, 2048 iterations)
+Master Seed (512 bits)
+    â”‚
+    â–¼ SLIP-0010 (HMAC-SHA512)
+Ed25519 Master Key
+    â”‚
+    â–¼ Hardened derivation: m/44'/1984'/0'/0'/{index}
+Account Private Key (256 bits)
+    â”‚
+    â–¼ Ed25519 curve multiplication
+Account Public Key (256 bits)
+    â”‚
+    â–¼ SHA-256 â†’ First 20 bytes â†’ Bech32
+Sultan Address (sultan1...)
+```
+
+### Encryption at Rest
+
+```
+User PIN
+    â”‚
+    â–¼ PBKDF2-HMAC-SHA256 (600,000 iterations, 32-byte salt)
+Encryption Key (256 bits)
+    â”‚
+    â–¼ AES-256-GCM (12-byte IV)
+Encrypted Mnemonic
+    â”‚
+    â–¼ Store in IndexedDB
+{salt, iv, ciphertext, version}
+```
+
+### Signature Scheme
+
+- **Algorithm**: Ed25519 (RFC 8032)
+- **Key size**: 256-bit private key, 256-bit public key
+- **Signature size**: 512 bits (64 bytes)
+- **Library**: @noble/ed25519 (audited by Cure53)
+
+---
+
+## Security Features
+
+### 1. Memory Protection
+
+- **Secure Wipe**: Overwrites sensitive data with random bytes, then zeros
+- **XOR Encryption**: In-memory secrets stored XOR-encrypted with random key
+- **Minimal Exposure**: Private keys derived only when signing, wiped immediately
+
+### 2. Rate Limiting
+
+- **Max Attempts**: 5 failed PIN attempts
+- **Lockout Duration**: 5 minutes
+- **Persistent State**: Lockout survives browser restart
+
+### 3. Session Management
+
+- **Auto-lock**: 5 minutes of inactivity
+- **Activity Tracking**: User interactions extend session
+- **Manual Lock**: User can lock wallet at any time
+
+### 4. Content Security Policy
+
+```
+default-src 'self';
+script-src 'self';
+style-src 'self' 'unsafe-inline';
+connect-src 'self' https://rpc.sltn.io https://api.sltn.io;
+frame-ancestors 'none';
+form-action 'self';
+```
+
+### 5. Input Validation
+
+- Address format validation (bech32 checksum)
+- Amount validation (no negative, max precision)
+- Mnemonic validation (BIP39 wordlist, checksum)
+
+---
+
+## Known Limitations
+
+### Browser Environment Constraints
+
+1. **JavaScript String Immutability**: Strings cannot be securely wiped. We mitigate by using `Uint8Array` for sensitive data and `SecureString` wrapper class.
+
+2. **No Memory Locking**: Browser cannot lock memory pages (like `mlock()`). Sensitive data may be swapped to disk.
+
+3. **IndexedDB Encryption**: IndexedDB is not encrypted by browser. We add application-level encryption, but determined attacker with device access could extract encrypted blobs.
+
+4. **Service Worker Security**: SW has broad access. Malicious SW could intercept requests.
+
+### Not Protected Against
+
+- Compromised browser or OS
+- Hardware keyloggers
+- Screen capture malware
+- Rubber-hose cryptanalysis
+- Sophisticated targeted attacks
+
+---
+
+## Security Assumptions
+
+1. **Trusted Browser**: Browser correctly implements Web Crypto API, CSP, and origin isolation.
+
+2. **Trusted Device**: Device is not compromised with malware.
+
+3. **HTTPS**: All network communication uses TLS 1.2+.
+
+4. **User Responsibility**: User keeps mnemonic backup secure and doesn't share PIN.
+
+5. **Cryptographic Libraries**: @noble and @scure libraries are correctly implemented (independently audited).
+
+---
+
+## Vulnerability Disclosure
+
+### Reporting Security Issues
+
+**DO NOT** file public GitHub issues for security vulnerabilities.
+
+Contact: security@sltn.io
+
+Include:
+- Description of the vulnerability
+- Steps to reproduce
+- Potential impact assessment
+- Any suggested mitigations
+
+### Response Timeline
+
+- **Acknowledgment**: Within 48 hours
+- **Initial Assessment**: Within 1 week
+- **Fix Development**: Depends on severity
+- **Disclosure**: Coordinated disclosure after fix
+
+### Bug Bounty
+
+We offer bounties for responsibly disclosed vulnerabilities:
+
+| Severity | Bounty |
+|----------|--------|
+| Critical (key extraction) | Up to $10,000 |
+| High (fund loss possible) | Up to $5,000 |
+| Medium (privacy leak) | Up to $1,000 |
+| Low (minor issues) | Up to $200 |
+
+---
+
+## Audit Status
+
+### Current Status: **PENDING AUDIT**
+
+This wallet has not yet undergone a formal third-party security audit.
+
+### Planned Audits
+
+- [ ] Smart contract audit (not applicable - wallet only)
+- [ ] Cryptographic implementation review
+- [ ] Web security assessment
+- [ ] Penetration testing
+
+### Cryptographic Library Audits
+
+The wallet uses audited cryptographic libraries:
+
+| Library | Auditor | Report |
+|---------|---------|--------|
+| @noble/ed25519 | Cure53 | [Report](https://github.com/paulmillr/noble-curves#security) |
+| @noble/hashes | Cure53 | [Report](https://github.com/paulmillr/noble-hashes#security) |
+| @scure/bip39 | Cure53 | [Report](https://github.com/paulmillr/scure-bip39#security) |
+
+---
+
+## Security Checklist
+
+For developers and auditors:
+
+- [ ] All sensitive data uses `Uint8Array`, not strings
+- [ ] `secureWipe()` called after using private keys
+- [ ] No `console.log()` of sensitive data
+- [ ] CSP meta tag applied on load
+- [ ] HTTPS enforced in production
+- [ ] No inline scripts or `eval()`
+- [ ] Dependencies locked with exact versions
+- [ ] No secrets in source code
+- [ ] Rate limiting on all authentication
+- [ ] Session timeout implemented
+- [ ] Input validation on all user input
+
+---
+
+## Changelog
+
+### v1.0.0 (2024-12)
+- Initial release
+- Ed25519 key derivation
+- AES-256-GCM storage encryption
+- PBKDF2 with 600K iterations
+- Rate limiting and session management
diff --git a/wallet-extension/TECHNICAL_DEEP_DIVE.md b/wallet-extension/TECHNICAL_DEEP_DIVE.md
new file mode 100644
index 00000000..6791fcb7
--- /dev/null
+++ b/wallet-extension/TECHNICAL_DEEP_DIVE.md
@@ -0,0 +1,786 @@
+# Sultan Wallet PWA - Technical Deep Dive
+
+**Version:** 1.0.0  
+**Last Updated:** January 2025  
+**Author:** Sultan L1 Engineering Team
+
+---
+
+## Table of Contents
+
+1. [Executive Summary](#executive-summary)
+2. [Architecture Overview](#architecture-overview)
+3. [Technology Stack](#technology-stack)
+4. [Security Architecture](#security-architecture)
+5. [Cryptographic Implementation](#cryptographic-implementation)
+6. [State Management](#state-management)
+7. [API Layer](#api-layer)
+8. [Screen Components](#screen-components)
+9. [PWA Configuration](#pwa-configuration)
+10. [Build & Deployment](#build--deployment)
+11. [Testing Strategy](#testing-strategy)
+12. [Security Audit Notes](#security-audit-notes)
+
+---
+
+## Executive Summary
+
+Sultan Wallet is a **Progressive Web Application (PWA)** for the Sultan L1 blockchain - a zero-fee, high-performance Layer 1 with 64,000 TPS capacity across 16 shards. The wallet is designed as a browser-first application with production-grade security that rivals native mobile and desktop wallets.
+
+### Key Features
+- **Zero-Fee Transactions**: All transfers on Sultan L1 are completely free
+- **~13.33% Staking APY**: Variable APY based on network stake and participation
+- **Ed25519 Signatures**: Fast, secure cryptographic operations
+- **Offline Capable**: Service worker caching for core functionality
+- **Optional 2FA**: TOTP-based two-factor authentication
+- **Sultan-Only Design**: Focused single-chain experience (no multi-chain complexity)
+
+---
+
+## Architecture Overview
+
+```
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚                        PWA Shell                                 â”‚
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
+â”‚  â”‚                   React Router                           â”‚    â”‚
+â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
+â”‚  â”‚  â”‚                 Screen Components                  â”‚   â”‚    â”‚
+â”‚  â”‚  â”‚  Dashboard â”‚ Send â”‚ Receive â”‚ Stake â”‚ Governance   â”‚   â”‚    â”‚
+â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
+â”‚                              â”‚                                    â”‚
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
+â”‚  â”‚                     Hooks Layer                            â”‚   â”‚
+â”‚  â”‚   useWallet â”‚ useBalance â”‚ useTheme â”‚ React Query         â”‚   â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
+â”‚                              â”‚                                    â”‚
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
+â”‚  â”‚                    Core Layer                              â”‚   â”‚
+â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
+â”‚  â”‚  â”‚ wallet.tsâ”‚  â”‚security.tsâ”‚ â”‚storage.tsâ”‚  â”‚ totp.ts  â”‚   â”‚   â”‚
+â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
+â”‚                              â”‚                                    â”‚
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
+â”‚  â”‚                   API Layer                                â”‚   â”‚
+â”‚  â”‚                  sultanAPI.ts                              â”‚   â”‚
+â”‚  â”‚              https://rpc.sltn.io                           â”‚   â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+                               â”‚
+                               â–¼
+                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+                    â”‚  Sultan L1 Network   â”‚
+                    â”‚  16 Shards Â· 5 Val   â”‚
+                    â”‚  2s Blocks Â· 64K TPS â”‚
+                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+```
+
+### Directory Structure
+
+```
+wallet-extension/
+â”œâ”€â”€ src/
+â”‚   â”œâ”€â”€ App.tsx              # Main router component
+â”‚   â”œâ”€â”€ main.tsx             # Entry point
+â”‚   â”œâ”€â”€ index.css            # Global styles
+â”‚   â”œâ”€â”€ api/
+â”‚   â”‚   â””â”€â”€ sultanAPI.ts     # REST API client (860 lines)
+â”‚   â”œâ”€â”€ core/
+â”‚   â”‚   â”œâ”€â”€ wallet.ts        # Key management (545 lines)
+â”‚   â”‚   â”œâ”€â”€ security.ts      # Security primitives (779 lines)
+â”‚   â”‚   â”œâ”€â”€ storage.secure.ts # Encrypted storage (469 lines)
+â”‚   â”‚   â”œâ”€â”€ totp.ts          # 2FA implementation (405 lines)
+â”‚   â”‚   â”œâ”€â”€ clipboard.ts     # Secure clipboard
+â”‚   â”‚   â”œâ”€â”€ csp.ts           # Content Security Policy
+â”‚   â”‚   â””â”€â”€ logger.ts        # Audit logging
+â”‚   â”œâ”€â”€ components/
+â”‚   â”‚   â”œâ”€â”€ AddressQR.tsx    # QR code generation
+â”‚   â”‚   â”œâ”€â”€ MnemonicDisplay.tsx
+â”‚   â”‚   â”œâ”€â”€ PinInput.tsx
+â”‚   â”‚   â”œâ”€â”€ TOTPSetup.tsx
+â”‚   â”‚   â””â”€â”€ TOTPVerify.tsx
+â”‚   â”œâ”€â”€ hooks/
+â”‚   â”‚   â”œâ”€â”€ useWallet.tsx    # Wallet state context (438 lines)
+â”‚   â”‚   â”œâ”€â”€ useBalance.ts    # Balance queries
+â”‚   â”‚   â””â”€â”€ useTheme.tsx     # Dark/light theme
+â”‚   â””â”€â”€ screens/
+â”‚       â”œâ”€â”€ Welcome.tsx      # Onboarding
+â”‚       â”œâ”€â”€ CreateWallet.tsx # Mnemonic generation
+â”‚       â”œâ”€â”€ ImportWallet.tsx # Mnemonic import
+â”‚       â”œâ”€â”€ Unlock.tsx       # PIN entry
+â”‚       â”œâ”€â”€ Dashboard.tsx    # Main wallet view
+â”‚       â”œâ”€â”€ Send.tsx         # Send transactions
+â”‚       â”œâ”€â”€ Receive.tsx      # Receive with QR
+â”‚       â”œâ”€â”€ Stake.tsx        # Staking interface
+â”‚       â”œâ”€â”€ BecomeValidator.tsx
+â”‚       â”œâ”€â”€ Governance.tsx   # Proposal voting
+â”‚       â”œâ”€â”€ NFTs.tsx         # NFT gallery
+â”‚       â”œâ”€â”€ Activity.tsx     # Transaction history
+â”‚       â””â”€â”€ Settings.tsx     # Wallet configuration
+â”œâ”€â”€ public/
+â”‚   â”œâ”€â”€ pwa-192x192.svg
+â”‚   â””â”€â”€ pwa-512x512.svg
+â”œâ”€â”€ vite.config.ts           # Vite + PWA configuration
+â””â”€â”€ package.json
+```
+
+---
+
+## Technology Stack
+
+### Frontend Framework
+| Technology | Version | Purpose |
+|------------|---------|---------|
+| React | 18.3.1 | UI framework |
+| React Router | 7.1.0 | Client-side routing |
+| TypeScript | 5.6.2 | Type safety |
+| Vite | 6.0.5 | Build tooling |
+
+### Cryptography (All Pure JavaScript)
+| Library | Version | Purpose |
+|---------|---------|---------|
+| @noble/ed25519 | 2.2.3 | Ed25519 signatures |
+| @noble/hashes | 1.7.1 | SHA-256, SHA-512, HMAC |
+| @scure/bip39 | 1.5.4 | BIP39 mnemonic handling |
+| bech32 | 2.0.0 | Address encoding |
+
+### State & Data
+| Library | Version | Purpose |
+|---------|---------|---------|
+| @tanstack/react-query | 5.62.16 | Server state management |
+| IndexedDB | Native | Encrypted persistent storage |
+| Web Crypto API | Native | AES-GCM, PBKDF2 |
+
+### PWA & Build
+| Library | Version | Purpose |
+|---------|---------|---------|
+| vite-plugin-pwa | 0.21.1 | Service worker generation |
+| Workbox | 7.3.0 | Runtime caching strategies |
+
+---
+
+## Security Architecture
+
+### Threat Model
+
+The wallet defends against:
+1. **Memory forensics** - Sensitive data encrypted with XOR in memory
+2. **Shoulder surfing** - PIN-protected access, auto-lock timeout
+3. **Brute force attacks** - Rate limiting with exponential backoff
+4. **XSS/injection** - Input validation, CSP headers
+5. **Clipboard sniffing** - Auto-clear clipboard after copy
+6. **Session hijacking** - Session timeout with auto-lock
+
+### Security Constants
+
+```typescript
+// From security.ts
+const MIN_PIN_LENGTH = 6;
+const MAX_PIN_LENGTH = 12;
+const MAX_PIN_ATTEMPTS = 5;
+const LOCKOUT_DURATION_MS = 5 * 60 * 1000;     // 5 minutes
+const SESSION_TIMEOUT_MS = 5 * 60 * 1000;      // 5 minutes
+const PBKDF2_ITERATIONS = 600_000;             // OWASP 2024 recommendation
+const SALT_LENGTH = 32;                         // 256 bits
+const IV_LENGTH = 12;                           // AES-GCM standard
+```
+
+### SecureString Class
+
+Sensitive strings (mnemonics, PINs) are never stored as plain JavaScript strings. The `SecureString` class XOR-encrypts data in memory:
+
+```typescript
+export class SecureString {
+  private data: Uint8Array;
+  private key: Uint8Array;
+  
+  constructor(value: string) {
+    const encoder = new TextEncoder();
+    const plaintext = encoder.encode(value);
+    
+    // Generate random XOR key
+    this.key = randomBytes(plaintext.length);
+    
+    // XOR encrypt the data
+    this.data = new Uint8Array(plaintext.length);
+    for (let i = 0; i < plaintext.length; i++) {
+      this.data[i] = plaintext[i] ^ this.key[i];
+    }
+    
+    // Wipe plaintext
+    secureWipe(plaintext);
+  }
+  
+  reveal(): string {
+    const decrypted = new Uint8Array(this.data.length);
+    for (let i = 0; i < this.data.length; i++) {
+      decrypted[i] = this.data[i] ^ this.key[i];
+    }
+    return new TextDecoder().decode(decrypted);
+  }
+  
+  destroy(): void {
+    secureWipe(this.data);
+    secureWipe(this.key);
+  }
+}
+```
+
+### Secure Memory Wiping
+
+All sensitive buffers are wiped with a multi-pass algorithm:
+
+```typescript
+export function secureWipe(data: Uint8Array): void {
+  if (!data || data.length === 0) return;
+  
+  // First pass: random data
+  const random = randomBytes(data.length);
+  data.set(random);
+  
+  // Second pass: zeros
+  data.fill(0);
+  
+  // Third pass: ones (helps with some memory types)
+  data.fill(0xFF);
+  
+  // Final pass: zeros
+  data.fill(0);
+}
+```
+
+### Rate Limiting
+
+Failed PIN attempts trigger exponential backoff lockout:
+
+```typescript
+function recordFailedAttempt(): void {
+  attempts++;
+  if (attempts >= MAX_PIN_ATTEMPTS) {
+    lockedUntil = Date.now() + LOCKOUT_DURATION_MS;
+  }
+}
+
+function isLockedOut(): boolean {
+  return Date.now() < lockedUntil;
+}
+```
+
+---
+
+## Cryptographic Implementation
+
+### Chain Specifications
+
+```typescript
+// Sultan chain constants
+export const SULTAN_DECIMALS = 9;        // 1 SLTN = 1,000,000,000 base units
+export const SULTAN_PREFIX = 'sultan';    // bech32 address prefix
+export const SULTAN_COIN_TYPE = 1984;    // BIP44 coin type
+export const MIN_STAKE = 10_000;         // 10,000 SLTN minimum stake
+```
+
+### Key Derivation Path
+
+Sultan uses SLIP-0010 for Ed25519 key derivation:
+
+```
+m/44'/1984'/0'/0'/{index}
+```
+
+- `44'` - BIP44 purpose
+- `1984'` - Sultan coin type
+- `0'` - Account (hardened)
+- `0'` - Change (hardened)
+- `{index}` - Address index
+
+### Mnemonic Generation
+
+24-word BIP39 mnemonic with 256-bit entropy:
+
+```typescript
+static generateMnemonic(): string {
+  return generateMnemonic(wordlist, 256); // 256 bits = 24 words
+}
+```
+
+### Address Derivation
+
+Addresses are bech32-encoded with the `sultan` prefix:
+
+```typescript
+private publicKeyToAddress(publicKey: Uint8Array): string {
+  // SHA-256 hash of public key
+  const hash = sha256(publicKey);
+  
+  // Take first 20 bytes
+  const address20 = hash.slice(0, 20);
+  
+  // Convert to 5-bit words for bech32
+  const words = bech32.toWords(address20);
+  
+  // Encode with 'sultan' prefix
+  return bech32.encode(SULTAN_PREFIX, words);
+}
+```
+
+### Transaction Signing
+
+Transactions are signed with Ed25519:
+
+```typescript
+async sign(tx: SultanTransaction): Promise<SignedTransaction> {
+  this.ensureNotDestroyed();
+  
+  // Get the account to sign with
+  const account = this.accounts.get(this.activeIndex);
+  if (!account) throw new Error('No active account');
+  
+  // Derive private key on-demand (never cached)
+  const mnemonic = this.secureMnemonic!.reveal();
+  const seed = mnemonicToSeedSync(mnemonic);
+  const privateKey = this.deriveEd25519Key(seed, account.path);
+  
+  // Serialize transaction for signing
+  const message = this.serializeTransaction(tx);
+  
+  // Sign with Ed25519
+  const signature = await ed25519.signAsync(message, privateKey);
+  
+  // SECURITY: Wipe private key immediately
+  secureWipe(privateKey);
+  
+  return {
+    transaction: tx,
+    signature: Buffer.from(signature).toString('hex'),
+    publicKey: account.publicKey,
+  };
+}
+```
+
+**Security Note**: Private keys are derived on-demand for each signing operation and immediately wiped. They are NEVER cached in memory.
+
+---
+
+## State Management
+
+### Wallet Context
+
+The `useWallet` hook provides global wallet state via React Context:
+
+```typescript
+interface WalletState {
+  isLoading: boolean;
+  isInitialized: boolean;
+  isLocked: boolean;
+  wallet: SultanWallet | null;
+  accounts: SultanAccount[];
+  activeAccountIndex: number;
+  error: string | null;
+  lockoutRemainingSeconds: number;
+}
+
+interface WalletContextValue extends WalletState {
+  // Computed
+  currentAccount: SultanAccount | null;
+  isLockedOut: boolean;
+  
+  // Actions
+  createWallet: (pin: string) => Promise<string>;
+  importWallet: (mnemonic: string, pin: string) => Promise<void>;
+  unlock: (pin: string) => Promise<boolean>;
+  lock: () => void;
+  deleteWalletData: () => Promise<void>;
+  setActiveAccount: (index: number) => void;
+  deriveNewAccount: (name?: string) => Promise<SultanAccount>;
+  clearError: () => void;
+}
+```
+
+### Session Timeout
+
+The wallet automatically locks after 5 minutes of inactivity:
+
+```typescript
+// Track user activity
+const events = ['mousedown', 'keydown', 'touchstart', 'scroll'];
+events.forEach(event => {
+  window.addEventListener(event, handleActivity, { passive: true });
+});
+
+// Check every 30 seconds
+useEffect(() => {
+  if (!state.isLocked && state.wallet) {
+    const interval = setInterval(() => {
+      if (checkSessionTimeout()) {
+        state.wallet?.destroy();
+        clearSession();
+        setState(prev => ({
+          ...prev,
+          isLocked: true,
+          wallet: null,
+          error: 'Session expired - please unlock again',
+        }));
+      }
+    }, 30000);
+    return () => clearInterval(interval);
+  }
+}, [state.isLocked, state.wallet]);
+```
+
+### Balance Queries
+
+React Query manages server state with automatic refetching:
+
+```typescript
+const { data: balanceData, isLoading } = useBalance(currentAccount?.address);
+const { data: stakingData } = useStakingInfo(currentAccount?.address);
+const { data: validators } = useValidators();
+const { data: networkStatus } = useNetworkStatus();
+```
+
+---
+
+## API Layer
+
+### RPC Configuration
+
+```typescript
+// Production RPC endpoint - NYC Bootstrap validator (HTTPS via nginx)
+const RPC_URL = 'https://rpc.sltn.io';
+```
+
+### REST API Client
+
+All API calls use a unified REST client:
+
+```typescript
+async function restApi<T>(
+  endpoint: string, 
+  method: 'GET' | 'POST' = 'GET',
+  body?: Record<string, unknown>
+): Promise<T> {
+  const options: RequestInit = {
+    method,
+    headers: { 'Content-Type': 'application/json' },
+  };
+
+  if (body && method === 'POST') {
+    options.body = JSON.stringify(body);
+  }
+
+  const response = await fetch(`${RPC_URL}${endpoint}`, options);
+
+  if (!response.ok) {
+    throw new Error(`API error: ${response.status}`);
+  }
+
+  return response.json();
+}
+```
+
+### Available Endpoints
+
+| Endpoint | Method | Description |
+|----------|--------|-------------|
+| `/balance/{address}` | GET | Account balance and nonce |
+| `/staking/delegations/{address}` | GET | Staking info |
+| `/staking/validators` | GET | Validator list |
+| `/status` | GET | Network status |
+| `/tx` | POST | Broadcast transaction |
+| `/governance/proposals` | GET | Governance proposals |
+| `/governance/proposals/{id}` | GET | Single proposal |
+| `/governance/proposals/{id}/vote` | POST | Submit vote |
+| `/staking/create_validator` | POST | Register validator |
+
+### Type Definitions
+
+```typescript
+export interface AccountBalance {
+  address: string;
+  available: string;  // Base units
+  balance: string;    // Alias
+  nonce: number;
+}
+
+export interface StakingInfo {
+  address: string;
+  staked: string;
+  pendingRewards: string;
+  validator?: string;
+  stakingAPY: number;  // ~13.33% (variable)
+}
+
+export interface Validator {
+  address: string;
+  name: string;
+  moniker: string;
+  totalStaked: string;
+  commission: number;
+  uptime: number;
+  status: 'active' | 'inactive' | 'jailed';
+}
+
+export interface NetworkStatus {
+  chainId: string;        // 'sultan-mainnet-1'
+  blockHeight: number;
+  blockTime: number;      // 2 seconds
+  validatorCount: number;
+  totalStaked: string;
+  stakingAPY: number;
+}
+```
+
+---
+
+## Screen Components
+
+### Navigation Flow
+
+```
+Welcome â”€â”¬â”€> CreateWallet â”€â”€> Dashboard
+         â””â”€> ImportWallet â”€â”€> Dashboard
+                              â”‚
+Unlock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+                              â”‚
+Dashboard â”€â”¬â”€> Send
+           â”œâ”€> Receive
+           â”œâ”€> Stake â”€â”€â”€â”€â”€â”€â”€â”€> BecomeValidator
+           â”œâ”€> Governance
+           â”œâ”€> NFTs
+           â”œâ”€> Activity
+           â””â”€> Settings
+```
+
+### Screen Responsibilities
+
+| Screen | Purpose | Key Features |
+|--------|---------|--------------|
+| **Welcome** | Onboarding | Create/Import options |
+| **CreateWallet** | Mnemonic generation | 24-word display, backup verification |
+| **ImportWallet** | Mnemonic import | Word-by-word entry, validation |
+| **Unlock** | PIN authentication | Rate limiting, lockout display |
+| **Dashboard** | Main wallet view | Balance, quick actions, network status |
+| **Send** | Send transactions | Amount validation, PIN confirmation |
+| **Receive** | Display address | QR code, copy address |
+| **Stake** | Staking interface | Validator selection, stake/unstake |
+| **BecomeValidator** | Validator registration | 10,000 SLTN minimum stake |
+| **Governance** | Proposal voting | Yes/No/Abstain/NoWithVeto |
+| **NFTs** | NFT gallery | CW721 token display |
+| **Activity** | Transaction history | Pending, confirmed, failed |
+| **Settings** | Configuration | Theme, 2FA, export mnemonic |
+
+### Route Protection
+
+Protected routes require initialized and unlocked wallet:
+
+```typescript
+<Route 
+  path="/dashboard" 
+  element={isInitialized && !isLocked ? <Dashboard /> : <Navigate to="/" replace />} 
+/>
+```
+
+---
+
+## PWA Configuration
+
+### Service Worker
+
+Generated by `vite-plugin-pwa` with Workbox:
+
+```typescript
+VitePWA({
+  registerType: 'autoUpdate',
+  includeAssets: ['favicon.ico', 'apple-touch-icon.png', 'masked-icon.svg'],
+  manifest: {
+    name: 'Sultan Wallet',
+    short_name: 'Sultan',
+    description: 'Zero-fee blockchain wallet for SLTN',
+    theme_color: '#000000',
+    background_color: '#000000',
+    display: 'standalone',
+    orientation: 'portrait',
+    scope: '/',
+    start_url: '/',
+    icons: [
+      { src: 'pwa-192x192.svg', sizes: '192x192', type: 'image/svg+xml' },
+      { src: 'pwa-512x512.svg', sizes: '512x512', type: 'image/svg+xml' },
+      { src: 'pwa-512x512.svg', sizes: '512x512', type: 'image/svg+xml', purpose: 'any maskable' }
+    ]
+  },
+  workbox: {
+    globPatterns: ['**/*.{js,css,html,ico,png,svg,woff2}'],
+    runtimeCaching: [
+      {
+        urlPattern: /^https:\/\/rpc\.sltn\.io\/.*/i,
+        handler: 'NetworkFirst',
+        options: {
+          cacheName: 'sultan-rpc-cache',
+          expiration: {
+            maxEntries: 50,
+            maxAgeSeconds: 60  // 1 minute for RPC responses
+          },
+          cacheableResponse: {
+            statuses: [0, 200]
+          }
+        }
+      }
+    ]
+  }
+})
+```
+
+### Caching Strategy
+
+- **Static Assets**: Precached during install
+- **RPC Responses**: NetworkFirst with 60-second stale fallback
+- **App Shell**: Cached for offline access
+
+---
+
+## Build & Deployment
+
+### Build Commands
+
+```bash
+# Development server
+npm run dev
+
+# Production build
+npm run build
+
+# Preview production build
+npm run preview
+
+# Run tests
+npm run test
+```
+
+### Build Output
+
+```
+dist/
+â”œâ”€â”€ index.html
+â”œâ”€â”€ assets/
+â”‚   â”œâ”€â”€ index-[hash].js
+â”‚   â””â”€â”€ index-[hash].css
+â”œâ”€â”€ pwa-192x192.svg
+â”œâ”€â”€ pwa-512x512.svg
+â”œâ”€â”€ manifest.webmanifest
+â””â”€â”€ sw.js
+```
+
+### Deployment Requirements
+
+- **Static hosting** (no Node.js server required)
+- **HTTPS required** for PWA features
+- **Output directory**: `dist/`
+
+### Replit Deployment
+
+```toml
+# .replit
+run = "npm run build && npx serve dist"
+entrypoint = "index.html"
+
+[deployment]
+publicDir = "dist"
+deploymentTarget = "static"
+```
+
+---
+
+## Testing Strategy
+
+### Test Framework
+
+```json
+{
+  "devDependencies": {
+    "@testing-library/jest-dom": "^6.9.1",
+    "@testing-library/react": "^16.3.1",
+    "@vitest/coverage-v8": "^2.1.9",
+    "vitest": "^2.1.8"
+  }
+}
+```
+
+### Test Commands
+
+```bash
+# Run all tests
+npm run test
+
+# Watch mode
+npm run test:watch
+
+# With coverage
+npx vitest --coverage
+```
+
+### Test Categories
+
+1. **Core Module Tests** (`src/core/__tests__/`)
+   - Mnemonic generation/validation
+   - Key derivation
+   - Address encoding
+   - Transaction signing
+   - Encryption/decryption
+
+2. **Component Tests** (`src/__tests__/`)
+   - Screen rendering
+   - User interactions
+   - Navigation flows
+
+3. **Integration Tests**
+   - API mocking
+   - Full user journeys
+
+---
+
+## Security Audit Notes
+
+### âœ… Implemented
+
+- [x] Ed25519 signatures (audited @noble/ed25519)
+- [x] BIP39 mnemonic generation (audited @scure/bip39)
+- [x] AES-256-GCM encryption for storage
+- [x] PBKDF2 key derivation (600K iterations)
+- [x] Secure memory wiping (multi-pass)
+- [x] PIN rate limiting (5 attempts, 5-minute lockout)
+- [x] Session timeout (5 minutes)
+- [x] Private keys derived on-demand, never cached
+- [x] XOR-encrypted SecureString for sensitive data
+- [x] Input validation for addresses and amounts
+- [x] Sultan-only address validation (prevents cross-chain mistakes)
+
+### ğŸ“‹ Recommendations
+
+1. **CSP Headers**: Implement strict Content-Security-Policy
+2. **Subresource Integrity**: Add SRI for external resources
+3. **Regular Dependency Audits**: `npm audit` on each release
+4. **Formal Audit**: Consider third-party security audit before mainnet
+
+---
+
+## Appendix: Chain Information
+
+| Parameter | Value |
+|-----------|-------|
+| Chain ID | sultan-mainnet-1 |
+| Block Time | 2 seconds |
+| TPS Capacity | 64,000 |
+| Shard Count | 16 |
+| Decimals | 9 |
+| Address Prefix | sultan |
+| BIP44 Coin Type | 1984 |
+| Staking APY | ~13.33% (variable) |
+| Min Validator Stake | 10,000 SLTN |
+| RPC Endpoint | https://rpc.sltn.io |
+
+---
+
+*This document is maintained alongside the codebase. For the latest updates, see the wallet-extension source code.*
diff --git a/wallet-extension/audit/CHECKLIST.md b/wallet-extension/audit/CHECKLIST.md
new file mode 100644
index 00000000..25dc0163
--- /dev/null
+++ b/wallet-extension/audit/CHECKLIST.md
@@ -0,0 +1,315 @@
+# Security Audit Checklist
+
+**Project**: Sultan Wallet  
+**Version**: 1.0  
+**Date**: December 2025  
+
+Use this checklist during security audit to verify all security controls.
+
+---
+
+## 1. Key Management
+
+### 1.1 Mnemonic Handling
+
+- [ ] **M1**: Mnemonic generated with 256-bit entropy (24 words)
+  - File: `wallet.ts:generateMnemonic()`
+  - Verify: Uses `@scure/bip39` with proper entropy
+
+- [ ] **M2**: Mnemonic validated using BIP39 checksum
+  - File: `wallet.ts:validateMnemonic()`
+  - Verify: Rejects invalid word combinations
+
+- [ ] **M3**: Mnemonic stored using SecureString (XOR encrypted)
+  - File: `wallet.ts` - `secureMnemonic` field
+  - Verify: Never stored as plain string after creation
+
+- [ ] **M4**: Mnemonic access via callback pattern only
+  - File: `wallet.ts:withMnemonic()`
+  - Verify: No `getMnemonic()` returning raw string
+
+### 1.2 Private Key Handling
+
+- [ ] **K1**: Private keys derived on-demand
+  - File: `wallet.ts:derivePrivateKeyForSigning()`
+  - Verify: Keys not cached in account objects
+
+- [ ] **K2**: Private keys wiped after signing
+  - File: `wallet.ts:signTransaction()`, `signMessage()`
+  - Verify: `finally` block calls `secureWipe()`
+
+- [ ] **K3**: Account objects do NOT contain privateKey
+  - File: `wallet.ts` - `SultanAccount` interface
+  - Verify: Only address, publicKey, index, path exposed
+
+- [ ] **K4**: Correct SLIP-0010 derivation path
+  - Expected: `m/44'/1984'/0'/0'/{index}`
+  - Verify: All path components are hardened
+
+---
+
+## 2. Encryption
+
+### 2.1 Storage Encryption
+
+- [ ] **E1**: AES-256-GCM used for wallet encryption
+  - File: `storage.secure.ts`
+  - Verify: `crypto.subtle.encrypt({ name: 'AES-GCM', ... })`
+
+- [ ] **E2**: Unique IV generated per encryption
+  - File: `storage.secure.ts`
+  - Verify: 12-byte IV from `crypto.getRandomValues()`
+
+- [ ] **E3**: IV stored alongside ciphertext
+  - Verify: Format includes `{ iv, salt, ciphertext, version }`
+
+- [ ] **E4**: Authentication tag verified on decrypt
+  - Verify: GCM mode provides implicit authentication
+
+### 2.2 Key Derivation
+
+- [ ] **D1**: PBKDF2 iterations â‰¥ 600,000
+  - File: `security.ts` or `storage.secure.ts`
+  - Verify: `PBKDF2_ITERATIONS` constant value
+
+- [ ] **D2**: Unique salt per wallet
+  - Verify: 32-byte salt from `crypto.getRandomValues()`
+
+- [ ] **D3**: Derived key used only for encryption
+  - Verify: Key not stored, re-derived on each unlock
+
+---
+
+## 3. Memory Safety
+
+### 3.1 Secure Wipe
+
+- [ ] **W1**: secureWipe() overwrites with random then zeros
+  - File: `security.ts:secureWipe()`
+  - Verify: Multi-pass overwrite
+
+- [ ] **W2**: secureWipe() called on sensitive Uint8Arrays
+  - Verify: Called in `finally` blocks after signing
+
+- [ ] **W3**: SecureString.destroy() wipes internal data
+  - File: `security.ts:SecureString.destroy()`
+  - Verify: Internal buffers zeroed
+
+### 3.2 SecureString
+
+- [ ] **S1**: SecureString uses XOR encryption
+  - File: `security.ts:SecureString`
+  - Verify: Random key XORed with plaintext
+
+- [ ] **S2**: XOR key regenerated on each store
+  - Verify: New random key per SecureString instance
+
+- [ ] **S3**: getValue() returns decrypted copy
+  - Verify: Caller responsible for wiping returned value
+
+---
+
+## 4. Authentication
+
+### 4.1 PIN/Password
+
+- [ ] **P1**: PIN minimum length enforced (â‰¥6)
+  - File: `security.ts:MIN_PIN_LENGTH`
+  - Verify: UI and validation enforce minimum
+
+- [ ] **P2**: PIN never stored (only derived key)
+  - Verify: No plaintext PIN in storage
+
+- [ ] **P3**: PIN verification uses constant-time comparison
+  - File: `security.ts:constantTimeEqual()` or `verifySessionPin()`
+  - Verify: No early exit on mismatch
+
+### 4.2 Rate Limiting
+
+- [ ] **R1**: Failed attempts tracked
+  - File: `security.ts:recordFailedAttempt()`
+  - Verify: Counter increments correctly
+
+- [ ] **R2**: Lockout after 5 failures
+  - File: `security.ts:MAX_PIN_ATTEMPTS`
+  - Verify: `isLockedOut()` returns true after 5
+
+- [ ] **R3**: Lockout duration is 5 minutes
+  - File: `security.ts:LOCKOUT_DURATION_MS`
+  - Verify: 300,000 ms
+
+- [ ] **R4**: Lockout persists across sessions
+  - Verify: State stored in localStorage
+
+- [ ] **R5**: Counter resets on successful auth
+  - File: `security.ts:clearFailedAttempts()`
+  - Verify: Called on successful unlock
+
+### 4.3 Transaction Authorization
+
+- [ ] **T1**: PIN required before signing
+  - File: `Send.tsx` - PIN step
+  - Verify: `verifySessionPin()` called before `signTransaction()`
+
+- [ ] **T2**: Transaction details shown before PIN entry
+  - Verify: Amount, recipient visible during PIN step
+
+---
+
+## 5. Session Management
+
+### 5.1 Session Lifecycle
+
+- [ ] **L1**: Session starts on successful unlock
+  - File: `security.ts:startSession()`
+  - Verify: Called after PIN verification
+
+- [ ] **L2**: Session timeout after 5 minutes inactivity
+  - File: `security.ts:SESSION_TIMEOUT_MS`
+  - Verify: 300,000 ms
+
+- [ ] **L3**: Activity extends session
+  - File: `security.ts:recordActivity()`
+  - Verify: Timer reset on user interaction
+
+- [ ] **L4**: Session cleared on lock
+  - File: `security.ts:endSession()`
+  - Verify: Session PIN hash cleared, mnemonic destroyed
+
+### 5.2 Session State
+
+- [ ] **SS1**: Session PIN hash stored securely
+  - File: `security.ts:setSessionPinHash()`
+  - Verify: Used for transaction authorization
+
+- [ ] **SS2**: Session state not persisted to storage
+  - Verify: Memory-only, lost on page reload
+
+---
+
+## 6. Input Validation
+
+### 6.1 Address Validation
+
+- [ ] **A1**: Bech32 checksum verified
+  - File: `wallet.ts:isValidAddress()`
+  - Verify: Invalid checksum rejected
+
+- [ ] **A2**: Correct prefix enforced ("sultan")
+  - Verify: Other prefixes rejected
+
+- [ ] **A3**: Malformed addresses rejected
+  - Verify: Empty string, wrong format handled
+
+### 6.2 Amount Validation
+
+- [ ] **AM1**: Negative amounts rejected
+  - Verify: UI and core validation
+
+- [ ] **AM2**: Precision limited to 9 decimals
+  - File: `wallet.ts:parseSLTN()`
+  - Verify: Excess precision truncated
+
+- [ ] **AM3**: Overflow prevented
+  - Verify: BigInt used for amounts
+
+---
+
+## 7. Logging & Information Disclosure
+
+### 7.1 Production Logging
+
+- [ ] **LOG1**: No console.log in production
+  - File: `logger.ts`
+  - Verify: Debug/info only in dev mode
+
+- [ ] **LOG2**: Sensitive patterns filtered
+  - Verify: mnemonic, private, key, seed, password, pin blocked
+
+- [ ] **LOG3**: Error logs sanitized
+  - Verify: Sensitive data redacted before logging
+
+### 7.2 Error Handling
+
+- [ ] **ERR1**: Crypto errors don't leak sensitive data
+  - Verify: Generic error messages to user
+
+- [ ] **ERR2**: Stack traces not exposed in production
+  - Verify: Error boundaries catch and sanitize
+
+---
+
+## 8. Content Security
+
+### 8.1 CSP
+
+- [ ] **CSP1**: No 'unsafe-inline' for scripts
+  - File: `csp.ts` or meta tag
+  - Verify: `script-src 'self'`
+
+- [ ] **CSP2**: No 'unsafe-eval'
+  - Verify: No eval(), Function constructor
+
+- [ ] **CSP3**: frame-ancestors 'none'
+  - Verify: Prevents clickjacking
+
+### 8.2 XSS Prevention
+
+- [ ] **XSS1**: No dangerouslySetInnerHTML
+  - Verify: Grep codebase
+
+- [ ] **XSS2**: User input sanitized before display
+  - Verify: React auto-escaping used
+
+---
+
+## 9. Clipboard Security
+
+- [ ] **C1**: Mnemonic cleared from clipboard in 30s
+  - File: `clipboard.ts:copyMnemonic()`
+  - Verify: `SENSITIVE_CLEAR_TIMEOUT_MS`
+
+- [ ] **C2**: Addresses cleared from clipboard in 60s
+  - File: `clipboard.ts:copyAddress()`
+  - Verify: `DEFAULT_CLEAR_TIMEOUT_MS`
+
+- [ ] **C3**: Clipboard cleared on wallet lock
+  - Verify: Optional, nice-to-have
+
+---
+
+## 10. Signature Verification
+
+### 10.1 Ed25519
+
+- [ ] **SIG1**: Signatures are 64 bytes (128 hex chars)
+  - Verify: `signTransaction()` output format
+
+- [ ] **SIG2**: Deterministic signatures for same input
+  - Verify: Ed25519 is deterministic
+
+- [ ] **SIG3**: Different signatures for different inputs
+  - Verify: Nonce changes produce different sigs
+
+---
+
+## Audit Sign-Off
+
+| Section | Auditor | Date | Pass/Fail |
+|---------|---------|------|-----------|
+| 1. Key Management | | | |
+| 2. Encryption | | | |
+| 3. Memory Safety | | | |
+| 4. Authentication | | | |
+| 5. Session Management | | | |
+| 6. Input Validation | | | |
+| 7. Logging | | | |
+| 8. Content Security | | | |
+| 9. Clipboard | | | |
+| 10. Signatures | | | |
+
+**Overall Result**: ____________
+
+**Auditor Signature**: ____________
+
+**Date**: ____________
diff --git a/wallet-extension/audit/DEPENDENCIES.md b/wallet-extension/audit/DEPENDENCIES.md
new file mode 100644
index 00000000..6043f86a
--- /dev/null
+++ b/wallet-extension/audit/DEPENDENCIES.md
@@ -0,0 +1,166 @@
+# Sultan Wallet Dependency Security Analysis
+
+**Document Version**: 1.0  
+**Date**: December 2025  
+**Last Audit**: `npm audit` run on December 20, 2025  
+
+---
+
+## Production Dependencies
+
+These dependencies are bundled into the production wallet:
+
+### Cryptographic Libraries (CRITICAL)
+
+| Package | Version | Audit Status | Notes |
+|---------|---------|--------------|-------|
+| `@noble/ed25519` | 2.2.3 | âœ… **Cure53 Audited** | Ed25519 signatures. [Audit Report](https://github.com/paulmillr/noble-curves#security) |
+| `@noble/hashes` | 1.7.1 | âœ… **Cure53 Audited** | SHA-256, SHA-512, PBKDF2. [Audit Report](https://github.com/paulmillr/noble-hashes#security) |
+| `@scure/bip39` | 1.5.4 | âœ… **Cure53 Audited** | BIP39 mnemonic generation. [Audit Report](https://github.com/paulmillr/scure-bip39#security) |
+| `bech32` | 2.0.0 | âœ… **Widely Used** | Address encoding. Used by Bitcoin, Cosmos ecosystems |
+
+**All cryptographic libraries are from Paul Miller's audited noble/scure family.**
+
+### UI Framework
+
+| Package | Version | Audit Status | Notes |
+|---------|---------|--------------|-------|
+| `react` | 18.3.1 | âœ… **Meta Maintained** | Facebook/Meta security team maintains |
+| `react-dom` | 18.3.1 | âœ… **Meta Maintained** | DOM rendering |
+| `react-router-dom` | 7.1.0 | âœ… **Widely Used** | Client-side routing |
+
+### Utility Libraries
+
+| Package | Version | Audit Status | Notes |
+|---------|---------|--------------|-------|
+| `@tanstack/react-query` | 5.62.16 | âœ… **Widely Used** | Data fetching, no security concerns |
+| `qrcode` | 1.5.4 | âš ï¸ **Review** | QR code generation, minimal attack surface |
+
+---
+
+## Development Dependencies
+
+These are NOT included in production builds:
+
+| Package | Version | Purpose | Production Impact |
+|---------|---------|---------|-------------------|
+| `vite` | 6.0.5 | Build tool | None (dev only) |
+| `typescript` | 5.6.2 | Type checking | None (dev only) |
+| `vitest` | 2.1.8 | Test runner | None (dev only) |
+| `jsdom` | 27.3.0 | Test environment | None (dev only) |
+| `@vitejs/plugin-react` | 4.3.4 | React HMR | None (dev only) |
+| `vite-plugin-pwa` | 0.21.1 | PWA generation | Build-time only |
+| `workbox-window` | 7.3.0 | Service worker | Runtime SW only |
+| `@vitest/coverage-v8` | 2.1.9 | Code coverage | None (dev only) |
+
+---
+
+## npm audit Results
+
+### Summary
+
+| Severity | Count | In Production? |
+|----------|-------|----------------|
+| Critical | 0 | - |
+| High | 0 | - |
+| Moderate | 5 | âŒ No (dev deps only) |
+| Low | 0 | - |
+
+### Moderate Vulnerabilities (Development Only)
+
+All moderate vulnerabilities are in **development dependencies** and do **NOT** affect production builds:
+
+1. **esbuild** (via vitest) - GHSA-67mh-4wv8-2f99
+   - Issue: Dev server CORS bypass
+   - Impact: None - dev dependency only
+   - Fix: Upgrade vitest to 4.x (breaking change, defer)
+
+2. **vite** (via vitest) - Transitive from esbuild
+   - Impact: None - dev dependency only
+
+### Production Dependencies: CLEAN âœ…
+
+```
+0 vulnerabilities in production dependencies
+```
+
+---
+
+## Supply Chain Security
+
+### Verification Steps
+
+```bash
+# Verify package integrity
+npm ci --ignore-scripts
+npm audit signatures
+
+# Check for known vulnerabilities
+npm audit --production
+
+# Verify lockfile integrity
+npm ci
+```
+
+### Lockfile Policy
+
+- `package-lock.json` is committed to repository
+- Exact versions pinned for reproducible builds
+- CI/CD uses `npm ci` (not `npm install`)
+
+---
+
+## Web Crypto API Usage
+
+The wallet uses the browser's native Web Crypto API for:
+
+| Operation | API Used | Implementation |
+|-----------|----------|----------------|
+| AES-GCM Encryption | `crypto.subtle.encrypt()` | Native browser |
+| AES-GCM Decryption | `crypto.subtle.decrypt()` | Native browser |
+| PBKDF2 Key Derivation | `crypto.subtle.deriveBits()` | Native browser |
+| Random Generation | `crypto.getRandomValues()` | Native browser |
+
+**No JavaScript-only crypto for symmetric encryption** - all handled by audited browser implementations.
+
+---
+
+## Dependency Update Policy
+
+| Category | Policy |
+|----------|--------|
+| Crypto libraries | Update within 48 hours of security release |
+| React/UI | Monthly updates, test thoroughly |
+| Dev dependencies | Quarterly, unless security issue |
+| Breaking changes | Evaluate risk/benefit, schedule for next major |
+
+---
+
+## License Compliance
+
+All dependencies use permissive licenses compatible with MIT:
+
+| License | Packages |
+|---------|----------|
+| MIT | react, react-dom, react-router-dom, @noble/*, @scure/*, bech32, qrcode, vite, vitest |
+| ISC | - |
+| Apache-2.0 | - |
+
+No GPL or copyleft licenses in production dependencies.
+
+---
+
+## Recommendations for Auditors
+
+1. **Focus on first-party code** - All crypto libraries are Cure53 audited
+2. **Verify Web Crypto usage** - Check `storage.secure.ts` for correct API usage
+3. **Review key handling** - Focus on `wallet.ts` key derivation and wiping
+4. **Check for sensitive data leaks** - Verify `logger.ts` filters work correctly
+
+---
+
+## Revision History
+
+| Version | Date | Changes |
+|---------|------|---------|
+| 1.0 | Dec 2025 | Initial dependency analysis |
diff --git a/wallet-extension/audit/README.md b/wallet-extension/audit/README.md
new file mode 100644
index 00000000..3e9d6dab
--- /dev/null
+++ b/wallet-extension/audit/README.md
@@ -0,0 +1,63 @@
+# Sultan Wallet - Audit Package
+
+This directory contains all documentation required for a security audit.
+
+## Contents
+
+| Document | Description |
+|----------|-------------|
+| [SCOPE.md](./SCOPE.md) | Defines exactly what files are in-scope for audit |
+| [DEPENDENCIES.md](./DEPENDENCIES.md) | Analysis of all dependencies and their security status |
+| [THREAT_MODEL.md](./THREAT_MODEL.md) | Comprehensive threat model and risk assessment |
+| [CHECKLIST.md](./CHECKLIST.md) | Audit checklist for auditors to complete |
+| [npm-audit.json](./npm-audit.json) | Raw npm audit output |
+
+## Quick Start for Auditors
+
+### 1. Clone and Setup
+
+```bash
+git clone https://github.com/Wollnbergen/0xv7.git
+cd 0xv7/wallet-extension
+npm ci
+```
+
+### 2. Run Tests
+
+```bash
+npm test
+```
+
+### 3. Review Scope
+
+Start with [SCOPE.md](./SCOPE.md) to understand:
+- Which files to audit (1,623 LOC critical)
+- Cryptographic algorithms used
+- Security properties to verify
+
+### 4. Use Checklist
+
+Work through [CHECKLIST.md](./CHECKLIST.md) to systematically verify all security controls.
+
+## Critical Files
+
+Priority order for review:
+
+1. **`src/core/wallet.ts`** - Key derivation, signing
+2. **`src/core/security.ts`** - Memory protection, rate limiting
+3. **`src/core/storage.secure.ts`** - Encryption, storage
+
+## Key Findings to Look For
+
+- [ ] Mnemonic handling (never plaintext in memory)
+- [ ] Private key lifecycle (derive â†’ use â†’ wipe)
+- [ ] AES-GCM usage (unique IV, proper auth)
+- [ ] PBKDF2 iterations (â‰¥600,000)
+- [ ] Rate limiting implementation
+- [ ] Session timeout enforcement
+
+## Contact
+
+**Security Issues**: security@sltn.io  
+**Repository**: https://github.com/Wollnbergen/0xv7  
+**Audit Target**: `wallet-extension/` directory  
diff --git a/wallet-extension/audit/SCOPE.md b/wallet-extension/audit/SCOPE.md
new file mode 100644
index 00000000..92d872a1
--- /dev/null
+++ b/wallet-extension/audit/SCOPE.md
@@ -0,0 +1,192 @@
+# Sultan Wallet Security Audit Scope
+
+**Document Version**: 1.0  
+**Date**: December 2025  
+**Repository**: https://github.com/Wollnbergen/0xv7  
+**Audit Target**: `wallet-extension/` directory  
+
+---
+
+## Executive Summary
+
+Sultan Wallet is a Progressive Web App (PWA) cryptocurrency wallet for the Sultan blockchain network. This document defines the scope for security auditing.
+
+### Key Statistics
+
+| Metric | Value |
+|--------|-------|
+| Total LOC (core) | ~2,772 |
+| Total LOC (with tests) | ~3,656 |
+| Primary Language | TypeScript 5.6 |
+| Framework | React 18.3, Vite 6 |
+| Crypto Libraries | @noble/ed25519, @noble/hashes, @scure/bip39 |
+
+---
+
+## In-Scope Components
+
+### 1. Cryptographic Core (CRITICAL)
+
+These files contain all cryptographic operations and MUST be audited:
+
+| File | LOC | Description | Priority |
+|------|-----|-------------|----------|
+| `src/core/wallet.ts` | 544 | Key derivation, Ed25519 signing, address encoding | **CRITICAL** |
+| `src/core/security.ts` | 611 | SecureString, memory wiping, rate limiting, sessions | **CRITICAL** |
+| `src/core/storage.secure.ts` | 468 | AES-256-GCM encryption, PBKDF2, IndexedDB storage | **CRITICAL** |
+
+**Total Critical LOC**: 1,623
+
+### 2. Security Utilities (HIGH)
+
+| File | LOC | Description | Priority |
+|------|-----|-------------|----------|
+| `src/core/clipboard.ts` | 155 | Secure clipboard with auto-clear | HIGH |
+| `src/core/logger.ts` | 140 | Production logging guards, sensitive data filtering | HIGH |
+| `src/core/csp.ts` | 192 | Content Security Policy enforcement | HIGH |
+| `src/core/totp.ts` | 404 | Time-based OTP (if 2FA enabled) | HIGH |
+
+**Total High Priority LOC**: 891
+
+### 3. Legacy/Deprecated (LOW)
+
+| File | LOC | Description | Priority |
+|------|-----|-------------|----------|
+| `src/core/storage.ts` | 258 | Old storage (being phased out) | LOW |
+
+---
+
+## Out of Scope
+
+The following are explicitly **NOT** in audit scope:
+
+| Category | Reason |
+|----------|--------|
+| `src/screens/*.tsx` | UI presentation only, no crypto operations |
+| `src/components/*.tsx` | Reusable UI components |
+| `src/api/*.ts` | Network API client (reviewed separately) |
+| `src/hooks/*.tsx` | React state management (except security-related) |
+| `*.css`, `*.html` | Styling, no security impact |
+| `src/core/__tests__/*.ts` | Test files (for reference only) |
+| `node_modules/` | Third-party dependencies (see DEPENDENCIES.md) |
+| Build configuration | `vite.config.ts`, `tsconfig.json` |
+
+### Conditional Scope
+
+| Component | Condition |
+|-----------|-----------|
+| `src/hooks/useWallet.tsx` | Include if auditor wants session management context |
+| `src/screens/Send.tsx` | Include PIN verification flow review |
+
+---
+
+## Cryptographic Algorithms
+
+### Key Derivation
+- **BIP39**: 24-word mnemonic (256-bit entropy)
+- **SLIP-0010**: Ed25519 key derivation from seed
+- **Path**: `m/44'/1984'/0'/0'/{index}` (hardened)
+
+### Encryption at Rest
+- **Algorithm**: AES-256-GCM
+- **IV**: 12 bytes, cryptographically random
+- **Key Derivation**: PBKDF2-HMAC-SHA256
+- **Iterations**: 600,000 (OWASP 2024 recommendation)
+- **Salt**: 32 bytes, cryptographically random
+
+### Signatures
+- **Algorithm**: Ed25519 (RFC 8032)
+- **Library**: @noble/ed25519 v2.2.3 (Cure53 audited)
+
+### Address Encoding
+- **Format**: Bech32
+- **Prefix**: `sultan`
+- **Data**: SHA-256 of public key, first 20 bytes
+
+---
+
+## Security Properties to Verify
+
+### 1. Key Management
+- [ ] Mnemonic never stored in plaintext
+- [ ] Private keys derived on-demand, never cached
+- [ ] Private keys wiped after signing operations
+- [ ] SecureString XOR encryption provides memory protection
+
+### 2. Encryption
+- [ ] AES-GCM used correctly (unique IV per encryption)
+- [ ] PBKDF2 iterations meet OWASP standards (â‰¥600,000)
+- [ ] Encryption key never persisted
+- [ ] Authenticated encryption prevents tampering
+
+### 3. Rate Limiting
+- [ ] Failed PIN attempts tracked correctly
+- [ ] Lockout enforced after 5 failures
+- [ ] Lockout persists across browser sessions
+- [ ] No timing attacks on PIN verification
+
+### 4. Session Management
+- [ ] Session timeout enforced (5 minutes)
+- [ ] Activity tracking extends session correctly
+- [ ] Session cleared on lock
+- [ ] No session fixation vulnerabilities
+
+### 5. Memory Safety
+- [ ] `secureWipe()` zeroes sensitive data
+- [ ] No sensitive data in console logs (production)
+- [ ] Clipboard auto-cleared for sensitive data
+
+### 6. Input Validation
+- [ ] Address validation (bech32 checksum)
+- [ ] Amount validation (no negative, precision limits)
+- [ ] Mnemonic validation (BIP39 wordlist + checksum)
+
+---
+
+## Threat Model Reference
+
+See `SECURITY.md` in the wallet-extension root for:
+- Full threat model
+- Security assumptions
+- Known limitations
+- Attack surface analysis
+
+---
+
+## Test Coverage
+
+| Test File | Tests | Description |
+|-----------|-------|-------------|
+| `wallet.test.ts` | 20+ | Key derivation, signing, address validation |
+| `security.test.ts` | 25+ | Memory wiping, rate limiting, sessions |
+| `storage.secure.test.ts` | 10+ | Encryption, decryption, storage ops |
+
+**Run tests**: `npm test`  
+**Current status**: 73 pass, 6 skipped (IndexedDB unavailable in Node)
+
+---
+
+## Commit for Audit
+
+**Branch**: `feat/become-validator`  
+**Commit**: _(to be filled before audit)_  
+
+```bash
+# Get exact commit hash
+git rev-parse HEAD
+```
+
+---
+
+## Contact
+
+**Security Contact**: security@sltn.io  
+**Repository Owner**: Wollnbergen  
+
+---
+
+## Revision History
+
+| Version | Date | Changes |
+|---------|------|---------|
+| 1.0 | Dec 2025 | Initial audit scope document |
diff --git a/wallet-extension/audit/THREAT_MODEL.md b/wallet-extension/audit/THREAT_MODEL.md
new file mode 100644
index 00000000..ac279a66
--- /dev/null
+++ b/wallet-extension/audit/THREAT_MODEL.md
@@ -0,0 +1,355 @@
+# Sultan Wallet Threat Model
+
+**Document Version**: 1.0  
+**Date**: December 2025  
+**Classification**: Security-Sensitive  
+
+---
+
+## 1. System Overview
+
+### 1.1 What is Sultan Wallet?
+
+Sultan Wallet is a Progressive Web App (PWA) cryptocurrency wallet that:
+- Generates and stores Ed25519 key pairs
+- Signs transactions for the Sultan blockchain
+- Runs entirely in the browser (no backend for key operations)
+- Stores encrypted wallet data in IndexedDB
+
+### 1.2 Architecture Diagram
+
+```
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚                         User's Browser                          â”‚
+â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
+â”‚  â”‚                    Sultan Wallet PWA                     â”‚   â”‚
+â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
+â”‚  â”‚  UI Layer           â”‚  Core Layer                       â”‚   â”‚
+â”‚  â”‚  - React screens    â”‚  - wallet.ts (key ops)            â”‚   â”‚
+â”‚  â”‚  - User input       â”‚  - security.ts (memory safety)    â”‚   â”‚
+â”‚  â”‚  - Display data     â”‚  - storage.secure.ts (encryption) â”‚   â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
+â”‚             â”‚                         â”‚                         â”‚
+â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
+â”‚  â”‚   Web Crypto API    â”‚   â”‚        IndexedDB              â”‚   â”‚
+â”‚  â”‚   (browser native)  â”‚   â”‚   (encrypted wallet data)     â”‚   â”‚
+â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+                              â”‚
+                              â”‚ HTTPS
+                              â–¼
+                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+                    â”‚   Sultan RPC Node   â”‚
+                    â”‚   (read-only ops)   â”‚
+                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+```
+
+---
+
+## 2. Assets
+
+### 2.1 Asset Classification
+
+| Asset | Value | Confidentiality | Integrity | Availability |
+|-------|-------|-----------------|-----------|--------------|
+| **Mnemonic phrase** | User's entire wallet | CRITICAL | CRITICAL | HIGH |
+| **Private keys** | Derived from mnemonic | CRITICAL | CRITICAL | HIGH |
+| **PIN/Password** | Protects encrypted data | HIGH | HIGH | MEDIUM |
+| **Encrypted wallet blob** | Protected mnemonic | MEDIUM | HIGH | HIGH |
+| **Account addresses** | Public identifiers | LOW | MEDIUM | HIGH |
+| **Transaction history** | Privacy-sensitive | MEDIUM | LOW | LOW |
+| **Session state** | Temporary unlock | MEDIUM | MEDIUM | LOW |
+
+### 2.2 Data Flow
+
+```
+User PIN â”€â”€â–º PBKDF2 (600K iterations) â”€â”€â–º Encryption Key
+                                              â”‚
+                                              â–¼
+Mnemonic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º AES-256-GCM Encrypt
+                                              â”‚
+                                              â–¼
+                                         IndexedDB
+                                    (encrypted blob stored)
+```
+
+---
+
+## 3. Threat Actors
+
+### 3.1 Actor Profiles
+
+| Actor | Capability | Motivation | Likelihood |
+|-------|------------|------------|------------|
+| **Script Kiddie** | Automated tools, known exploits | Opportunistic theft | HIGH |
+| **Cybercriminal** | Custom exploits, phishing | Financial gain | HIGH |
+| **Malware Author** | Keyloggers, clipboard hijackers | Mass theft | MEDIUM |
+| **Insider Threat** | Code access, social engineering | Various | LOW |
+| **Nation State** | Advanced persistent threats | Targeted surveillance | VERY LOW |
+
+### 3.2 Actor Capabilities Matrix
+
+| Capability | Script Kiddie | Cybercriminal | Malware | Nation State |
+|------------|---------------|---------------|---------|--------------|
+| Network interception | âœ— | âœ“ | âœ— | âœ“ |
+| XSS exploitation | âœ“ | âœ“ | âœ— | âœ“ |
+| Phishing | âœ“ | âœ“ | âœ— | âœ“ |
+| Browser exploits | âœ— | â–³ | âœ“ | âœ“ |
+| Physical access | âœ— | âœ— | âœ— | âœ“ |
+| Supply chain attack | âœ— | âœ— | âœ— | âœ“ |
+
+---
+
+## 4. Threats and Mitigations
+
+### 4.1 Network Attacks
+
+#### T1: Man-in-the-Middle (MITM)
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Attacker intercepts RPC traffic |
+| **Impact** | Can see addresses, balances, modify displayed data |
+| **Cannot** | Steal keys (signing is local) |
+| **Likelihood** | LOW (HTTPS required) |
+| **Mitigation** | HTTPS-only, CSP, future: certificate pinning |
+
+#### T2: DNS Hijacking
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Redirect to malicious wallet clone |
+| **Impact** | Phishing for mnemonic |
+| **Likelihood** | LOW |
+| **Mitigation** | User education, DNSSEC (planned), origin verification |
+
+### 4.2 Application Attacks
+
+#### T3: Cross-Site Scripting (XSS)
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Inject malicious JavaScript |
+| **Impact** | CRITICAL - Full wallet compromise |
+| **Likelihood** | MEDIUM |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] Strict Content Security Policy (no inline scripts)
+- [x] React's automatic XSS protection
+- [x] No `dangerouslySetInnerHTML` usage
+- [x] Input sanitization on user input
+- [x] No `eval()` or `Function()` constructor
+
+#### T4: Supply Chain Attack
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Compromised npm package |
+| **Impact** | CRITICAL - Backdoored crypto |
+| **Likelihood** | LOW |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] Minimal dependencies
+- [x] Audited crypto libraries (Cure53)
+- [x] Package-lock.json committed
+- [x] npm audit in CI
+- [ ] Subresource Integrity (planned)
+
+### 4.3 Local Attacks
+
+#### T5: Physical Device Access
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Attacker has unlocked device |
+| **Impact** | HIGH - Can view if wallet unlocked |
+| **Likelihood** | LOW |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] PIN required to unlock
+- [x] Auto-lock after 5 minutes inactivity
+- [x] Rate limiting on PIN attempts
+- [x] 5-minute lockout after 5 failures
+
+#### T6: Memory Forensics
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Extract secrets from RAM dump |
+| **Impact** | CRITICAL - Mnemonic recovery possible |
+| **Likelihood** | VERY LOW |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] SecureString XOR encryption in memory
+- [x] secureWipe() zeros sensitive data
+- [x] Private keys derived on-demand, wiped after use
+- [x] Minimal time in memory
+
+**Known Limitations:**
+- JavaScript strings are immutable (cannot wipe)
+- Browser may GC slowly
+- Swap file may contain secrets
+
+#### T7: Clipboard Hijacking
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Malware monitors clipboard for addresses/mnemonics |
+| **Impact** | MEDIUM - Address replacement, mnemonic theft |
+| **Likelihood** | MEDIUM |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] Auto-clear clipboard (30s for mnemonics, 60s for addresses)
+- [x] Warning before copying mnemonic
+- [ ] Address verification prompt (planned)
+
+### 4.4 User-Targeted Attacks
+
+#### T8: Phishing
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Fake wallet site requests mnemonic |
+| **Impact** | CRITICAL - Complete fund loss |
+| **Likelihood** | HIGH |
+| **Mitigations** | |
+
+**Implemented Controls:**
+- [x] Never request mnemonic after initial setup
+- [x] Clear warnings about mnemonic sharing
+- [ ] Domain verification UI (planned)
+
+#### T9: Social Engineering
+
+| Attribute | Value |
+|-----------|-------|
+| **Description** | Trick user into revealing secrets |
+| **Impact** | CRITICAL |
+| **Likelihood** | MEDIUM |
+| **Mitigations** | Education, UI warnings |
+
+---
+
+## 5. Security Controls Summary
+
+### 5.1 Defense in Depth
+
+```
+Layer 1: Network Security
+â”œâ”€â”€ HTTPS-only
+â”œâ”€â”€ Content Security Policy
+â””â”€â”€ Origin validation
+
+Layer 2: Application Security
+â”œâ”€â”€ Input validation
+â”œâ”€â”€ XSS protection (React)
+â””â”€â”€ No dynamic code execution
+
+Layer 3: Data Protection
+â”œâ”€â”€ AES-256-GCM encryption
+â”œâ”€â”€ PBKDF2 key derivation (600K iterations)
+â””â”€â”€ Unique salt and IV per wallet
+
+Layer 4: Memory Protection
+â”œâ”€â”€ SecureString (XOR encryption)
+â”œâ”€â”€ Secure wipe
+â””â”€â”€ Minimal key exposure time
+
+Layer 5: Access Control
+â”œâ”€â”€ PIN/password authentication
+â”œâ”€â”€ Rate limiting (5 attempts)
+â”œâ”€â”€ Lockout (5 minutes)
+â””â”€â”€ Session timeout (5 minutes)
+```
+
+### 5.2 Control Effectiveness
+
+| Control | Effectiveness | Threats Mitigated |
+|---------|---------------|-------------------|
+| AES-256-GCM | HIGH | T5, T6 (at rest) |
+| PBKDF2 600K | HIGH | Brute force |
+| Rate limiting | HIGH | Online PIN guessing |
+| Session timeout | MEDIUM | Unattended device |
+| SecureString | MEDIUM | Basic memory inspection |
+| CSP | HIGH | XSS |
+| Auto-lock | MEDIUM | Physical access |
+
+---
+
+## 6. Risk Assessment
+
+### 6.1 Risk Matrix
+
+| Threat | Likelihood | Impact | Risk Level |
+|--------|------------|--------|------------|
+| XSS | MEDIUM | CRITICAL | **HIGH** |
+| Phishing | HIGH | CRITICAL | **HIGH** |
+| Supply chain | LOW | CRITICAL | **MEDIUM** |
+| MITM | LOW | MEDIUM | **LOW** |
+| Memory forensics | VERY LOW | CRITICAL | **LOW** |
+| Physical access | LOW | HIGH | **MEDIUM** |
+| Clipboard hijack | MEDIUM | MEDIUM | **MEDIUM** |
+
+### 6.2 Residual Risks
+
+After all mitigations, the following risks remain:
+
+1. **Compromised browser/OS** - We cannot protect against a rooted device
+2. **Zero-day browser exploits** - Beyond our control
+3. **User negligence** - Sharing mnemonic, weak PIN
+4. **Advanced persistent threats** - Nation-state level attacks
+
+---
+
+## 7. Security Assumptions
+
+1. **Trusted browser**: Browser correctly implements Web Crypto, CSP, origin isolation
+2. **Trusted device**: Device OS is not compromised with malware
+3. **HTTPS integrity**: TLS certificates are valid and not intercepted
+4. **User responsibility**: User protects mnemonic backup and PIN
+5. **Library integrity**: @noble/@scure libraries are correctly implemented
+
+---
+
+## 8. Recommendations
+
+### 8.1 Implemented âœ…
+
+- [x] AES-256-GCM encryption for storage
+- [x] PBKDF2 with 600K iterations
+- [x] Secure memory handling (SecureString)
+- [x] Rate limiting and lockout
+- [x] Session timeout
+- [x] Content Security Policy
+- [x] Production logging guards
+- [x] Clipboard auto-clear
+- [x] PIN verification for transactions
+
+### 8.2 Planned ğŸ”œ
+
+- [ ] Hardware wallet support (Ledger/Trezor)
+- [ ] Biometric authentication (WebAuthn)
+- [ ] Multi-signature support
+- [ ] Certificate pinning
+- [ ] Address book with verification
+- [ ] Transaction simulation before signing
+
+### 8.3 Out of Scope âŒ
+
+- TEE/Secure Enclave (requires native app)
+- Memory locking (mlock unavailable in browser)
+- Air-gapped signing (requires separate device)
+
+---
+
+## Revision History
+
+| Version | Date | Changes |
+|---------|------|---------|
+| 1.0 | Dec 2025 | Initial threat model |
diff --git a/wallet-extension/audit/npm-audit.json b/wallet-extension/audit/npm-audit.json
new file mode 100644
index 00000000..81b8cb23
--- /dev/null
+++ b/wallet-extension/audit/npm-audit.json
@@ -0,0 +1,162 @@
+{
+  "auditReportVersion": 2,
+  "vulnerabilities": {
+    "@vitest/coverage-v8": {
+      "name": "@vitest/coverage-v8",
+      "severity": "moderate",
+      "isDirect": true,
+      "via": [
+        "vitest"
+      ],
+      "effects": [],
+      "range": "<=2.2.0-beta.2",
+      "nodes": [
+        "node_modules/@vitest/coverage-v8"
+      ],
+      "fixAvailable": {
+        "name": "@vitest/coverage-v8",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    },
+    "@vitest/mocker": {
+      "name": "@vitest/mocker",
+      "severity": "moderate",
+      "isDirect": false,
+      "via": [
+        "vite"
+      ],
+      "effects": [
+        "vitest"
+      ],
+      "range": "<=3.0.0-beta.4",
+      "nodes": [
+        "node_modules/vitest/node_modules/@vitest/mocker"
+      ],
+      "fixAvailable": {
+        "name": "vitest",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    },
+    "esbuild": {
+      "name": "esbuild",
+      "severity": "moderate",
+      "isDirect": false,
+      "via": [
+        {
+          "source": 1102341,
+          "name": "esbuild",
+          "dependency": "esbuild",
+          "title": "esbuild enables any website to send any requests to the development server and read the response",
+          "url": "https://github.com/advisories/GHSA-67mh-4wv8-2f99",
+          "severity": "moderate",
+          "cwe": [
+            "CWE-346"
+          ],
+          "cvss": {
+            "score": 5.3,
+            "vectorString": "CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:N/A:N"
+          },
+          "range": "<=0.24.2"
+        }
+      ],
+      "effects": [
+        "vite"
+      ],
+      "range": "<=0.24.2",
+      "nodes": [
+        "node_modules/vite-node/node_modules/esbuild",
+        "node_modules/vitest/node_modules/esbuild"
+      ],
+      "fixAvailable": {
+        "name": "vitest",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    },
+    "vite": {
+      "name": "vite",
+      "severity": "moderate",
+      "isDirect": false,
+      "via": [
+        "esbuild"
+      ],
+      "effects": [
+        "@vitest/mocker",
+        "vite-node",
+        "vitest"
+      ],
+      "range": "0.11.0 - 6.1.6",
+      "nodes": [
+        "node_modules/vite-node/node_modules/vite",
+        "node_modules/vitest/node_modules/vite"
+      ],
+      "fixAvailable": {
+        "name": "vitest",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    },
+    "vite-node": {
+      "name": "vite-node",
+      "severity": "moderate",
+      "isDirect": false,
+      "via": [
+        "vite"
+      ],
+      "effects": [
+        "vitest"
+      ],
+      "range": "<=2.2.0-beta.2",
+      "nodes": [
+        "node_modules/vite-node"
+      ],
+      "fixAvailable": {
+        "name": "vitest",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    },
+    "vitest": {
+      "name": "vitest",
+      "severity": "moderate",
+      "isDirect": true,
+      "via": [
+        "@vitest/mocker",
+        "vite",
+        "vite-node"
+      ],
+      "effects": [
+        "@vitest/coverage-v8"
+      ],
+      "range": "0.0.1 - 0.0.12 || 0.0.29 - 0.0.122 || 0.3.3 - 3.0.0-beta.4",
+      "nodes": [
+        "node_modules/vitest"
+      ],
+      "fixAvailable": {
+        "name": "vitest",
+        "version": "4.0.16",
+        "isSemVerMajor": true
+      }
+    }
+  },
+  "metadata": {
+    "vulnerabilities": {
+      "info": 0,
+      "low": 0,
+      "moderate": 6,
+      "high": 0,
+      "critical": 0,
+      "total": 6
+    },
+    "dependencies": {
+      "prod": 50,
+      "dev": 572,
+      "optional": 96,
+      "peer": 0,
+      "peerOptional": 0,
+      "total": 621
+    }
+  }
+}
diff --git a/wallet-extension/dist/assets/browser-OjRnDPg3.js b/wallet-extension/dist/assets/browser-OjRnDPg3.js
deleted file mode 100644
index 2ffbc069..00000000
--- a/wallet-extension/dist/assets/browser-OjRnDPg3.js
+++ /dev/null
@@ -1,8 +0,0 @@
-import{g as re}from"./index-CN6WsqyE.js";function oe(r,o){for(var i=0;i<o.length;i++){const e=o[i];if(typeof e!="string"&&!Array.isArray(e)){for(const t in e)if(t!=="default"&&!(t in r)){const n=Object.getOwnPropertyDescriptor(e,t);n&&Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:()=>e[t]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var z={},Q,Bt;function ie(){return Bt||(Bt=1,Q=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Q}var W={},_={},At;function U(){if(At)return _;At=1;let r;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},_.getSymbolTotalCodewords=function(e){return o[e]},_.getBCHDigit=function(i){let e=0;for(;i!==0;)e++,i>>>=1;return e},_.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');r=e},_.isKanjiModeEnabled=function(){return typeof r<"u"},_.toSJIS=function(e){return r(e)},_}var Z={},Rt;function yt(){return Rt||(Rt=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+i)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return o(e)}catch{return t}}})(Z)),Z}var X,Tt;function se(){if(Tt)return X;Tt=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(o){const i=Math.floor(o/8);return(this.buffer[i]>>>7-o%8&1)===1},put:function(o,i){for(let e=0;e<i;e++)this.putBit((o>>>i-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),o&&(this.buffer[i]|=128>>>this.length%8),this.length++}},X=r,X}var x,It;function ue(){if(It)return x;It=1;function r(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return r.prototype.set=function(o,i,e,t){const n=o*this.size+i;this.data[n]=e,t&&(this.reservedBit[n]=!0)},r.prototype.get=function(o,i){return this.data[o*this.size+i]},r.prototype.xor=function(o,i,e){this.data[o*this.size+i]^=e},r.prototype.isReserved=function(o,i){return this.reservedBit[o*this.size+i]},x=r,x}var $={},Nt;function ae(){return Nt||(Nt=1,(function(r){const o=U().getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,n=o(e),s=n===145?26:Math.ceil((n-13)/(2*t-2))*2,a=[n-7];for(let u=1;u<t-1;u++)a[u]=a[u-1]-s;return a.push(6),a.reverse()},r.getPositions=function(e){const t=[],n=r.getRowColCoords(e),s=n.length;for(let a=0;a<s;a++)for(let u=0;u<s;u++)a===0&&u===0||a===0&&u===s-1||a===s-1&&u===0||t.push([n[a],n[u]]);return t}})($)),$}var tt={},Pt;function ce(){if(Pt)return tt;Pt=1;const r=U().getSymbolSize,o=7;return tt.getPositions=function(e){const t=r(e);return[[0,0],[t-o,0],[0,t-o]]},tt}var et={},Mt;function fe(){return Mt||(Mt=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},r.from=function(t){return r.isValid(t)?parseInt(t,10):void 0},r.getPenaltyN1=function(t){const n=t.size;let s=0,a=0,u=0,c=null,d=null;for(let p=0;p<n;p++){a=u=0,c=d=null;for(let h=0;h<n;h++){let f=t.get(p,h);f===c?a++:(a>=5&&(s+=o.N1+(a-5)),c=f,a=1),f=t.get(h,p),f===d?u++:(u>=5&&(s+=o.N1+(u-5)),d=f,u=1)}a>=5&&(s+=o.N1+(a-5)),u>=5&&(s+=o.N1+(u-5))}return s},r.getPenaltyN2=function(t){const n=t.size;let s=0;for(let a=0;a<n-1;a++)for(let u=0;u<n-1;u++){const c=t.get(a,u)+t.get(a,u+1)+t.get(a+1,u)+t.get(a+1,u+1);(c===4||c===0)&&s++}return s*o.N2},r.getPenaltyN3=function(t){const n=t.size;let s=0,a=0,u=0;for(let c=0;c<n;c++){a=u=0;for(let d=0;d<n;d++)a=a<<1&2047|t.get(c,d),d>=10&&(a===1488||a===93)&&s++,u=u<<1&2047|t.get(d,c),d>=10&&(u===1488||u===93)&&s++}return s*o.N3},r.getPenaltyN4=function(t){let n=0;const s=t.data.length;for(let u=0;u<s;u++)n+=t.data[u];return Math.abs(Math.ceil(n*100/s/5)-10)*o.N4};function i(e,t,n){switch(e){case r.Patterns.PATTERN000:return(t+n)%2===0;case r.Patterns.PATTERN001:return t%2===0;case r.Patterns.PATTERN010:return n%3===0;case r.Patterns.PATTERN011:return(t+n)%3===0;case r.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case r.Patterns.PATTERN101:return t*n%2+t*n%3===0;case r.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case r.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(t,n){const s=n.size;for(let a=0;a<s;a++)for(let u=0;u<s;u++)n.isReserved(u,a)||n.xor(u,a,i(t,u,a))},r.getBestMask=function(t,n){const s=Object.keys(r.Patterns).length;let a=0,u=1/0;for(let c=0;c<s;c++){n(c),r.applyMask(c,t);const d=r.getPenaltyN1(t)+r.getPenaltyN2(t)+r.getPenaltyN3(t)+r.getPenaltyN4(t);r.applyMask(c,t),d<u&&(u=d,a=c)}return a}})(et)),et}var J={},St;function Wt(){if(St)return J;St=1;const r=yt(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return J.getBlocksCount=function(t,n){switch(n){case r.L:return o[(t-1)*4+0];case r.M:return o[(t-1)*4+1];case r.Q:return o[(t-1)*4+2];case r.H:return o[(t-1)*4+3];default:return}},J.getTotalCodewordsCount=function(t,n){switch(n){case r.L:return i[(t-1)*4+0];case r.M:return i[(t-1)*4+1];case r.Q:return i[(t-1)*4+2];case r.H:return i[(t-1)*4+3];default:return}},J}var nt={},K={},bt;function le(){if(bt)return K;bt=1;const r=new Uint8Array(512),o=new Uint8Array(256);return(function(){let e=1;for(let t=0;t<255;t++)r[t]=e,o[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]})(),K.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},K.exp=function(e){return r[e]},K.mul=function(e,t){return e===0||t===0?0:r[o[e]+o[t]]},K}var Lt;function de(){return Lt||(Lt=1,(function(r){const o=le();r.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let a=0;a<t.length;a++)n[s+a]^=o.mul(e[s],t[a]);return n},r.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const s=n[0];for(let u=0;u<t.length;u++)n[u]^=o.mul(t[u],s);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n},r.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=r.mul(t,new Uint8Array([1,o.exp(n)]));return t}})(nt)),nt}var rt,Dt;function ge(){if(Dt)return rt;Dt=1;const r=de();function o(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),s=this.degree-n.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(n,s),a}return n},rt=o,rt}var ot={},it={},st={},qt;function Zt(){return qt||(qt=1,st.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),st}var L={},vt;function Xt(){if(vt)return L;vt=1;const r="[0-9]+",o="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
-]))+`;L.KANJI=new RegExp(i,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(e,"g"),L.NUMERIC=new RegExp(r,"g"),L.ALPHANUMERIC=new RegExp(o,"g");const t=new RegExp("^"+i+"$"),n=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return L.testKanji=function(u){return t.test(u)},L.testNumeric=function(u){return n.test(u)},L.testAlphanumeric=function(u){return s.test(u)},L}var _t;function F(){return _t||(_t=1,(function(r){const o=Zt(),i=Xt();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(n,s){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!o.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?n.ccBits[0]:s<27?n.ccBits[1]:n.ccBits[2]},r.getBestModeForData=function(n){return i.testNumeric(n)?r.NUMERIC:i.testAlphanumeric(n)?r.ALPHANUMERIC:i.testKanji(n)?r.KANJI:r.BYTE},r.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},r.isValid=function(n){return n&&n.bit&&n.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}r.from=function(n,s){if(r.isValid(n))return n;try{return e(n)}catch{return s}}})(it)),it}var Ut;function he(){return Ut||(Ut=1,(function(r){const o=U(),i=Wt(),e=yt(),t=F(),n=Zt(),s=7973,a=o.getBCHDigit(s);function u(h,f,N){for(let P=1;P<=40;P++)if(f<=r.getCapacity(P,N,h))return P}function c(h,f){return t.getCharCountIndicator(h,f)+4}function d(h,f){let N=0;return h.forEach(function(P){const S=c(P.mode,f);N+=S+P.getBitsLength()}),N}function p(h,f){for(let N=1;N<=40;N++)if(d(h,N)<=r.getCapacity(N,f,t.MIXED))return N}r.from=function(f,N){return n.isValid(f)?parseInt(f,10):N},r.getCapacity=function(f,N,P){if(!n.isValid(f))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=t.BYTE);const S=o.getSymbolTotalCodewords(f),R=i.getTotalCodewordsCount(f,N),M=(S-R)*8;if(P===t.MIXED)return M;const T=M-c(P,f);switch(P){case t.NUMERIC:return Math.floor(T/10*3);case t.ALPHANUMERIC:return Math.floor(T/11*2);case t.KANJI:return Math.floor(T/13);case t.BYTE:default:return Math.floor(T/8)}},r.getBestVersionForData=function(f,N){let P;const S=e.from(N,e.M);if(Array.isArray(f)){if(f.length>1)return p(f,S);if(f.length===0)return 1;P=f[0]}else P=f;return u(P.mode,P.getLength(),S)},r.getEncodedBits=function(f){if(!n.isValid(f)||f<7)throw new Error("Invalid QR Code version");let N=f<<12;for(;o.getBCHDigit(N)-a>=0;)N^=s<<o.getBCHDigit(N)-a;return f<<12|N}})(ot)),ot}var ut={},Ft;function me(){if(Ft)return ut;Ft=1;const r=U(),o=1335,i=21522,e=r.getBCHDigit(o);return ut.getEncodedBits=function(n,s){const a=n.bit<<3|s;let u=a<<10;for(;r.getBCHDigit(u)-e>=0;)u^=o<<r.getBCHDigit(u)-e;return(a<<10|u)^i},ut}var at={},ct,kt;function we(){if(kt)return ct;kt=1;const r=F();function o(i){this.mode=r.NUMERIC,this.data=i.toString()}return o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,n,s;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),s=parseInt(n,10),e.put(s,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),s=parseInt(n,10),e.put(s,a*3+1))},ct=o,ct}var ft,zt;function ye(){if(zt)return ft;zt=1;const r=F(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}return i.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let s=o.indexOf(this.data[n])*45;s+=o.indexOf(this.data[n+1]),t.put(s,11)}this.data.length%2&&t.put(o.indexOf(this.data[n]),6)},ft=i,ft}var lt,Vt;function Ce(){if(Vt)return lt;Vt=1;const r=F();function o(i){this.mode=r.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return o.getBitsLength=function(e){return e*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){for(let e=0,t=this.data.length;e<t;e++)i.put(this.data[e],8)},lt=o,lt}var dt,Kt;function Ee(){if(Kt)return dt;Kt=1;const r=F(),o=U();function i(e){this.mode=r.KANJI,this.data=e}return i.getBitsLength=function(t){return t*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
-Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}},dt=i,dt}var gt={exports:{}},Ht;function pe(){return Ht||(Ht=1,(function(r){var o={single_source_shortest_paths:function(i,e,t){var n={},s={};s[e]=0;var a=o.PriorityQueue.make();a.push(e,0);for(var u,c,d,p,h,f,N,P,S;!a.empty();){u=a.pop(),c=u.value,p=u.cost,h=i[c]||{};for(d in h)h.hasOwnProperty(d)&&(f=h[d],N=p+f,P=s[d],S=typeof s[d]>"u",(S||P>N)&&(s[d]=N,a.push(d,N),n[d]=c))}if(typeof t<"u"&&typeof s[t]>"u"){var R=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(R)}return n},extract_shortest_path_from_predecessor_list:function(i,e){for(var t=[],n=e;n;)t.push(n),i[n],n=i[n];return t.reverse(),t},find_path:function(i,e,t){var n=o.single_source_shortest_paths(i,e,t);return o.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(i){var e=o.PriorityQueue,t={},n;i=i||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=i.sorter||e.default_sorter,t},default_sorter:function(i,e){return i.cost-e.cost},push:function(i,e){var t={value:i,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=o})(gt)),gt.exports}var Jt;function Be(){return Jt||(Jt=1,(function(r){const o=F(),i=we(),e=ye(),t=Ce(),n=Ee(),s=Xt(),a=U(),u=pe();function c(R){return unescape(encodeURIComponent(R)).length}function d(R,M,T){const B=[];let b;for(;(b=R.exec(T))!==null;)B.push({data:b[0],index:b.index,mode:M,length:b[0].length});return B}function p(R){const M=d(s.NUMERIC,o.NUMERIC,R),T=d(s.ALPHANUMERIC,o.ALPHANUMERIC,R);let B,b;return a.isKanjiModeEnabled()?(B=d(s.BYTE,o.BYTE,R),b=d(s.KANJI,o.KANJI,R)):(B=d(s.BYTE_KANJI,o.BYTE,R),b=[]),M.concat(T,B,b).sort(function(C,y){return C.index-y.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function h(R,M){switch(M){case o.NUMERIC:return i.getBitsLength(R);case o.ALPHANUMERIC:return e.getBitsLength(R);case o.KANJI:return n.getBitsLength(R);case o.BYTE:return t.getBitsLength(R)}}function f(R){return R.reduce(function(M,T){const B=M.length-1>=0?M[M.length-1]:null;return B&&B.mode===T.mode?(M[M.length-1].data+=T.data,M):(M.push(T),M)},[])}function N(R){const M=[];for(let T=0;T<R.length;T++){const B=R[T];switch(B.mode){case o.NUMERIC:M.push([B,{data:B.data,mode:o.ALPHANUMERIC,length:B.length},{data:B.data,mode:o.BYTE,length:B.length}]);break;case o.ALPHANUMERIC:M.push([B,{data:B.data,mode:o.BYTE,length:B.length}]);break;case o.KANJI:M.push([B,{data:B.data,mode:o.BYTE,length:c(B.data)}]);break;case o.BYTE:M.push([{data:B.data,mode:o.BYTE,length:c(B.data)}])}}return M}function P(R,M){const T={},B={start:{}};let b=["start"];for(let g=0;g<R.length;g++){const C=R[g],y=[];for(let l=0;l<C.length;l++){const A=C[l],m=""+g+l;y.push(m),T[m]={node:A,lastCount:0},B[m]={};for(let E=0;E<b.length;E++){const w=b[E];T[w]&&T[w].node.mode===A.mode?(B[w][m]=h(T[w].lastCount+A.length,A.mode)-h(T[w].lastCount,A.mode),T[w].lastCount+=A.length):(T[w]&&(T[w].lastCount=A.length),B[w][m]=h(A.length,A.mode)+4+o.getCharCountIndicator(A.mode,M))}}b=y}for(let g=0;g<b.length;g++)B[b[g]].end=0;return{map:B,table:T}}function S(R,M){let T;const B=o.getBestModeForData(R);if(T=o.from(M,B),T!==o.BYTE&&T.bit<B.bit)throw new Error('"'+R+'" cannot be encoded with mode '+o.toString(T)+`.
- Suggested mode is: `+o.toString(B));switch(T===o.KANJI&&!a.isKanjiModeEnabled()&&(T=o.BYTE),T){case o.NUMERIC:return new i(R);case o.ALPHANUMERIC:return new e(R);case o.KANJI:return new n(R);case o.BYTE:return new t(R)}}r.fromArray=function(M){return M.reduce(function(T,B){return typeof B=="string"?T.push(S(B,null)):B.data&&T.push(S(B.data,B.mode)),T},[])},r.fromString=function(M,T){const B=p(M,a.isKanjiModeEnabled()),b=N(B),g=P(b,T),C=u.find_path(g.map,"start","end"),y=[];for(let l=1;l<C.length-1;l++)y.push(g.table[C[l]].node);return r.fromArray(f(y))},r.rawSplit=function(M){return r.fromArray(p(M,a.isKanjiModeEnabled()))}})(at)),at}var Ot;function Ae(){if(Ot)return W;Ot=1;const r=U(),o=yt(),i=se(),e=ue(),t=ae(),n=ce(),s=fe(),a=Wt(),u=ge(),c=he(),d=me(),p=F(),h=Be();function f(g,C){const y=g.size,l=n.getPositions(C);for(let A=0;A<l.length;A++){const m=l[A][0],E=l[A][1];for(let w=-1;w<=7;w++)if(!(m+w<=-1||y<=m+w))for(let I=-1;I<=7;I++)E+I<=-1||y<=E+I||(w>=0&&w<=6&&(I===0||I===6)||I>=0&&I<=6&&(w===0||w===6)||w>=2&&w<=4&&I>=2&&I<=4?g.set(m+w,E+I,!0,!0):g.set(m+w,E+I,!1,!0))}}function N(g){const C=g.size;for(let y=8;y<C-8;y++){const l=y%2===0;g.set(y,6,l,!0),g.set(6,y,l,!0)}}function P(g,C){const y=t.getPositions(C);for(let l=0;l<y.length;l++){const A=y[l][0],m=y[l][1];for(let E=-2;E<=2;E++)for(let w=-2;w<=2;w++)E===-2||E===2||w===-2||w===2||E===0&&w===0?g.set(A+E,m+w,!0,!0):g.set(A+E,m+w,!1,!0)}}function S(g,C){const y=g.size,l=c.getEncodedBits(C);let A,m,E;for(let w=0;w<18;w++)A=Math.floor(w/3),m=w%3+y-8-3,E=(l>>w&1)===1,g.set(A,m,E,!0),g.set(m,A,E,!0)}function R(g,C,y){const l=g.size,A=d.getEncodedBits(C,y);let m,E;for(m=0;m<15;m++)E=(A>>m&1)===1,m<6?g.set(m,8,E,!0):m<8?g.set(m+1,8,E,!0):g.set(l-15+m,8,E,!0),m<8?g.set(8,l-m-1,E,!0):m<9?g.set(8,15-m-1+1,E,!0):g.set(8,15-m-1,E,!0);g.set(l-8,8,1,!0)}function M(g,C){const y=g.size;let l=-1,A=y-1,m=7,E=0;for(let w=y-1;w>0;w-=2)for(w===6&&w--;;){for(let I=0;I<2;I++)if(!g.isReserved(A,w-I)){let v=!1;E<C.length&&(v=(C[E]>>>m&1)===1),g.set(A,w-I,v),m--,m===-1&&(E++,m=7)}if(A+=l,A<0||y<=A){A-=l,l=-l;break}}}function T(g,C,y){const l=new i;y.forEach(function(I){l.put(I.mode.bit,4),l.put(I.getLength(),p.getCharCountIndicator(I.mode,g)),I.write(l)});const A=r.getSymbolTotalCodewords(g),m=a.getTotalCodewordsCount(g,C),E=(A-m)*8;for(l.getLengthInBits()+4<=E&&l.put(0,4);l.getLengthInBits()%8!==0;)l.putBit(0);const w=(E-l.getLengthInBits())/8;for(let I=0;I<w;I++)l.put(I%2?17:236,8);return B(l,g,C)}function B(g,C,y){const l=r.getSymbolTotalCodewords(C),A=a.getTotalCodewordsCount(C,y),m=l-A,E=a.getBlocksCount(C,y),w=l%E,I=E-w,v=Math.floor(l/E),V=Math.floor(m/E),te=V+1,Ct=v-V,ee=new u(Ct);let O=0;const H=new Array(E),Et=new Array(E);let j=0;const ne=new Uint8Array(g.buffer);for(let k=0;k<E;k++){const G=k<I?V:te;H[k]=ne.slice(O,O+G),Et[k]=ee.encode(H[k]),O+=G,j=Math.max(j,G)}const Y=new Uint8Array(l);let pt=0,D,q;for(D=0;D<j;D++)for(q=0;q<E;q++)D<H[q].length&&(Y[pt++]=H[q][D]);for(D=0;D<Ct;D++)for(q=0;q<E;q++)Y[pt++]=Et[q][D];return Y}function b(g,C,y,l){let A;if(Array.isArray(g))A=h.fromArray(g);else if(typeof g=="string"){let v=C;if(!v){const V=h.rawSplit(g);v=c.getBestVersionForData(V,y)}A=h.fromString(g,v||40)}else throw new Error("Invalid data");const m=c.getBestVersionForData(A,y);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=m;else if(C<m)throw new Error(`
-The chosen QR Code version cannot contain this amount of data.
-Minimum version required to store current data is: `+m+`.
-`);const E=T(C,y,A),w=r.getSymbolSize(C),I=new e(w);return f(I,C),N(I),P(I,C),R(I,y,0),C>=7&&S(I,C),M(I,E),isNaN(l)&&(l=s.getBestMask(I,R.bind(null,I,y))),s.applyMask(l,I),R(I,y,l),{modules:I,version:C,errorCorrectionLevel:y,maskPattern:l,segments:A}}return W.create=function(C,y){if(typeof C>"u"||C==="")throw new Error("No input text");let l=o.M,A,m;return typeof y<"u"&&(l=o.from(y.errorCorrectionLevel,o.M),A=c.from(y.version),m=s.from(y.maskPattern),y.toSJISFunc&&r.setToSJISFunction(y.toSJISFunc)),b(C,A,l,m)},W}var ht={},mt={},jt;function xt(){return jt||(jt=1,(function(r){function o(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+i);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},r.getImageWidth=function(e,t){const n=r.getScale(e,t);return Math.floor((e+t.margin*2)*n)},r.qrToImageData=function(e,t,n){const s=t.modules.size,a=t.modules.data,u=r.getScale(s,n),c=Math.floor((s+n.margin*2)*u),d=n.margin*u,p=[n.color.light,n.color.dark];for(let h=0;h<c;h++)for(let f=0;f<c;f++){let N=(h*c+f)*4,P=n.color.light;if(h>=d&&f>=d&&h<c-d&&f<c-d){const S=Math.floor((h-d)/u),R=Math.floor((f-d)/u);P=p[a[S*s+R]?1:0]}e[N++]=P.r,e[N++]=P.g,e[N++]=P.b,e[N]=P.a}}})(mt)),mt}var Yt;function Re(){return Yt||(Yt=1,(function(r){const o=xt();function i(t,n,s){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=s,n.width=s,n.style.height=s+"px",n.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(n,s,a){let u=a,c=s;typeof u>"u"&&(!s||!s.getContext)&&(u=s,s=void 0),s||(c=e()),u=o.getOptions(u);const d=o.getImageWidth(n.modules.size,u),p=c.getContext("2d"),h=p.createImageData(d,d);return o.qrToImageData(h.data,n,u),i(p,c,d),p.putImageData(h,0,0),c},r.renderToDataURL=function(n,s,a){let u=a;typeof u>"u"&&(!s||!s.getContext)&&(u=s,s=void 0),u||(u={});const c=r.render(n,s,u),d=u.type||"image/png",p=u.rendererOpts||{};return c.toDataURL(d,p.quality)}})(ht)),ht}var wt={},Gt;function Te(){if(Gt)return wt;Gt=1;const r=xt();function o(t,n){const s=t.a/255,a=n+'="'+t.hex+'"';return s<1?a+" "+n+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function i(t,n,s){let a=t+n;return typeof s<"u"&&(a+=" "+s),a}function e(t,n,s){let a="",u=0,c=!1,d=0;for(let p=0;p<t.length;p++){const h=Math.floor(p%n),f=Math.floor(p/n);!h&&!c&&(c=!0),t[p]?(d++,p>0&&h>0&&t[p-1]||(a+=c?i("M",h+s,.5+f+s):i("m",u,0),u=0,c=!1),h+1<n&&t[p+1]||(a+=i("h",d),d=0)):u++}return a}return wt.render=function(n,s,a){const u=r.getOptions(s),c=n.modules.size,d=n.modules.data,p=c+u.margin*2,h=u.color.light.a?"<path "+o(u.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",f="<path "+o(u.color.dark,"stroke")+' d="'+e(d,c,u.margin)+'"/>',N='viewBox="0 0 '+p+" "+p+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+N+' shape-rendering="crispEdges">'+h+f+`</svg>
-`;return typeof a=="function"&&a(null,S),S},wt}var Qt;function Ie(){if(Qt)return z;Qt=1;const r=ie(),o=Ae(),i=Re(),e=Te();function t(n,s,a,u,c){const d=[].slice.call(arguments,1),p=d.length,h=typeof d[p-1]=="function";if(!h&&!r())throw new Error("Callback required as last argument");if(h){if(p<2)throw new Error("Too few arguments provided");p===2?(c=a,a=s,s=u=void 0):p===3&&(s.getContext&&typeof c>"u"?(c=u,u=void 0):(c=u,u=a,a=s,s=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(a=s,s=u=void 0):p===2&&!s.getContext&&(u=a,a=s,s=void 0),new Promise(function(f,N){try{const P=o.create(a,u);f(n(P,s,u))}catch(P){N(P)}})}try{const f=o.create(a,u);c(null,n(f,s,u))}catch(f){c(f)}}return z.create=o.create,z.toCanvas=t.bind(null,i.render),z.toDataURL=t.bind(null,i.renderToDataURL),z.toString=t.bind(null,function(n,s,a){return e.render(n,a)}),z}var $t=Ie();const Ne=re($t),Me=oe({__proto__:null,default:Ne},[$t]);export{Me as b};
diff --git a/wallet-extension/dist/assets/index-BxHAb2uV.css b/wallet-extension/dist/assets/index-BxHAb2uV.css
deleted file mode 100644
index 4c7b1957..00000000
--- a/wallet-extension/dist/assets/index-BxHAb2uV.css
+++ /dev/null
@@ -1 +0,0 @@
-.welcome-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:var(--spacing-lg);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%)}.welcome-content{width:100%;max-width:400px;text-align:center}.logo-container{margin-bottom:var(--spacing-xl)}.logo{font-size:80px;margin-bottom:var(--spacing-md);filter:drop-shadow(var(--glow-primary))}.logo-container h1{font-size:32px;font-weight:700;margin-bottom:var(--spacing-xs);background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-accent) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.tagline{color:var(--color-text-muted);font-size:16px}.features{display:flex;flex-direction:column;gap:var(--spacing-sm);margin-bottom:var(--spacing-xl);padding:var(--spacing-lg);background:var(--color-bg-secondary);border-radius:var(--border-radius);border:1px solid var(--border-color);box-shadow:var(--shadow-lg)}.feature{display:flex;align-items:center;gap:var(--spacing-md);font-size:15px}.feature-icon{font-size:20px}.button-group{display:flex;flex-direction:column;gap:var(--spacing-md)}.version{font-size:12px}.pin-input{display:flex;justify-content:center;gap:var(--spacing-sm)}.pin-digit{width:48px;height:56px;border:2px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary);font-size:1.5rem;font-weight:600;text-align:center;outline:none;transition:all var(--transition);caret-color:transparent}.pin-digit:focus{border-color:var(--accent-primary);box-shadow:0 0 0 3px #d4af3733}.pin-digit:not(:placeholder-shown){background:var(--bg-primary)}@media(max-width:360px){.pin-digit{width:40px;height:48px;font-size:1.25rem}.pin-input{gap:var(--spacing-xs)}}.mnemonic-display{position:relative;width:100%}.mnemonic-header{display:flex;justify-content:space-between;margin-bottom:var(--spacing-md)}.visibility-toggle,.copy-btn{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:var(--spacing-xs) var(--spacing-sm);font-size:.875rem;cursor:pointer;color:var(--text-primary);transition:all var(--transition)}.visibility-toggle:hover,.copy-btn:hover{border-color:var(--accent-primary)}.mnemonic-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-sm);position:relative;transition:filter .3s ease}.mnemonic-grid.blurred{filter:blur(8px);user-select:none}.mnemonic-word{display:flex;align-items:center;gap:var(--spacing-xs);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:var(--spacing-sm)}.word-index{font-size:.75rem;color:var(--text-muted);width:20px;text-align:right}.word-text{font-size:.875rem;font-weight:500}.blur-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10}.blur-overlay span{background:var(--bg-secondary);border:1px solid var(--border-color);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);font-weight:500}@media(max-width:400px){.mnemonic-grid{grid-template-columns:repeat(2,1fr)}}.create-screen{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--spacing-lg);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%)}.create-content{width:100%;max-width:400px;text-align:center}.create-content h2{font-size:1.75rem;margin-bottom:var(--spacing-sm)}.warning-box{background:#ff980026;border:1px solid rgba(255,152,0,.3);border-radius:var(--radius-md);padding:var(--spacing-md);color:var(--warning);font-size:.875rem}.verify-inputs{display:flex;flex-direction:column;gap:var(--spacing-md);text-align:left}.verify-input-group{display:flex;flex-direction:column;gap:var(--spacing-xs)}.verify-input-group label{font-size:.875rem;color:var(--text-muted);font-weight:500}.spinner{width:48px;height:48px;border:3px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}.import-screen{min-height:100vh;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:var(--spacing-lg);padding-top:var(--spacing-xl);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%);overflow-y:auto}.import-content{width:100%;max-width:480px;text-align:center}.import-content h2{font-size:1.75rem;margin-bottom:var(--spacing-sm)}.mnemonic-input-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-sm);margin-top:var(--spacing-md)}.mnemonic-input-item{display:flex;align-items:center;gap:var(--spacing-xs);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:var(--spacing-xs)}.word-number{font-size:.75rem;color:var(--text-muted);width:24px;text-align:center;flex-shrink:0}.word-input{flex:1;padding:var(--spacing-xs)!important;font-size:.875rem!important;min-width:0}.word-input:focus{border-color:var(--accent-primary)}@media(max-width:400px){.mnemonic-input-grid{grid-template-columns:repeat(2,1fr)}}.text-sm{font-size:.875rem}.totp-verify{display:flex;flex-direction:column;align-items:center;text-align:center;padding:var(--space-lg)}.totp-verify-icon{font-size:3rem;margin-bottom:var(--space-md)}.totp-verify-input{width:100%;max-width:180px;padding:var(--space-md);font-size:1.8rem;font-family:SF Mono,Monaco,monospace;letter-spacing:.4em;text-align:center;border:2px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary);transition:border-color .2s ease}.totp-verify-input.backup{max-width:200px;font-size:1.4rem;letter-spacing:.1em}.totp-verify-input:focus{outline:none;border-color:var(--accent-primary)}.totp-verify-input::placeholder{color:var(--text-tertiary);letter-spacing:.3em}.totp-verify .btn-primary{min-width:180px}.totp-verify .btn-link{color:var(--text-secondary);font-size:.9rem}.totp-verify .btn-link:hover{color:var(--accent-primary)}.unlock-screen{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--spacing-lg);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%)}.unlock-content{width:100%;max-width:400px;text-align:center}.unlock-content h2{font-size:1.75rem;margin-bottom:var(--spacing-sm)}.sultan-icon{margin-bottom:var(--spacing-lg)}.lock-icon{font-size:4rem;margin-bottom:var(--spacing-lg)}.btn-link{background:none;border:none;color:var(--accent-primary);font-size:.875rem;cursor:pointer;padding:var(--spacing-sm);transition:opacity var(--transition)}.btn-link:hover{opacity:.8}.dashboard-screen{min-height:100vh;display:flex;flex-direction:column;background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 100%)}.dashboard-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.header-right{display:flex;align-items:center;gap:var(--spacing-sm)}.network-status{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-sm);background:#00ff9f1a;border:1px solid rgba(0,255,159,.2);border-radius:var(--radius-sm);font-size:.75rem;cursor:default}.network-dot{width:6px;height:6px;border-radius:50%;background:var(--success);animation:pulse 2s ease-in-out infinite}.network-status.loading .network-dot{background:var(--warning);animation:blink 1s ease-in-out infinite}.network-status.error .network-dot{background:var(--error);animation:none}.network-status.error{background:#ff44441a;border-color:#f443}.network-name{font-weight:500;color:var(--text-primary)}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes blink{0%,to{opacity:1}50%{opacity:.3}}.account-selector{display:flex;flex-direction:column;gap:2px}.account-name{font-weight:600;font-size:1rem}.account-address{font-size:.75rem;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;gap:var(--spacing-xs)}.account-address:hover{color:var(--accent-primary)}.copied-badge{background:var(--success);color:var(--bg-primary);font-size:.625rem;padding:2px 6px;border-radius:var(--radius-sm)}.btn-icon{width:40px;height:40px;border-radius:50%;background:transparent;border:1px solid var(--border-color);cursor:pointer;font-size:1.25rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition)}.btn-icon:hover{background:var(--bg-primary)}.dashboard-main{flex:1;padding:var(--spacing-lg);overflow-y:auto;padding-bottom:calc(var(--spacing-lg) + 70px)}.balance-card{background:var(--bg-secondary);border:1px solid rgba(0,255,255,.3);border-radius:var(--radius-lg);padding:var(--spacing-xl);text-align:center;color:var(--text-primary);box-shadow:0 0 30px #00ffff26}.balance-label{font-size:.875rem;color:var(--text-muted)}.balance-amount{font-size:2.5rem;font-weight:700;margin:var(--spacing-sm) 0;background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-secondary) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.balance-currency{font-size:1rem;font-weight:400;color:var(--text-muted)}.balance-breakdown{display:flex;justify-content:space-around;margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:1px solid rgba(0,255,255,.2)}.breakdown-item{display:flex;flex-direction:column;gap:4px;font-size:.875rem}.breakdown-item span:first-child{color:var(--text-muted);font-size:.75rem}.loading-shimmer{opacity:.5;animation:shimmer 1.5s infinite}@keyframes shimmer{0%,to{opacity:.5}50%{opacity:1}}.quick-actions{display:flex;justify-content:center;gap:var(--spacing-xl);margin:var(--spacing-xl) 0}.action-btn{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md) var(--spacing-lg);cursor:pointer;transition:all var(--transition);min-width:80px;color:var(--text-primary)}.action-btn:hover{border-color:var(--accent-primary);transform:translateY(-2px)}.action-icon{width:40px;height:40px;border-radius:50%;background:#d4af371a;display:flex;align-items:center;justify-content:center;font-size:1.25rem}.staking-summary{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.staking-summary h3{font-size:1rem;margin-bottom:var(--spacing-md)}.staking-info{display:flex;justify-content:space-around}.staking-stat{display:flex;flex-direction:column;align-items:center;gap:4px}.stat-label{font-size:.75rem;color:var(--text-muted)}.stat-value{font-size:1.25rem;font-weight:600}.stat-value.accent{color:var(--accent-primary)}.activity-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg)}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.section-header h3{font-size:1rem}.empty-activity{padding:var(--spacing-xl);text-align:center}.recent-transactions{display:flex;flex-direction:column}.tx-preview{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md) 0;border-bottom:1px solid var(--border-color)}.tx-preview:last-child{border-bottom:none}.tx-preview .tx-icon{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}.tx-preview .tx-icon.sent{background:#ff444426;color:var(--error)}.tx-preview .tx-icon.received{background:#00ff9f26;color:var(--success)}.tx-preview .tx-details{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.tx-preview .tx-type{font-weight:500;font-size:.875rem}.tx-preview .tx-address{font-size:.75rem;color:var(--text-muted);font-family:monospace}.tx-preview .tx-amount{font-weight:600;font-size:.875rem;text-align:right}.tx-preview .tx-amount.sent{color:var(--error)}.tx-preview .tx-amount.received{color:var(--success)}.dashboard-nav{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:space-around;background:var(--bg-secondary);border-top:1px solid var(--border-color);padding:var(--spacing-sm) 0;padding-bottom:max(var(--spacing-sm),env(safe-area-inset-bottom))}.nav-item{display:flex;flex-direction:column;align-items:center;gap:2px;background:none;border:none;color:var(--text-muted);font-size:.75rem;padding:var(--spacing-xs) var(--spacing-md);cursor:pointer;transition:color var(--transition)}.nav-item.active,.nav-item:hover{color:var(--accent-primary)}.nav-icon{font-size:1.25rem}.send-screen{min-height:100vh;display:flex;flex-direction:column;background:var(--bg-primary)}.screen-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.screen-header h2{font-size:1.125rem}.btn-back{width:40px;height:40px;border-radius:50%;background:transparent;border:1px solid var(--border-color);font-size:1.25rem;cursor:pointer;color:var(--text-primary)}.send-content{flex:1;padding:var(--spacing-lg)}.form-group{margin-bottom:var(--spacing-lg)}.form-group label{display:block;font-size:.875rem;font-weight:500;margin-bottom:var(--spacing-xs);color:var(--text-muted)}.label-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xs)}.balance-hint{font-size:.75rem;color:var(--text-muted)}.amount-input-wrapper{position:relative}.amount-input{padding-right:60px!important}.max-btn{position:absolute;right:var(--spacing-sm);top:50%;transform:translateY(-50%);background:#d4af371a;border:1px solid var(--accent-primary);border-radius:var(--radius-sm);color:var(--accent-primary);font-size:.75rem;font-weight:600;padding:4px 8px;cursor:pointer}.fee-notice{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);background:#4caf501a;border:1px solid rgba(76,175,80,.3);border-radius:var(--radius-md)}.fee-badge{font-weight:600;color:var(--success)}.confirm-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-xl)}.confirm-amount{text-align:center;padding-bottom:var(--spacing-lg);border-bottom:1px solid var(--border-color);margin-bottom:var(--spacing-lg)}.amount-value{font-size:2.5rem;font-weight:700}.amount-currency{font-size:1.25rem;color:var(--text-muted);margin-left:var(--spacing-xs)}.confirm-details{display:flex;flex-direction:column;gap:var(--spacing-md)}.detail-row{display:flex;justify-content:space-between;align-items:center}.detail-row span:first-child{color:var(--text-muted);font-size:.875rem}.address{font-family:monospace;font-size:.875rem}.fee-zero{color:var(--success);font-weight:500}.button-row{display:flex;gap:var(--spacing-md)}.button-row .btn{flex:1}.success-icon{width:80px;height:80px;border-radius:50%;background:var(--success);color:#fff;font-size:2.5rem;display:flex;align-items:center;justify-content:center;margin:0 auto var(--spacing-lg)}.tx-details{background:var(--bg-secondary);border-radius:var(--radius-md);padding:var(--spacing-lg);width:100%}.address-qr{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm)}.qr-canvas{border-radius:var(--radius-md);box-shadow:0 2px 8px #0000001a}.qr-hint{font-size:.75rem;color:var(--text-muted)}.receive-screen{min-height:100vh;display:flex;flex-direction:column;background:var(--bg-primary)}.receive-content{flex:1;padding:var(--spacing-lg);display:flex;flex-direction:column;align-items:center}.receive-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-xl);text-align:center;width:100%;max-width:400px}.qr-container{background:#fff;padding:var(--spacing-lg);border-radius:var(--radius-md);display:inline-block;margin-bottom:var(--spacing-lg)}.address-display{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md);word-break:break-all}.address-text{font-family:monospace;font-size:.875rem;line-height:1.5}.receive-info{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg);margin-top:var(--spacing-lg);width:100%;max-width:400px}.receive-info h3{font-size:1rem;margin-bottom:var(--spacing-md)}.receive-info ul{list-style:none;padding:0;margin:0}.receive-info li{font-size:.875rem;color:var(--text-muted);padding:var(--spacing-xs) 0;padding-left:var(--spacing-md);position:relative}.receive-info li:before{content:"â€¢";position:absolute;left:0;color:var(--accent-primary)}.stake-screen{min-height:100vh;display:flex;flex-direction:column;background:var(--bg-primary)}.stake-content{flex:1;padding:var(--spacing-lg);overflow-y:auto}.staking-overview{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-md);margin-bottom:var(--spacing-lg)}.overview-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md);text-align:center;display:flex;flex-direction:column;gap:var(--spacing-xs)}.overview-label{font-size:.75rem;color:var(--text-muted)}.overview-value{font-size:1rem;font-weight:600}.overview-value.accent{color:var(--accent-primary);font-size:1.25rem}.claim-btn{width:100%;margin-bottom:var(--spacing-lg);background:#d4af371a;border-color:var(--accent-primary);color:var(--accent-primary)}.tab-bar{display:flex;background:var(--bg-secondary);border-radius:var(--radius-md);padding:var(--spacing-xs);margin-bottom:var(--spacing-lg)}.tab{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:transparent;border:none;border-radius:var(--radius-sm);color:var(--text-muted);font-weight:500;cursor:pointer;transition:all var(--transition)}.tab.active{background:var(--bg-primary);color:var(--text-primary)}.stake-form{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg)}.selected-validator{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background:var(--bg-primary);border-radius:var(--radius-sm);margin-top:var(--spacing-md)}.validator-name{font-weight:600}.unstake-notice{background:#ff98001a;border:1px solid rgba(255,152,0,.3);border-radius:var(--radius-sm);padding:var(--spacing-md);color:var(--warning);font-size:.875rem;margin-top:var(--spacing-md)}.validators-list{display:flex;flex-direction:column;gap:var(--spacing-md)}.validator-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg);cursor:pointer;transition:all var(--transition)}.validator-card:hover,.validator-card.selected{border-color:var(--accent-primary)}.validator-card.selected{background:#d4af370d}.validator-info{display:flex;flex-direction:column;gap:4px;margin-bottom:var(--spacing-md)}.validator-address{font-family:monospace;font-size:.75rem;color:var(--text-muted)}.validator-stats{display:flex;justify-content:space-between}.validator-stats .stat{display:flex;flex-direction:column;gap:2px}.validator-stats .stat-label{font-size:.75rem;color:var(--text-muted)}.validator-stats .stat-value{font-weight:500}.text-success{color:var(--success)}.totp-setup{padding:var(--space-md)}.totp-step{display:flex;flex-direction:column;align-items:center;text-align:center}.totp-icon{font-size:3rem;margin-bottom:var(--space-md)}.totp-icon.success{width:64px;height:64px;background:var(--accent-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;color:var(--bg-primary)}.totp-benefits{background:var(--bg-secondary);border-radius:var(--radius-md);padding:var(--space-md);margin-bottom:var(--space-lg);width:100%}.benefit-item{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) 0}.benefit-icon{color:var(--accent-primary);font-weight:700}.qr-container{background:#fff;padding:var(--space-md);border-radius:var(--radius-md);margin-bottom:var(--space-md)}.qr-code{width:200px;height:200px}.qr-placeholder{width:200px;height:200px;display:flex;align-items:center;justify-content:center}.manual-entry{margin-bottom:var(--space-lg);width:100%}.secret-code{display:block;background:var(--bg-secondary);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-family:SF Mono,Monaco,Inconsolata,monospace;font-size:.9rem;letter-spacing:.1em;word-break:break-all;margin-top:var(--space-sm);color:var(--accent-primary)}.totp-input{width:100%;max-width:200px;padding:var(--space-md);font-size:1.5rem;font-family:SF Mono,Monaco,monospace;letter-spacing:.3em;text-align:center;border:2px solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary)}.totp-input:focus{outline:none;border-color:var(--accent-primary)}.backup-codes-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-sm);width:100%;margin-bottom:var(--space-md)}.backup-code{background:var(--bg-secondary);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-sm);font-family:SF Mono,Monaco,monospace;font-size:.85rem;letter-spacing:.05em}.backup-actions{margin-bottom:var(--space-md)}.totp-status{background:var(--bg-secondary);border-radius:var(--radius-md);padding:var(--space-md);width:100%;margin-bottom:var(--space-lg)}.status-item{display:flex;justify-content:space-between;padding:var(--space-xs) 0}.status-label{color:var(--text-secondary)}.status-value{font-weight:500}.status-value.enabled{color:var(--accent-primary)}.warning-box{background:#ffc1071a;border:1px solid rgba(255,193,7,.3);border-radius:var(--radius-sm);padding:var(--space-sm) var(--space-md);font-size:.85rem;color:#ffc107;width:100%;text-align:left}.totp-step .btn{width:100%}.totp-step .btn+.btn{margin-top:var(--space-sm)}.text-sm{font-size:.85rem}.settings-screen{min-height:100vh;display:flex;flex-direction:column;background:var(--bg-primary)}.settings-content{flex:1;padding:var(--spacing-lg);overflow-y:auto}.settings-section{margin-bottom:var(--spacing-xl)}.settings-section h3{font-size:.875rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:var(--spacing-sm);padding-left:var(--spacing-sm)}.setting-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);margin-bottom:var(--spacing-sm);cursor:pointer;transition:all var(--transition)}.setting-item:hover{border-color:var(--accent-primary)}.setting-info{display:flex;flex-direction:column;gap:4px}.setting-label{font-weight:500}.setting-hint{font-size:.75rem;color:var(--text-muted)}.setting-value{font-size:.875rem;color:var(--text-muted)}.setting-badge{font-size:.75rem;padding:4px 10px;border-radius:var(--radius-sm);background:var(--bg-primary);color:var(--text-muted);font-weight:500}.setting-badge.enabled{background:#00d4aa26;color:var(--accent-primary)}.setting-arrow{font-size:1.25rem;color:var(--text-muted)}.theme-selector{cursor:default}.theme-selector:hover{border-color:var(--border-color)}.theme-options{display:flex;gap:var(--spacing-xs);background:var(--bg-primary);padding:var(--spacing-xs);border-radius:var(--radius-sm)}.theme-btn{width:40px;height:36px;border:2px solid transparent;border-radius:var(--radius-sm);background:transparent;font-size:1.125rem;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center}.theme-btn:hover{background:var(--bg-secondary);border-color:var(--border-color)}.theme-btn.active{background:var(--accent-primary);border-color:var(--accent-primary)}[data-theme=light] .theme-btn.active{background:var(--accent-primary);color:#fff}.danger-section h3{color:var(--error)}.setting-item.danger{border-color:#f443364d}.setting-item.danger:hover{border-color:var(--error);background:#f443360d}.setting-item.danger .setting-label{color:var(--error)}.modal-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;padding:var(--spacing-lg);z-index:100}.modal-content{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-xl);width:100%;max-width:400px;max-height:80vh;overflow-y:auto}.modal-content h3{font-size:1.25rem;margin-bottom:var(--spacing-md)}.btn-danger{background:var(--error);color:#fff;border:none}.btn-danger:hover:not(:disabled){background:#d32f2f}.btn-danger:disabled{opacity:.5}.accounts-list{display:flex;flex-direction:column;gap:var(--spacing-sm);margin-top:var(--spacing-md)}.account-item{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer}.account-item:hover,.account-item.active{border-color:var(--accent-primary)}.account-item.active{background:#d4af370d}.account-info{display:flex;flex-direction:column;gap:4px}.account-info .account-name{font-weight:500}.account-info .account-address{font-family:monospace;font-size:.75rem;color:var(--text-muted)}.active-badge{background:var(--accent-primary);color:var(--bg-primary);font-size:.625rem;font-weight:600;padding:4px 8px;border-radius:var(--radius-sm)}.add-account-form{border-top:1px solid var(--border-color);padding-top:var(--spacing-md)}.modal-lg{max-width:360px}.setting-item.info{cursor:default}.setting-item.info:hover{border-color:var(--border-color)}.activity-screen{min-height:100vh;display:flex;flex-direction:column;background:var(--color-bg)}.activity-filters{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md);background:var(--color-bg-secondary);border-bottom:1px solid rgba(0,255,255,.1)}.filter-btn{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:transparent;border:1px solid var(--color-secondary);border-radius:var(--border-radius);color:var(--color-text-muted);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.filter-btn.active{background:var(--color-primary);border-color:var(--color-primary);color:var(--color-bg)}.activity-list{flex:1;padding:var(--spacing-md);overflow-y:auto}.loading-state,.error-state,.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl) var(--spacing-md);text-align:center;gap:var(--spacing-md)}.empty-icon{font-size:48px;opacity:.5}.tx-item{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--color-bg-secondary);border-radius:var(--border-radius);margin-bottom:var(--spacing-sm);transition:background .2s ease}.tx-item:hover{background:#00ffff0d}.tx-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700}.tx-icon.sent{background:#ff444426;color:#f44}.tx-icon.received{background:#00e5cc26;color:var(--color-success)}.tx-details{flex:1;min-width:0}.tx-primary{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.tx-type,.tx-amount{font-weight:600;font-size:15px}.tx-amount.sent{color:#f44}.tx-amount.received{color:var(--color-success)}.tx-secondary{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--color-text-muted)}.tx-address{font-family:monospace;opacity:.8}.tx-status{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px}.tx-status.confirmed{background:#00e5cc26;color:var(--color-success)}.tx-status.pending{background:#ffc10726;color:var(--color-warning)}.tx-status.failed{background:#ff444426;color:var(--color-error)}:root,[data-theme=dark]{--color-bg: #000000;--color-bg-secondary: #0a0e1a;--color-primary: #00ffff;--color-primary-dark: #00d4ff;--color-accent: #00e5cc;--color-secondary: #0d1424;--color-text: #ffffff;--color-text-muted: #888;--color-success: #00ff9f;--color-warning: #ffc107;--color-error: #ff4444;--border-radius: 12px;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--glow-primary: 0 0 20px rgba(0, 255, 255, .4);--glow-success: 0 0 15px rgba(0, 255, 159, .4);--bg-primary: var(--color-bg);--bg-secondary: var(--color-bg-secondary);--accent-primary: var(--color-primary);--accent-secondary: var(--color-accent);--text-primary: var(--color-text);--text-muted: var(--color-text-muted);--border-color: #1a1f2e;--success: var(--color-success);--warning: var(--color-warning);--error: var(--color-error);--radius-sm: 8px;--radius-md: var(--border-radius);--radius-lg: 16px;--transition: .2s ease;--shadow-lg: 0 8px 32px rgba(0, 255, 255, .2)}[data-theme=light]{--color-bg: #f5f7fa;--color-bg-secondary: #ffffff;--color-primary: #0099aa;--color-primary-dark: #007788;--color-accent: #00b3a0;--color-secondary: #e8ecf0;--color-text: #1a1a2e;--color-text-muted: #666;--color-success: #00aa6e;--color-warning: #e6a800;--color-error: #dd3333;--glow-primary: 0 4px 20px rgba(0, 153, 170, .2);--glow-success: 0 4px 15px rgba(0, 170, 110, .2);--bg-primary: var(--color-bg);--bg-secondary: var(--color-bg-secondary);--accent-primary: var(--color-primary);--accent-secondary: var(--color-accent);--text-primary: var(--color-text);--text-muted: var(--color-text-muted);--border-color: #d0d5dd;--success: var(--color-success);--warning: var(--color-warning);--error: var(--color-error);--shadow-lg: 0 8px 32px rgba(0, 153, 170, .15)}*{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background:var(--color-bg);color:var(--color-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#root{min-height:100%;display:flex;flex-direction:column}.container{max-width:480px;margin:0 auto;padding:var(--spacing-md);width:100%}.card{background:var(--color-bg-secondary);border-radius:var(--border-radius);padding:var(--spacing-lg)}.btn{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);width:100%;padding:var(--spacing-md);border:none;border-radius:var(--border-radius);font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-primary{background:linear-gradient(135deg,var(--color-primary),var(--color-accent));color:#000;font-weight:600;box-shadow:var(--glow-primary)}.btn-primary:hover{opacity:.95;transform:translateY(-1px);box-shadow:0 0 30px #0ff9}.btn-primary:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-secondary{background:var(--color-secondary);color:var(--color-text)}.btn-secondary:hover{opacity:.9}.input{width:100%;padding:var(--spacing-md);border:1px solid var(--color-secondary);border-radius:var(--border-radius);background:var(--color-bg);color:var(--color-text);font-size:16px}.input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 10px #0ff3}.text-center{text-align:center}.text-muted{color:var(--color-text-muted)}.text-success{color:var(--color-success)}.text-error{color:var(--color-error)}.mb-sm{margin-bottom:var(--spacing-sm)}.mb-md{margin-bottom:var(--spacing-md)}.mb-lg{margin-bottom:var(--spacing-lg)}.mb-xl{margin-bottom:var(--spacing-xl)}.mt-sm{margin-top:var(--spacing-sm)}.mt-md{margin-top:var(--spacing-md)}.mt-lg{margin-top:var(--spacing-lg)}.mt-xl{margin-top:var(--spacing-xl)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-in{animation:fadeIn .3s ease-out}.spinner{width:40px;height:40px;border:3px solid var(--color-secondary);border-top-color:var(--color-primary);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@supports (padding-bottom: env(safe-area-inset-bottom)){.container{padding-bottom:calc(var(--spacing-md) + env(safe-area-inset-bottom))}}
diff --git a/wallet-extension/dist/assets/index-CN6WsqyE.js b/wallet-extension/dist/assets/index-CN6WsqyE.js
deleted file mode 100644
index f75fee02..00000000
--- a/wallet-extension/dist/assets/index-CN6WsqyE.js
+++ /dev/null
@@ -1,2122 +0,0 @@
-(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sl={exports:{}},Cs={},Cl={exports:{}},le={};/**
- * @license React
- * react.production.min.js
- *
- * Copyright (c) Facebook, Inc. and its affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var Nf;function My(){if(Nf)return le;Nf=1;var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function P(j,z,ae){this.props=j,this.context=z,this.refs=E,this.updater=ae||_}P.prototype.isReactComponent={},P.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=P.prototype;function I(j,z,ae){this.props=j,this.context=z,this.refs=E,this.updater=ae||_}var A=I.prototype=new T;A.constructor=I,R(A,P.prototype),A.isPureReactComponent=!0;var F=Array.isArray,D=Object.prototype.hasOwnProperty,K={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function $(j,z,ae){var ue,de={},fe=null,ge=null;if(z!=null)for(ue in z.ref!==void 0&&(ge=z.ref),z.key!==void 0&&(fe=""+z.key),z)D.call(z,ue)&&!W.hasOwnProperty(ue)&&(de[ue]=z[ue]);var pe=arguments.length-2;if(pe===1)de.children=ae;else if(1<pe){for(var ke=Array(pe),ot=0;ot<pe;ot++)ke[ot]=arguments[ot+2];de.children=ke}if(j&&j.defaultProps)for(ue in pe=j.defaultProps,pe)de[ue]===void 0&&(de[ue]=pe[ue]);return{$$typeof:n,type:j,key:fe,ref:ge,props:de,_owner:K.current}}function V(j,z){return{$$typeof:n,type:j.type,key:z,ref:j.ref,props:j.props,_owner:j._owner}}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function ye(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return z[ae]})}var ie=/\/+/g;function Te(j,z){return typeof j=="object"&&j!==null&&j.key!=null?ye(""+j.key):z.toString(36)}function st(j,z,ae,ue,de){var fe=typeof j;(fe==="undefined"||fe==="boolean")&&(j=null);var ge=!1;if(j===null)ge=!0;else switch(fe){case"string":case"number":ge=!0;break;case"object":switch(j.$$typeof){case n:case s:ge=!0}}if(ge)return ge=j,de=de(ge),j=ue===""?"."+Te(ge,0):ue,F(de)?(ae="",j!=null&&(ae=j.replace(ie,"$&/")+"/"),st(de,z,ae,"",function(ot){return ot})):de!=null&&(te(de)&&(de=V(de,ae+(!de.key||ge&&ge.key===de.key?"":(""+de.key).replace(ie,"$&/")+"/")+j)),z.push(de)),1;if(ge=0,ue=ue===""?".":ue+":",F(j))for(var pe=0;pe<j.length;pe++){fe=j[pe];var ke=ue+Te(fe,pe);ge+=st(fe,z,ae,ke,de)}else if(ke=k(j),typeof ke=="function")for(j=ke.call(j),pe=0;!(fe=j.next()).done;)fe=fe.value,ke=ue+Te(fe,pe++),ge+=st(fe,z,ae,ke,de);else if(fe==="object")throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ge}function it(j,z,ae){if(j==null)return j;var ue=[],de=0;return st(j,ue,"","",function(fe){return z.call(ae,fe,de++)}),ue}function Ge(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var je={current:null},Q={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Q,ReactCurrentOwner:K};function Y(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:it,forEach:function(j,z,ae){it(j,function(){z.apply(this,arguments)},ae)},count:function(j){var z=0;return it(j,function(){z++}),z},toArray:function(j){return it(j,function(z){return z})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},le.Component=P,le.Fragment=i,le.Profiler=c,le.PureComponent=I,le.StrictMode=l,le.Suspense=y,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,le.act=Y,le.cloneElement=function(j,z,ae){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ue=R({},j.props),de=j.key,fe=j.ref,ge=j._owner;if(z!=null){if(z.ref!==void 0&&(fe=z.ref,ge=K.current),z.key!==void 0&&(de=""+z.key),j.type&&j.type.defaultProps)var pe=j.type.defaultProps;for(ke in z)D.call(z,ke)&&!W.hasOwnProperty(ke)&&(ue[ke]=z[ke]===void 0&&pe!==void 0?pe[ke]:z[ke])}var ke=arguments.length-2;if(ke===1)ue.children=ae;else if(1<ke){pe=Array(ke);for(var ot=0;ot<ke;ot++)pe[ot]=arguments[ot+2];ue.children=pe}return{$$typeof:n,type:j.type,key:de,ref:fe,props:ue,_owner:ge}},le.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:f,_context:j},j.Consumer=j},le.createElement=$,le.createFactory=function(j){var z=$.bind(null,j);return z.type=j,z},le.createRef=function(){return{current:null}},le.forwardRef=function(j){return{$$typeof:p,render:j}},le.isValidElement=te,le.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Ge}},le.memo=function(j,z){return{$$typeof:g,type:j,compare:z===void 0?null:z}},le.startTransition=function(j){var z=Q.transition;Q.transition={};try{j()}finally{Q.transition=z}},le.unstable_act=Y,le.useCallback=function(j,z){return je.current.useCallback(j,z)},le.useContext=function(j){return je.current.useContext(j)},le.useDebugValue=function(){},le.useDeferredValue=function(j){return je.current.useDeferredValue(j)},le.useEffect=function(j,z){return je.current.useEffect(j,z)},le.useId=function(){return je.current.useId()},le.useImperativeHandle=function(j,z,ae){return je.current.useImperativeHandle(j,z,ae)},le.useInsertionEffect=function(j,z){return je.current.useInsertionEffect(j,z)},le.useLayoutEffect=function(j,z){return je.current.useLayoutEffect(j,z)},le.useMemo=function(j,z){return je.current.useMemo(j,z)},le.useReducer=function(j,z,ae){return je.current.useReducer(j,z,ae)},le.useRef=function(j){return je.current.useRef(j)},le.useState=function(j){return je.current.useState(j)},le.useSyncExternalStore=function(j,z,ae){return je.current.useSyncExternalStore(j,z,ae)},le.useTransition=function(){return je.current.useTransition()},le.version="18.3.1",le}var Ef;function ru(){return Ef||(Ef=1,Cl.exports=My()),Cl.exports}/**
- * @license React
- * react-jsx-runtime.production.min.js
- *
- * Copyright (c) Facebook, Inc. and its affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var jf;function zy(){if(jf)return Cs;jf=1;var n=ru(),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(p,y,g){var v,w={},k=null,_=null;g!==void 0&&(k=""+g),y.key!==void 0&&(k=""+y.key),y.ref!==void 0&&(_=y.ref);for(v in y)l.call(y,v)&&!f.hasOwnProperty(v)&&(w[v]=y[v]);if(p&&p.defaultProps)for(v in y=p.defaultProps,y)w[v]===void 0&&(w[v]=y[v]);return{$$typeof:s,type:p,key:k,ref:_,props:w,_owner:c.current}}return Cs.Fragment=i,Cs.jsx=h,Cs.jsxs=h,Cs}var bf;function Uy(){return bf||(bf=1,Sl.exports=zy()),Sl.exports}var d=Uy(),S=ru();const By=kh(S);var Gi={},Nl={exports:{}},tt={},El={exports:{}},jl={};/**
- * @license React
- * scheduler.production.min.js
- *
- * Copyright (c) Facebook, Inc. and its affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var Pf;function Hy(){return Pf||(Pf=1,(function(n){function s(Q,se){var Y=Q.length;Q.push(se);e:for(;0<Y;){var j=Y-1>>>1,z=Q[j];if(0<c(z,se))Q[j]=se,Q[Y]=z,Y=j;else break e}}function i(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var se=Q[0],Y=Q.pop();if(Y!==se){Q[0]=Y;e:for(var j=0,z=Q.length,ae=z>>>1;j<ae;){var ue=2*(j+1)-1,de=Q[ue],fe=ue+1,ge=Q[fe];if(0>c(de,Y))fe<z&&0>c(ge,de)?(Q[j]=ge,Q[fe]=Y,j=fe):(Q[j]=de,Q[ue]=Y,j=ue);else if(fe<z&&0>c(ge,Y))Q[j]=ge,Q[fe]=Y,j=fe;else break e}}return se}function c(Q,se){var Y=Q.sortIndex-se.sortIndex;return Y!==0?Y:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var y=[],g=[],v=1,w=null,k=3,_=!1,R=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var se=i(g);se!==null;){if(se.callback===null)l(g);else if(se.startTime<=Q)l(g),se.sortIndex=se.expirationTime,s(y,se);else break;se=i(g)}}function F(Q){if(E=!1,A(Q),!R)if(i(y)!==null)R=!0,Ge(D);else{var se=i(g);se!==null&&je(F,se.startTime-Q)}}function D(Q,se){R=!1,E&&(E=!1,T($),$=-1),_=!0;var Y=k;try{for(A(se),w=i(y);w!==null&&(!(w.expirationTime>se)||Q&&!ye());){var j=w.callback;if(typeof j=="function"){w.callback=null,k=w.priorityLevel;var z=j(w.expirationTime<=se);se=n.unstable_now(),typeof z=="function"?w.callback=z:w===i(y)&&l(y),A(se)}else l(y);w=i(y)}if(w!==null)var ae=!0;else{var ue=i(g);ue!==null&&je(F,ue.startTime-se),ae=!1}return ae}finally{w=null,k=Y,_=!1}}var K=!1,W=null,$=-1,V=5,te=-1;function ye(){return!(n.unstable_now()-te<V)}function ie(){if(W!==null){var Q=n.unstable_now();te=Q;var se=!0;try{se=W(!0,Q)}finally{se?Te():(K=!1,W=null)}}else K=!1}var Te;if(typeof I=="function")Te=function(){I(ie)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,it=st.port2;st.port1.onmessage=ie,Te=function(){it.postMessage(null)}}else Te=function(){P(ie,0)};function Ge(Q){W=Q,K||(K=!0,Te())}function je(Q,se){$=P(function(){Q(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){R||_||(R=!0,Ge(D))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return i(y)},n.unstable_next=function(Q){switch(k){case 1:case 2:case 3:var se=3;break;default:se=k}var Y=k;k=se;try{return Q()}finally{k=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Y=k;k=Q;try{return se()}finally{k=Y}},n.unstable_scheduleCallback=function(Q,se,Y){var j=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?j+Y:j):Y=j,Q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,Q={id:v++,callback:se,priorityLevel:Q,startTime:Y,expirationTime:z,sortIndex:-1},Y>j?(Q.sortIndex=Y,s(g,Q),i(y)===null&&Q===i(g)&&(E?(T($),$=-1):E=!0,je(F,Y-j))):(Q.sortIndex=z,s(y,Q),R||_||(R=!0,Ge(D))),Q},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(Q){var se=k;return function(){var Y=k;k=se;try{return Q.apply(this,arguments)}finally{k=Y}}}})(jl)),jl}var Rf;function $y(){return Rf||(Rf=1,El.exports=Hy()),El.exports}/**
- * @license React
- * react-dom.production.min.js
- *
- * Copyright (c) Facebook, Inc. and its affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var Tf;function Wy(){if(Tf)return tt;Tf=1;var n=ru(),s=$y();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function k(e){return y.call(w,e)?!0:y.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function _(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,r,o){if(t===null||typeof t>"u"||_(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,r,o,a,u,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=m}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,I);P[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,I);P[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,I);P[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,r,o){var a=P.hasOwnProperty(t)?P[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,r,a,o)&&(r=null),o||a===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,o=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),K=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ye=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,j;function z(e){if(j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
-`+j+e}var ae=!1;function ue(e,t){if(!e||ae)return"";ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var o=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){o=O}e.call(t.prototype)}else{try{throw Error()}catch(O){o=O}e()}}catch(O){if(O&&o&&typeof O.stack=="string"){for(var a=O.stack.split(`
-`),u=o.stack.split(`
-`),m=a.length-1,x=u.length-1;1<=m&&0<=x&&a[m]!==u[x];)x--;for(;1<=m&&0<=x;m--,x--)if(a[m]!==u[x]){if(m!==1||x!==1)do if(m--,x--,0>x||a[m]!==u[x]){var C=`
-`+a[m].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=m&&0<=x);break}}}finally{ae=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function de(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case K:return"Portal";case V:return"Profiler";case $:return"StrictMode";case Te:return"Suspense";case st:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ye:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case it:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case Ge:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=ke(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(m){o=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=ot(e))}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=ke(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ro(e,t){var r=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Tu(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=pe(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Au(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function To(e,t){Au(e,t);var r=pe(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ao(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ao(e,t.type,pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ao(e,t,r){(t!=="number"||Us(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mr=Array.isArray;function Xn(e,t,r,o){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&o&&(e[r].defaultSelected=!0)}else{for(r=""+pe(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _u(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(Mr(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pe(r)}}function Iu(e,t){var r=pe(t.value),o=pe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function Ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,Du=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hp=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){Hp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function Mu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function zu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,a=Mu(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,a):e[r]=a}}var $p=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(e,t){if(t){if($p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,Zn=null,Jn=null;function Uu(e){if(e=ls(e)){if(typeof Mo!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ci(t),Mo(e.stateNode,e.type,t))}}function Bu(e){Zn?Jn?Jn.push(e):Jn=[e]:Zn=e}function Hu(){if(Zn){var e=Zn,t=Jn;if(Jn=Zn=null,Uu(e),t)for(e=0;e<t.length;e++)Uu(t[e])}}function $u(e,t){return e(t)}function Wu(){}var zo=!1;function Vu(e,t,r){if(zo)return e(t,r);zo=!0;try{return $u(e,t,r)}finally{zo=!1,(Zn!==null||Jn!==null)&&(Wu(),Hu())}}function Br(e,t){var r=e.stateNode;if(r===null)return null;var o=ci(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Uo=!1;if(p)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Uo=!1}function Wp(e,t,r,o,a,u,m,x,C){var O=Array.prototype.slice.call(arguments,3);try{t.apply(r,O)}catch(U){this.onError(U)}}var $r=!1,Hs=null,$s=!1,Bo=null,Vp={onError:function(e){$r=!0,Hs=e}};function Qp(e,t,r,o,a,u,m,x,C){$r=!1,Hs=null,Wp.apply(Vp,arguments)}function Kp(e,t,r,o,a,u,m,x,C){if(Qp.apply(this,arguments),$r){if($r){var O=Hs;$r=!1,Hs=null}else throw Error(i(198));$s||($s=!0,Bo=O)}}function Tn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ku(e){if(Tn(e)!==e)throw Error(i(188))}function qp(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,o=t;;){var a=r.return;if(a===null)break;var u=a.alternate;if(u===null){if(o=a.return,o!==null){r=o;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===r)return Ku(a),e;if(u===o)return Ku(a),t;u=u.sibling}throw Error(i(188))}if(r.return!==o.return)r=a,o=u;else{for(var m=!1,x=a.child;x;){if(x===r){m=!0,r=a,o=u;break}if(x===o){m=!0,o=a,r=u;break}x=x.sibling}if(!m){for(x=u.child;x;){if(x===r){m=!0,r=u,o=a;break}if(x===o){m=!0,o=u,r=a;break}x=x.sibling}if(!m)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function qu(e){return e=qp(e),e!==null?Gu(e):null}function Gu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gu(e);if(t!==null)return t;e=e.sibling}return null}var Yu=s.unstable_scheduleCallback,Xu=s.unstable_cancelCallback,Gp=s.unstable_shouldYield,Yp=s.unstable_requestPaint,Pe=s.unstable_now,Xp=s.unstable_getCurrentPriorityLevel,Ho=s.unstable_ImmediatePriority,Zu=s.unstable_UserBlockingPriority,Ws=s.unstable_NormalPriority,Zp=s.unstable_LowPriority,Ju=s.unstable_IdlePriority,Vs=null,At=null;function Jp(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Vs,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:nm,em=Math.log,tm=Math.LN2;function nm(e){return e>>>=0,e===0?32:31-(em(e)/tm|0)|0}var Qs=64,Ks=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,a=e.suspendedLanes,u=e.pingedLanes,m=r&268435455;if(m!==0){var x=m&~a;x!==0?o=Wr(x):(u&=m,u!==0&&(o=Wr(u)))}else m=r&~a,m!==0?o=Wr(m):u!==0&&(o=Wr(u));if(o===0)return 0;if(t!==0&&t!==o&&(t&a)===0&&(a=o&-o,u=t&-t,a>=u||a===16&&(u&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Nt(t),a=1<<r,o|=e[r],t&=~a;return o}function rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var m=31-Nt(u),x=1<<m,C=a[m];C===-1?((x&r)===0||(x&o)!==0)&&(a[m]=rm(x,t)):C<=t&&(e.expiredLanes|=x),u&=~x}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ec(){var e=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),e}function Wo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=r}function im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Nt(r),u=1<<a;t[a]=0,o[a]=-1,e[a]=-1,r&=~u}}function Vo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Nt(r),a=1<<o;a&t|e[o]&t&&(e[o]|=t),r&=~a}}var me=0;function tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var nc,Qo,rc,sc,ic,Ko=!1,Gs=[],nn=null,rn=null,sn=null,Qr=new Map,Kr=new Map,on=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function qr(e,t,r,o,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:u,targetContainers:[a]},t!==null&&(t=ls(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function am(e,t,r,o,a){switch(t){case"focusin":return nn=qr(nn,e,t,r,o,a),!0;case"dragenter":return rn=qr(rn,e,t,r,o,a),!0;case"mouseover":return sn=qr(sn,e,t,r,o,a),!0;case"pointerover":var u=a.pointerId;return Qr.set(u,qr(Qr.get(u)||null,e,t,r,o,a)),!0;case"gotpointercapture":return u=a.pointerId,Kr.set(u,qr(Kr.get(u)||null,e,t,r,o,a)),!0}return!1}function ac(e){var t=An(e.target);if(t!==null){var r=Tn(t);if(r!==null){if(t=r.tag,t===13){if(t=Qu(r),t!==null){e.blockedOn=t,ic(e.priority,function(){rc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Fo=o,r.target.dispatchEvent(o),Fo=null}else return t=ls(r),t!==null&&Qo(t),e.blockedOn=r,!1;t.shift()}return!0}function lc(e,t,r){Ys(e)&&r.delete(t)}function lm(){Ko=!1,nn!==null&&Ys(nn)&&(nn=null),rn!==null&&Ys(rn)&&(rn=null),sn!==null&&Ys(sn)&&(sn=null),Qr.forEach(lc),Kr.forEach(lc)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lm)))}function Yr(e){function t(a){return Gr(a,e)}if(0<Gs.length){Gr(Gs[0],e);for(var r=1;r<Gs.length;r++){var o=Gs[r];o.blockedOn===e&&(o.blockedOn=null)}}for(nn!==null&&Gr(nn,e),rn!==null&&Gr(rn,e),sn!==null&&Gr(sn,e),Qr.forEach(t),Kr.forEach(t),r=0;r<on.length;r++)o=on[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<on.length&&(r=on[0],r.blockedOn===null);)ac(r),r.blockedOn===null&&on.shift()}var er=F.ReactCurrentBatchConfig,Xs=!0;function um(e,t,r,o){var a=me,u=er.transition;er.transition=null;try{me=1,qo(e,t,r,o)}finally{me=a,er.transition=u}}function cm(e,t,r,o){var a=me,u=er.transition;er.transition=null;try{me=4,qo(e,t,r,o)}finally{me=a,er.transition=u}}function qo(e,t,r,o){if(Xs){var a=Go(e,t,r,o);if(a===null)fa(e,t,o,Zs,r),oc(e,o);else if(am(a,e,t,r,o))o.stopPropagation();else if(oc(e,o),t&4&&-1<om.indexOf(e)){for(;a!==null;){var u=ls(a);if(u!==null&&nc(u),u=Go(e,t,r,o),u===null&&fa(e,t,o,Zs,r),u===a)break;a=u}a!==null&&o.stopPropagation()}else fa(e,t,o,null,r)}}var Zs=null;function Go(e,t,r,o){if(Zs=null,e=Do(o),e=An(e),e!==null)if(t=Tn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zs=e,null}function uc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case Ho:return 1;case Zu:return 4;case Ws:case Zp:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var an=null,Yo=null,Js=null;function cc(){if(Js)return Js;var e,t=Yo,r=t.length,o,a="value"in an?an.value:an.textContent,u=a.length;for(e=0;e<r&&t[e]===a[e];e++);var m=r-e;for(o=1;o<=m&&t[r-o]===a[u-o];o++);return Js=a.slice(e,1<o?1-o:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function dc(){return!1}function at(e){function t(r,o,a,u,m){this._reactName=r,this._targetInst=a,this.type=o,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ti:dc,this.isPropagationStopped=dc,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=at(tr),Xr=Y({},tr,{view:0,detail:0}),dm=at(Xr),Zo,Jo,Zr,ni=Y({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(Zo=e.screenX-Zr.screenX,Jo=e.screenY-Zr.screenY):Jo=Zo=0,Zr=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),fc=at(ni),fm=Y({},ni,{dataTransfer:0}),hm=at(fm),pm=Y({},Xr,{relatedTarget:0}),ea=at(pm),mm=Y({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=at(mm),gm=Y({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vm=at(gm),wm=Y({},tr,{data:0}),hc=at(wm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sm[e])?!!t[e]:!1}function ta(){return Cm}var Nm=Y({},Xr,{key:function(e){if(e.key){var t=xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Em=at(Nm),jm=Y({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=at(jm),bm=Y({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Pm=at(bm),Rm=Y({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=at(Rm),Am=Y({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=at(Am),_m=[9,13,27,32],na=p&&"CompositionEvent"in window,Jr=null;p&&"documentMode"in document&&(Jr=document.documentMode);var Im=p&&"TextEvent"in window&&!Jr,mc=p&&(!na||Jr&&8<Jr&&11>=Jr),yc=" ",gc=!1;function vc(e,t){switch(e){case"keyup":return _m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nr=!1;function Om(e,t){switch(e){case"compositionend":return wc(t);case"keypress":return t.which!==32?null:(gc=!0,yc);case"textInput":return e=t.data,e===yc&&gc?null:e;default:return null}}function Fm(e,t){if(nr)return e==="compositionend"||!na&&vc(e,t)?(e=cc(),Js=Yo=an=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mc&&t.locale!=="ko"?null:t.data;default:return null}}var Dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dm[e.type]:t==="textarea"}function kc(e,t,r,o){Bu(o),t=ai(t,"onChange"),0<t.length&&(r=new Xo("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var es=null,ts=null;function Mm(e){zc(e,0)}function ri(e){var t=ar(e);if(Ru(t))return e}function zm(e,t){if(e==="change")return t}var Sc=!1;if(p){var ra;if(p){var sa="oninput"in document;if(!sa){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),sa=typeof Cc.oninput=="function"}ra=sa}else ra=!1;Sc=ra&&(!document.documentMode||9<document.documentMode)}function Nc(){es&&(es.detachEvent("onpropertychange",Ec),ts=es=null)}function Ec(e){if(e.propertyName==="value"&&ri(ts)){var t=[];kc(t,ts,e,Do(e)),Vu(Mm,t)}}function Um(e,t,r){e==="focusin"?(Nc(),es=t,ts=r,es.attachEvent("onpropertychange",Ec)):e==="focusout"&&Nc()}function Bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(ts)}function Hm(e,t){if(e==="click")return ri(t)}function $m(e,t){if(e==="input"||e==="change")return ri(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Wm;function ns(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var a=r[o];if(!y.call(t,a)||!Et(e[a],t[a]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var r=jc(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jc(r)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Us(e.document)}return t}function ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vm(e){var t=Rc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pc(r.ownerDocument.documentElement,r)){if(o!==null&&ia(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,u=Math.min(o.start,a);o=o.end===void 0?u:Math.min(o.end,a),!e.extend&&u>o&&(a=o,o=u,u=a),a=bc(r,u);var m=bc(r,o);a&&m&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qm=p&&"documentMode"in document&&11>=document.documentMode,rr=null,oa=null,rs=null,aa=!1;function Tc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aa||rr==null||rr!==Us(o)||(o=rr,"selectionStart"in o&&ia(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rs&&ns(rs,o)||(rs=o,o=ai(oa,"onSelect"),0<o.length&&(t=new Xo("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=rr)))}function si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},la={},Ac={};p&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function ii(e){if(la[e])return la[e];if(!sr[e])return e;var t=sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ac)return la[e]=t[r];return e}var Lc=ii("animationend"),_c=ii("animationiteration"),Ic=ii("animationstart"),Oc=ii("transitionend"),Fc=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){Fc.set(e,t),f(t,[e])}for(var ua=0;ua<Dc.length;ua++){var ca=Dc[ua],Km=ca.toLowerCase(),qm=ca[0].toUpperCase()+ca.slice(1);ln(Km,"on"+qm)}ln(Lc,"onAnimationEnd"),ln(_c,"onAnimationIteration"),ln(Ic,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(Oc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Mc(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Kp(o,t,void 0,e),e.currentTarget=null}function zc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],a=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var m=o.length-1;0<=m;m--){var x=o[m],C=x.instance,O=x.currentTarget;if(x=x.listener,C!==u&&a.isPropagationStopped())break e;Mc(a,x,O),u=C}else for(m=0;m<o.length;m++){if(x=o[m],C=x.instance,O=x.currentTarget,x=x.listener,C!==u&&a.isPropagationStopped())break e;Mc(a,x,O),u=C}}}if($s)throw e=Bo,$s=!1,Bo=null,e}function we(e,t){var r=t[va];r===void 0&&(r=t[va]=new Set);var o=e+"__bubble";r.has(o)||(Uc(t,e,2,!1),r.add(o))}function da(e,t,r){var o=0;t&&(o|=4),Uc(r,e,o,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[oi]){e[oi]=!0,l.forEach(function(r){r!=="selectionchange"&&(Gm.has(r)||da(r,!1,e),da(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,da("selectionchange",!1,t))}}function Uc(e,t,r,o){switch(uc(t)){case 1:var a=um;break;case 4:a=cm;break;default:a=qo}r=a.bind(null,t,r,e),a=void 0,!Uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fa(e,t,r,o,a){var u=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var x=o.stateNode.containerInfo;if(x===a||x.nodeType===8&&x.parentNode===a)break;if(m===4)for(m=o.return;m!==null;){var C=m.tag;if((C===3||C===4)&&(C=m.stateNode.containerInfo,C===a||C.nodeType===8&&C.parentNode===a))return;m=m.return}for(;x!==null;){if(m=An(x),m===null)return;if(C=m.tag,C===5||C===6){o=u=m;continue e}x=x.parentNode}}o=o.return}Vu(function(){var O=u,U=Do(r),B=[];e:{var M=Fc.get(e);if(M!==void 0){var q=Xo,X=e;switch(e){case"keypress":if(ei(r)===0)break e;case"keydown":case"keyup":q=Em;break;case"focusin":X="focus",q=ea;break;case"focusout":X="blur",q=ea;break;case"beforeblur":case"afterblur":q=ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Pm;break;case Lc:case _c:case Ic:q=ym;break;case Oc:q=Tm;break;case"scroll":q=dm;break;case"wheel":q=Lm;break;case"copy":case"cut":case"paste":q=vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=pc}var J=(t&4)!==0,Re=!J&&e==="scroll",b=J?M!==null?M+"Capture":null:M;J=[];for(var N=O,L;N!==null;){L=N;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,b!==null&&(H=Br(N,b),H!=null&&J.push(os(N,H,L)))),Re)break;N=N.return}0<J.length&&(M=new q(M,X,null,r,U),B.push({event:M,listeners:J}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",M&&r!==Fo&&(X=r.relatedTarget||r.fromElement)&&(An(X)||X[Ht]))break e;if((q||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,q?(X=r.relatedTarget||r.toElement,q=O,X=X?An(X):null,X!==null&&(Re=Tn(X),X!==Re||X.tag!==5&&X.tag!==6)&&(X=null)):(q=null,X=O),q!==X)){if(J=fc,H="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(J=pc,H="onPointerLeave",b="onPointerEnter",N="pointer"),Re=q==null?M:ar(q),L=X==null?M:ar(X),M=new J(H,N+"leave",q,r,U),M.target=Re,M.relatedTarget=L,H=null,An(U)===O&&(J=new J(b,N+"enter",X,r,U),J.target=L,J.relatedTarget=Re,H=J),Re=H,q&&X)t:{for(J=q,b=X,N=0,L=J;L;L=ir(L))N++;for(L=0,H=b;H;H=ir(H))L++;for(;0<N-L;)J=ir(J),N--;for(;0<L-N;)b=ir(b),L--;for(;N--;){if(J===b||b!==null&&J===b.alternate)break t;J=ir(J),b=ir(b)}J=null}else J=null;q!==null&&Bc(B,M,q,J,!1),X!==null&&Re!==null&&Bc(B,Re,X,J,!0)}}e:{if(M=O?ar(O):window,q=M.nodeName&&M.nodeName.toLowerCase(),q==="select"||q==="input"&&M.type==="file")var ee=zm;else if(xc(M))if(Sc)ee=$m;else{ee=Bm;var ne=Um}else(q=M.nodeName)&&q.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ee=Hm);if(ee&&(ee=ee(e,O))){kc(B,ee,r,U);break e}ne&&ne(e,M,O),e==="focusout"&&(ne=M._wrapperState)&&ne.controlled&&M.type==="number"&&Ao(M,"number",M.value)}switch(ne=O?ar(O):window,e){case"focusin":(xc(ne)||ne.contentEditable==="true")&&(rr=ne,oa=O,rs=null);break;case"focusout":rs=oa=rr=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Tc(B,r,U);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Tc(B,r,U)}var re;if(na)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else nr?vc(e,r)&&(oe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(oe="onCompositionStart");oe&&(mc&&r.locale!=="ko"&&(nr||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&nr&&(re=cc()):(an=U,Yo="value"in an?an.value:an.textContent,nr=!0)),ne=ai(O,oe),0<ne.length&&(oe=new hc(oe,e,null,r,U),B.push({event:oe,listeners:ne}),re?oe.data=re:(re=wc(r),re!==null&&(oe.data=re)))),(re=Im?Om(e,r):Fm(e,r))&&(O=ai(O,"onBeforeInput"),0<O.length&&(U=new hc("onBeforeInput","beforeinput",null,r,U),B.push({event:U,listeners:O}),U.data=re))}zc(B,t)})}function os(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ai(e,t){for(var r=t+"Capture",o=[];e!==null;){var a=e,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=Br(e,r),u!=null&&o.unshift(os(e,u,a)),u=Br(e,t),u!=null&&o.push(os(e,u,a))),e=e.return}return o}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,t,r,o,a){for(var u=t._reactName,m=[];r!==null&&r!==o;){var x=r,C=x.alternate,O=x.stateNode;if(C!==null&&C===o)break;x.tag===5&&O!==null&&(x=O,a?(C=Br(r,u),C!=null&&m.unshift(os(r,C,x))):a||(C=Br(r,u),C!=null&&m.push(os(r,C,x)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var Ym=/\r\n?/g,Xm=/\u0000|\uFFFD/g;function Hc(e){return(typeof e=="string"?e:""+e).replace(Ym,`
-`).replace(Xm,"")}function li(e,t,r){if(t=Hc(t),Hc(e)!==t&&r)throw Error(i(425))}function ui(){}var ha=null,pa=null;function ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(ey)}:ya;function ey(e){setTimeout(function(){throw e})}function ga(e,t){var r=t,o=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(o===0){e.removeChild(a),Yr(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=a}while(r);Yr(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),Lt="__reactFiber$"+or,as="__reactProps$"+or,Ht="__reactContainer$"+or,va="__reactEvents$"+or,ty="__reactListeners$"+or,ny="__reactHandles$"+or;function An(e){var t=e[Lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ht]||r[Lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wc(e);e!==null;){if(r=e[Lt])return r;e=Wc(e)}return t}e=r,r=e.parentNode}return null}function ls(e){return e=e[Lt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ci(e){return e[as]||null}var wa=[],lr=-1;function cn(e){return{current:e}}function xe(e){0>lr||(e.current=wa[lr],wa[lr]=null,lr--)}function ve(e,t){lr++,wa[lr]=e.current,e.current=t}var dn={},Be=cn(dn),Ye=cn(!1),Ln=dn;function ur(e,t){var r=e.type.contextTypes;if(!r)return dn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in r)a[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xe(e){return e=e.childContextTypes,e!=null}function di(){xe(Ye),xe(Be)}function Vc(e,t,r){if(Be.current!==dn)throw Error(i(168));ve(Be,t),ve(Ye,r)}function Qc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(i(108,ge(e)||"Unknown",a));return Y({},r,o)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Ln=Be.current,ve(Be,e),ve(Ye,Ye.current),!0}function Kc(e,t,r){var o=e.stateNode;if(!o)throw Error(i(169));r?(e=Qc(e,t,Ln),o.__reactInternalMemoizedMergedChildContext=e,xe(Ye),xe(Be),ve(Be,e)):xe(Ye),ve(Ye,r)}var $t=null,hi=!1,xa=!1;function qc(e){$t===null?$t=[e]:$t.push(e)}function ry(e){hi=!0,qc(e)}function fn(){if(!xa&&$t!==null){xa=!0;var e=0,t=me;try{var r=$t;for(me=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}$t=null,hi=!1}catch(a){throw $t!==null&&($t=$t.slice(e+1)),Yu(Ho,fn),a}finally{me=t,xa=!1}}return null}var cr=[],dr=0,pi=null,mi=0,dt=[],ft=0,_n=null,Wt=1,Vt="";function In(e,t){cr[dr++]=mi,cr[dr++]=pi,pi=e,mi=t}function Gc(e,t,r){dt[ft++]=Wt,dt[ft++]=Vt,dt[ft++]=_n,_n=e;var o=Wt;e=Vt;var a=32-Nt(o)-1;o&=~(1<<a),r+=1;var u=32-Nt(t)+a;if(30<u){var m=a-a%5;u=(o&(1<<m)-1).toString(32),o>>=m,a-=m,Wt=1<<32-Nt(t)+a|r<<a|o,Vt=u+e}else Wt=1<<u|r<<a|o,Vt=e}function ka(e){e.return!==null&&(In(e,1),Gc(e,1,0))}function Sa(e){for(;e===pi;)pi=cr[--dr],cr[dr]=null,mi=cr[--dr],cr[dr]=null;for(;e===_n;)_n=dt[--ft],dt[ft]=null,Vt=dt[--ft],dt[ft]=null,Wt=dt[--ft],dt[ft]=null}var lt=null,ut=null,Se=!1,jt=null;function Yc(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ut=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_n!==null?{id:Wt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ut=null,!0):!1;default:return!1}}function Ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Na(e){if(Se){var t=ut;if(t){var r=t;if(!Xc(e,t)){if(Ca(e))throw Error(i(418));t=un(r.nextSibling);var o=lt;t&&Xc(e,t)?Yc(o,r):(e.flags=e.flags&-4097|2,Se=!1,lt=e)}}else{if(Ca(e))throw Error(i(418));e.flags=e.flags&-4097|2,Se=!1,lt=e}}}function Zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function yi(e){if(e!==lt)return!1;if(!Se)return Zc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ma(e.type,e.memoizedProps)),t&&(t=ut)){if(Ca(e))throw Jc(),Error(i(418));for(;t;)Yc(e,t),t=un(t.nextSibling)}if(Zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=lt?un(e.stateNode.nextSibling):null;return!0}function Jc(){for(var e=ut;e;)e=un(e.nextSibling)}function fr(){ut=lt=null,Se=!1}function Ea(e){jt===null?jt=[e]:jt.push(e)}var sy=F.ReactCurrentBatchConfig;function us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var o=r.stateNode}if(!o)throw Error(i(147,e));var a=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(m){var x=a.refs;m===null?delete x[u]:x[u]=m},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ed(e){var t=e._init;return t(e._payload)}function td(e){function t(b,N){if(e){var L=b.deletions;L===null?(b.deletions=[N],b.flags|=16):L.push(N)}}function r(b,N){if(!e)return null;for(;N!==null;)t(b,N),N=N.sibling;return null}function o(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function a(b,N){return b=xn(b,N),b.index=0,b.sibling=null,b}function u(b,N,L){return b.index=L,e?(L=b.alternate,L!==null?(L=L.index,L<N?(b.flags|=2,N):L):(b.flags|=2,N)):(b.flags|=1048576,N)}function m(b){return e&&b.alternate===null&&(b.flags|=2),b}function x(b,N,L,H){return N===null||N.tag!==6?(N=yl(L,b.mode,H),N.return=b,N):(N=a(N,L),N.return=b,N)}function C(b,N,L,H){var ee=L.type;return ee===W?U(b,N,L.props.children,H,L.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ge&&ed(ee)===N.type)?(H=a(N,L.props),H.ref=us(b,N,L),H.return=b,H):(H=Bi(L.type,L.key,L.props,null,b.mode,H),H.ref=us(b,N,L),H.return=b,H)}function O(b,N,L,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=gl(L,b.mode,H),N.return=b,N):(N=a(N,L.children||[]),N.return=b,N)}function U(b,N,L,H,ee){return N===null||N.tag!==7?(N=Hn(L,b.mode,H,ee),N.return=b,N):(N=a(N,L),N.return=b,N)}function B(b,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return N=yl(""+N,b.mode,L),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return L=Bi(N.type,N.key,N.props,null,b.mode,L),L.ref=us(b,null,N),L.return=b,L;case K:return N=gl(N,b.mode,L),N.return=b,N;case Ge:var H=N._init;return B(b,H(N._payload),L)}if(Mr(N)||se(N))return N=Hn(N,b.mode,L,null),N.return=b,N;gi(b,N)}return null}function M(b,N,L,H){var ee=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ee!==null?null:x(b,N,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ee?C(b,N,L,H):null;case K:return L.key===ee?O(b,N,L,H):null;case Ge:return ee=L._init,M(b,N,ee(L._payload),H)}if(Mr(L)||se(L))return ee!==null?null:U(b,N,L,H,null);gi(b,L)}return null}function q(b,N,L,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return b=b.get(L)||null,x(N,b,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return b=b.get(H.key===null?L:H.key)||null,C(N,b,H,ee);case K:return b=b.get(H.key===null?L:H.key)||null,O(N,b,H,ee);case Ge:var ne=H._init;return q(b,N,L,ne(H._payload),ee)}if(Mr(H)||se(H))return b=b.get(L)||null,U(N,b,H,ee,null);gi(N,H)}return null}function X(b,N,L,H){for(var ee=null,ne=null,re=N,oe=N=0,Fe=null;re!==null&&oe<L.length;oe++){re.index>oe?(Fe=re,re=null):Fe=re.sibling;var he=M(b,re,L[oe],H);if(he===null){re===null&&(re=Fe);break}e&&re&&he.alternate===null&&t(b,re),N=u(he,N,oe),ne===null?ee=he:ne.sibling=he,ne=he,re=Fe}if(oe===L.length)return r(b,re),Se&&In(b,oe),ee;if(re===null){for(;oe<L.length;oe++)re=B(b,L[oe],H),re!==null&&(N=u(re,N,oe),ne===null?ee=re:ne.sibling=re,ne=re);return Se&&In(b,oe),ee}for(re=o(b,re);oe<L.length;oe++)Fe=q(re,b,oe,L[oe],H),Fe!==null&&(e&&Fe.alternate!==null&&re.delete(Fe.key===null?oe:Fe.key),N=u(Fe,N,oe),ne===null?ee=Fe:ne.sibling=Fe,ne=Fe);return e&&re.forEach(function(kn){return t(b,kn)}),Se&&In(b,oe),ee}function J(b,N,L,H){var ee=se(L);if(typeof ee!="function")throw Error(i(150));if(L=ee.call(L),L==null)throw Error(i(151));for(var ne=ee=null,re=N,oe=N=0,Fe=null,he=L.next();re!==null&&!he.done;oe++,he=L.next()){re.index>oe?(Fe=re,re=null):Fe=re.sibling;var kn=M(b,re,he.value,H);if(kn===null){re===null&&(re=Fe);break}e&&re&&kn.alternate===null&&t(b,re),N=u(kn,N,oe),ne===null?ee=kn:ne.sibling=kn,ne=kn,re=Fe}if(he.done)return r(b,re),Se&&In(b,oe),ee;if(re===null){for(;!he.done;oe++,he=L.next())he=B(b,he.value,H),he!==null&&(N=u(he,N,oe),ne===null?ee=he:ne.sibling=he,ne=he);return Se&&In(b,oe),ee}for(re=o(b,re);!he.done;oe++,he=L.next())he=q(re,b,oe,he.value,H),he!==null&&(e&&he.alternate!==null&&re.delete(he.key===null?oe:he.key),N=u(he,N,oe),ne===null?ee=he:ne.sibling=he,ne=he);return e&&re.forEach(function(Dy){return t(b,Dy)}),Se&&In(b,oe),ee}function Re(b,N,L,H){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:e:{for(var ee=L.key,ne=N;ne!==null;){if(ne.key===ee){if(ee=L.type,ee===W){if(ne.tag===7){r(b,ne.sibling),N=a(ne,L.props.children),N.return=b,b=N;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ge&&ed(ee)===ne.type){r(b,ne.sibling),N=a(ne,L.props),N.ref=us(b,ne,L),N.return=b,b=N;break e}r(b,ne);break}else t(b,ne);ne=ne.sibling}L.type===W?(N=Hn(L.props.children,b.mode,H,L.key),N.return=b,b=N):(H=Bi(L.type,L.key,L.props,null,b.mode,H),H.ref=us(b,N,L),H.return=b,b=H)}return m(b);case K:e:{for(ne=L.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(b,N.sibling),N=a(N,L.children||[]),N.return=b,b=N;break e}else{r(b,N);break}else t(b,N);N=N.sibling}N=gl(L,b.mode,H),N.return=b,b=N}return m(b);case Ge:return ne=L._init,Re(b,N,ne(L._payload),H)}if(Mr(L))return X(b,N,L,H);if(se(L))return J(b,N,L,H);gi(b,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,N!==null&&N.tag===6?(r(b,N.sibling),N=a(N,L),N.return=b,b=N):(r(b,N),N=yl(L,b.mode,H),N.return=b,b=N),m(b)):r(b,N)}return Re}var hr=td(!0),nd=td(!1),vi=cn(null),wi=null,pr=null,ja=null;function ba(){ja=pr=wi=null}function Pa(e){var t=vi.current;xe(vi),e._currentValue=t}function Ra(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function mr(e,t){wi=e,ja=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ze=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(ja!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(wi===null)throw Error(i(308));pr=e,wi.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var On=null;function Ta(e){On===null?On=[e]:On.push(e)}function rd(e,t,r,o){var a=t.interleaved;return a===null?(r.next=r,Ta(t)):(r.next=a.next,a.next=r),t.interleaved=r,Qt(e,o)}function Qt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hn=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ce&2)!==0){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,Qt(e,r)}return a=o.interleaved,a===null?(t.next=t,Ta(o)):(t.next=a.next,a.next=t),o.interleaved=t,Qt(e,r)}function xi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Vo(e,r)}}function id(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var a=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?a=u=m:u=u.next=m,r=r.next}while(r!==null);u===null?a=u=t:u=u.next=t}else a=u=t;r={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ki(e,t,r,o){var a=e.updateQueue;hn=!1;var u=a.firstBaseUpdate,m=a.lastBaseUpdate,x=a.shared.pending;if(x!==null){a.shared.pending=null;var C=x,O=C.next;C.next=null,m===null?u=O:m.next=O,m=C;var U=e.alternate;U!==null&&(U=U.updateQueue,x=U.lastBaseUpdate,x!==m&&(x===null?U.firstBaseUpdate=O:x.next=O,U.lastBaseUpdate=C))}if(u!==null){var B=a.baseState;m=0,U=O=C=null,x=u;do{var M=x.lane,q=x.eventTime;if((o&M)===M){U!==null&&(U=U.next={eventTime:q,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var X=e,J=x;switch(M=t,q=r,J.tag){case 1:if(X=J.payload,typeof X=="function"){B=X.call(q,B,M);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=J.payload,M=typeof X=="function"?X.call(q,B,M):X,M==null)break e;B=Y({},B,M);break e;case 2:hn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,M=a.effects,M===null?a.effects=[x]:M.push(x))}else q={eventTime:q,lane:M,tag:x.tag,payload:x.payload,callback:x.callback,next:null},U===null?(O=U=q,C=B):U=U.next=q,m|=M;if(x=x.next,x===null){if(x=a.shared.pending,x===null)break;M=x,x=M.next,M.next=null,a.lastBaseUpdate=M,a.shared.pending=null}}while(!0);if(U===null&&(C=B),a.baseState=C,a.firstBaseUpdate=O,a.lastBaseUpdate=U,t=a.shared.interleaved,t!==null){a=t;do m|=a.lane,a=a.next;while(a!==t)}else u===null&&(a.shared.lanes=0);Mn|=m,e.lanes=m,e.memoizedState=B}}function od(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=r,typeof a!="function")throw Error(i(191,a));a.call(o)}}}var cs={},_t=cn(cs),ds=cn(cs),fs=cn(cs);function Fn(e){if(e===cs)throw Error(i(174));return e}function La(e,t){switch(ve(fs,t),ve(ds,e),ve(_t,cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_o(t,e)}xe(_t),ve(_t,t)}function yr(){xe(_t),xe(ds),xe(fs)}function ad(e){Fn(fs.current);var t=Fn(_t.current),r=_o(t,e.type);t!==r&&(ve(ds,e),ve(_t,r))}function _a(e){ds.current===e&&(xe(_t),xe(ds))}var Ne=cn(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function Oa(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var Ci=F.ReactCurrentDispatcher,Fa=F.ReactCurrentBatchConfig,Dn=0,Ee=null,Le=null,Ie=null,Ni=!1,hs=!1,ps=0,iy=0;function He(){throw Error(i(321))}function Da(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Ma(e,t,r,o,a,u){if(Dn=u,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?uy:cy,e=r(o,a),hs){u=0;do{if(hs=!1,ps=0,25<=u)throw Error(i(301));u+=1,Ie=Le=null,t.updateQueue=null,Ci.current=dy,e=r(o,a)}while(hs)}if(Ci.current=bi,t=Le!==null&&Le.next!==null,Dn=0,Ie=Le=Ee=null,Ni=!1,t)throw Error(i(300));return e}function za(){var e=ps!==0;return ps=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ee.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function pt(){if(Le===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ie===null?Ee.memoizedState:Ie.next;if(t!==null)Ie=t,Le=e;else{if(e===null)throw Error(i(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ie===null?Ee.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ms(e,t){return typeof t=="function"?t(e):t}function Ua(e){var t=pt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=Le,a=o.baseQueue,u=r.pending;if(u!==null){if(a!==null){var m=a.next;a.next=u.next,u.next=m}o.baseQueue=a=u,r.pending=null}if(a!==null){u=a.next,o=o.baseState;var x=m=null,C=null,O=u;do{var U=O.lane;if((Dn&U)===U)C!==null&&(C=C.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),o=O.hasEagerState?O.eagerState:e(o,O.action);else{var B={lane:U,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};C===null?(x=C=B,m=o):C=C.next=B,Ee.lanes|=U,Mn|=U}O=O.next}while(O!==null&&O!==u);C===null?m=o:C.next=x,Et(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseState=m,t.baseQueue=C,r.lastRenderedState=o}if(e=r.interleaved,e!==null){a=e;do u=a.lane,Ee.lanes|=u,Mn|=u,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=pt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,a=r.pending,u=t.memoizedState;if(a!==null){r.pending=null;var m=a=a.next;do u=e(u,m.action),m=m.next;while(m!==a);Et(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,o]}function ld(){}function ud(e,t){var r=Ee,o=pt(),a=t(),u=!Et(o.memoizedState,a);if(u&&(o.memoizedState=a,Ze=!0),o=o.queue,Ha(fd.bind(null,r,o,e),[e]),o.getSnapshot!==t||u||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,ys(9,dd.bind(null,r,o,a,t),void 0,null),Oe===null)throw Error(i(349));(Dn&30)!==0||cd(r,t,a)}return a}function cd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dd(e,t,r,o){t.value=r,t.getSnapshot=o,hd(t)&&pd(e)}function fd(e,t,r){return r(function(){hd(t)&&pd(e)})}function hd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function pd(e){var t=Qt(e,1);t!==null&&Tt(t,e,1,-1)}function md(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=ly.bind(null,Ee,e),[t.memoizedState,e]}function ys(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function yd(){return pt().memoizedState}function Ei(e,t,r,o){var a=It();Ee.flags|=e,a.memoizedState=ys(1|t,r,void 0,o===void 0?null:o)}function ji(e,t,r,o){var a=pt();o=o===void 0?null:o;var u=void 0;if(Le!==null){var m=Le.memoizedState;if(u=m.destroy,o!==null&&Da(o,m.deps)){a.memoizedState=ys(t,r,u,o);return}}Ee.flags|=e,a.memoizedState=ys(1|t,r,u,o)}function gd(e,t){return Ei(8390656,8,e,t)}function Ha(e,t){return ji(2048,8,e,t)}function vd(e,t){return ji(4,2,e,t)}function wd(e,t){return ji(4,4,e,t)}function xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kd(e,t,r){return r=r!=null?r.concat([e]):null,ji(4,4,xd.bind(null,t,e),r)}function $a(){}function Sd(e,t){var r=pt();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Da(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Cd(e,t){var r=pt();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Da(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Nd(e,t,r){return(Dn&21)===0?(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r):(Et(r,t)||(r=ec(),Ee.lanes|=r,Mn|=r,e.baseState=!0),t)}function oy(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var o=Fa.transition;Fa.transition={};try{e(!1),t()}finally{me=r,Fa.transition=o}}function Ed(){return pt().memoizedState}function ay(e,t,r){var o=vn(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},jd(e))bd(t,r);else if(r=rd(e,t,r,o),r!==null){var a=qe();Tt(r,e,o,a),Pd(r,t,o)}}function ly(e,t,r){var o=vn(e),a={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(jd(e))bd(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,x=u(m,r);if(a.hasEagerState=!0,a.eagerState=x,Et(x,m)){var C=t.interleaved;C===null?(a.next=a,Ta(t)):(a.next=C.next,C.next=a),t.interleaved=a;return}}catch{}finally{}r=rd(e,t,a,o),r!==null&&(a=qe(),Tt(r,e,o,a),Pd(r,t,o))}}function jd(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function bd(e,t){hs=Ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pd(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Vo(e,r)}}var bi={readContext:ht,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},uy={readContext:ht,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:gd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ei(4194308,4,xd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var r=It();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=It();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ay.bind(null,Ee,e),[o.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:md,useDebugValue:$a,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=md(!1),t=e[0];return e=oy.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=Ee,a=It();if(Se){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Oe===null)throw Error(i(349));(Dn&30)!==0||cd(o,t,r)}a.memoizedState=r;var u={value:r,getSnapshot:t};return a.queue=u,gd(fd.bind(null,o,u,e),[e]),o.flags|=2048,ys(9,dd.bind(null,o,u,r,t),void 0,null),r},useId:function(){var e=It(),t=Oe.identifierPrefix;if(Se){var r=Vt,o=Wt;r=(o&~(1<<32-Nt(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=ps++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=iy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cy={readContext:ht,useCallback:Sd,useContext:ht,useEffect:Ha,useImperativeHandle:kd,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:Cd,useReducer:Ua,useRef:yd,useState:function(){return Ua(ms)},useDebugValue:$a,useDeferredValue:function(e){var t=pt();return Nd(t,Le.memoizedState,e)},useTransition:function(){var e=Ua(ms)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:ud,useId:Ed,unstable_isNewReconciler:!1},dy={readContext:ht,useCallback:Sd,useContext:ht,useEffect:Ha,useImperativeHandle:kd,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:Cd,useReducer:Ba,useRef:yd,useState:function(){return Ba(ms)},useDebugValue:$a,useDeferredValue:function(e){var t=pt();return Le===null?t.memoizedState=e:Nd(t,Le.memoizedState,e)},useTransition:function(){var e=Ba(ms)[0],t=pt().memoizedState;return[e,t]},useMutableSource:ld,useSyncExternalStore:ud,useId:Ed,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wa(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:Y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pi={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=qe(),a=vn(e),u=Kt(o,a);u.payload=t,r!=null&&(u.callback=r),t=pn(e,u,a),t!==null&&(Tt(t,e,a,o),xi(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=qe(),a=vn(e),u=Kt(o,a);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=pn(e,u,a),t!==null&&(Tt(t,e,a,o),xi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),o=vn(e),a=Kt(r,o);a.tag=2,t!=null&&(a.callback=t),t=pn(e,a,o),t!==null&&(Tt(t,e,o,r),xi(t,e,o))}};function Rd(e,t,r,o,a,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,m):t.prototype&&t.prototype.isPureReactComponent?!ns(r,o)||!ns(a,u):!0}function Td(e,t,r){var o=!1,a=dn,u=t.contextType;return typeof u=="object"&&u!==null?u=ht(u):(a=Xe(t)?Ln:Be.current,o=t.contextTypes,u=(o=o!=null)?ur(e,a):dn),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=u),t}function Ad(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Va(e,t,r,o){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Aa(e);var u=t.contextType;typeof u=="object"&&u!==null?a.context=ht(u):(u=Xe(t)?Ln:Be.current,a.context=ur(e,u)),a.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Wa(e,t,u,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pi.enqueueReplaceState(a,a.state,null),ki(e,r,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var r="",o=t;do r+=de(o),o=o.return;while(o);var a=r}catch(u){a=`
-Error generating stack: `+u.message+`
-`+u.stack}return{value:e,source:t,stack:a,digest:null}}function Qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ka(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fy=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,r){r=Kt(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Oi||(Oi=!0,ll=o),Ka(e,t)},r}function _d(e,t,r){r=Kt(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;r.payload=function(){return o(a)},r.callback=function(){Ka(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Ka(e,t),typeof o!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function Id(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new fy;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(r)||(a.add(r),e=jy.bind(null,e,t,r),t.then(e,e))}function Od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fd(e,t,r,o,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kt(-1,1),t.tag=2,pn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var hy=F.ReactCurrentOwner,Ze=!1;function Ke(e,t,r,o){t.child=e===null?nd(t,null,r,o):hr(t,e.child,r,o)}function Dd(e,t,r,o,a){r=r.render;var u=t.ref;return mr(t,a),o=Ma(e,t,r,o,u,a),r=za(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qt(e,t,a)):(Se&&r&&ka(t),t.flags|=1,Ke(e,t,o,a),t.child)}function Md(e,t,r,o,a){if(e===null){var u=r.type;return typeof u=="function"&&!ml(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,zd(e,t,u,o,a)):(e=Bi(r.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&a)===0){var m=u.memoizedProps;if(r=r.compare,r=r!==null?r:ns,r(m,o)&&e.ref===t.ref)return qt(e,t,a)}return t.flags|=1,e=xn(u,o),e.ref=t.ref,e.return=t,t.child=e}function zd(e,t,r,o,a){if(e!==null){var u=e.memoizedProps;if(ns(u,o)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=o=u,(e.lanes&a)!==0)(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,qt(e,t,a)}return qa(e,t,r,o,a)}function Ud(e,t,r){var o=t.pendingProps,a=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(wr,ct),ct|=r;else{if((r&1073741824)===0)return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(wr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:r,ve(wr,ct),ct|=o}else u!==null?(o=u.baseLanes|r,t.memoizedState=null):o=r,ve(wr,ct),ct|=o;return Ke(e,t,a,r),t.child}function Bd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,r,o,a){var u=Xe(r)?Ln:Be.current;return u=ur(t,u),mr(t,a),r=Ma(e,t,r,o,u,a),o=za(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qt(e,t,a)):(Se&&o&&ka(t),t.flags|=1,Ke(e,t,r,a),t.child)}function Hd(e,t,r,o,a){if(Xe(r)){var u=!0;fi(t)}else u=!1;if(mr(t,a),t.stateNode===null)Ti(e,t),Td(t,r,o),Va(t,r,o,a),o=!0;else if(e===null){var m=t.stateNode,x=t.memoizedProps;m.props=x;var C=m.context,O=r.contextType;typeof O=="object"&&O!==null?O=ht(O):(O=Xe(r)?Ln:Be.current,O=ur(t,O));var U=r.getDerivedStateFromProps,B=typeof U=="function"||typeof m.getSnapshotBeforeUpdate=="function";B||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==o||C!==O)&&Ad(t,m,o,O),hn=!1;var M=t.memoizedState;m.state=M,ki(t,o,m,a),C=t.memoizedState,x!==o||M!==C||Ye.current||hn?(typeof U=="function"&&(Wa(t,r,U,o),C=t.memoizedState),(x=hn||Rd(t,r,x,o,M,C,O))?(B||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),m.props=o,m.state=C,m.context=O,o=x):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{m=t.stateNode,sd(e,t),x=t.memoizedProps,O=t.type===t.elementType?x:bt(t.type,x),m.props=O,B=t.pendingProps,M=m.context,C=r.contextType,typeof C=="object"&&C!==null?C=ht(C):(C=Xe(r)?Ln:Be.current,C=ur(t,C));var q=r.getDerivedStateFromProps;(U=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==B||M!==C)&&Ad(t,m,o,C),hn=!1,M=t.memoizedState,m.state=M,ki(t,o,m,a);var X=t.memoizedState;x!==B||M!==X||Ye.current||hn?(typeof q=="function"&&(Wa(t,r,q,o),X=t.memoizedState),(O=hn||Rd(t,r,O,o,M,X,C)||!1)?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,C)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=X),m.props=o,m.state=X,m.context=C,o=O):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),o=!1)}return Ga(e,t,r,o,u,a)}function Ga(e,t,r,o,a,u){Bd(e,t);var m=(t.flags&128)!==0;if(!o&&!m)return a&&Kc(t,r,!1),qt(e,t,u);o=t.stateNode,hy.current=t;var x=m&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&m?(t.child=hr(t,e.child,null,u),t.child=hr(t,null,x,u)):Ke(e,t,x,u),t.memoizedState=o.state,a&&Kc(t,r,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),La(e,t.containerInfo)}function Wd(e,t,r,o,a){return fr(),Ea(a),t.flags|=256,Ke(e,t,r,o),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vd(e,t,r){var o=t.pendingProps,a=Ne.current,u=!1,m=(t.flags&128)!==0,x;if((x=m)||(x=e!==null&&e.memoizedState===null?!1:(a&2)!==0),x?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(Ne,a&1),e===null)return Na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=o.children,e=o.fallback,u?(o=t.mode,u=t.child,m={mode:"hidden",children:m},(o&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=m):u=Hi(m,o,0,null),e=Hn(e,o,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Xa(r),t.memoizedState=Ya,e):Za(t,m));if(a=e.memoizedState,a!==null&&(x=a.dehydrated,x!==null))return py(e,t,m,o,x,a,r);if(u){u=o.fallback,m=t.mode,a=e.child,x=a.sibling;var C={mode:"hidden",children:o.children};return(m&1)===0&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=xn(a,C),o.subtreeFlags=a.subtreeFlags&14680064),x!==null?u=xn(x,u):(u=Hn(u,m,r,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,m=e.child.memoizedState,m=m===null?Xa(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},u.memoizedState=m,u.childLanes=e.childLanes&~r,t.memoizedState=Ya,o}return u=e.child,e=u.sibling,o=xn(u,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Za(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ri(e,t,r,o){return o!==null&&Ea(o),hr(t,e.child,null,r),e=Za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function py(e,t,r,o,a,u,m){if(r)return t.flags&256?(t.flags&=-257,o=Qa(Error(i(422))),Ri(e,t,m,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,a=t.mode,o=Hi({mode:"visible",children:o.children},a,0,null),u=Hn(u,a,m,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,(t.mode&1)!==0&&hr(t,e.child,null,m),t.child.memoizedState=Xa(m),t.memoizedState=Ya,u);if((t.mode&1)===0)return Ri(e,t,m,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var x=o.dgst;return o=x,u=Error(i(419)),o=Qa(u,o,void 0),Ri(e,t,m,o)}if(x=(m&e.childLanes)!==0,Ze||x){if(o=Oe,o!==null){switch(m&-m){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(o.suspendedLanes|m))!==0?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,Qt(e,a),Tt(o,e,a,-1))}return pl(),o=Qa(Error(i(421))),Ri(e,t,m,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=by.bind(null,e),a._reactRetry=t,null):(e=u.treeContext,ut=un(a.nextSibling),lt=t,Se=!0,jt=null,e!==null&&(dt[ft++]=Wt,dt[ft++]=Vt,dt[ft++]=_n,Wt=e.id,Vt=e.overflow,_n=t),t=Za(t,o.children),t.flags|=4096,t)}function Qd(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ra(e.return,t,r)}function Ja(e,t,r,o,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=r,u.tailMode=a)}function Kd(e,t,r){var o=t.pendingProps,a=o.revealOrder,u=o.tail;if(Ke(e,t,o.children,r),o=Ne.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,r,t);else if(e.tag===19)Qd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ve(Ne,o),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Si(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ja(t,!1,a,r,u);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Si(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ja(t,!0,r,null,u);break;case"together":Ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function my(e,t,r){switch(t.tag){case 3:$d(t),fr();break;case 5:ad(t);break;case 1:Xe(t.type)&&fi(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;ve(vi,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ve(Ne,Ne.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Vd(e,t,r):(ve(Ne,Ne.current&1),e=qt(e,t,r),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Kd(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(Ne,Ne.current),o)break;return null;case 22:case 23:return t.lanes=0,Ud(e,t,r)}return qt(e,t,r)}var qd,el,Gd,Yd;qd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},el=function(){},Gd=function(e,t,r,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,Fn(_t.current);var u=null;switch(r){case"input":a=Ro(e,a),o=Ro(e,o),u=[];break;case"select":a=Y({},a,{value:void 0}),o=Y({},o,{value:void 0}),u=[];break;case"textarea":a=Lo(e,a),o=Lo(e,o),u=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ui)}Io(r,o);var m;r=null;for(O in a)if(!o.hasOwnProperty(O)&&a.hasOwnProperty(O)&&a[O]!=null)if(O==="style"){var x=a[O];for(m in x)x.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(c.hasOwnProperty(O)?u||(u=[]):(u=u||[]).push(O,null));for(O in o){var C=o[O];if(x=a?.[O],o.hasOwnProperty(O)&&C!==x&&(C!=null||x!=null))if(O==="style")if(x){for(m in x)!x.hasOwnProperty(m)||C&&C.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in C)C.hasOwnProperty(m)&&x[m]!==C[m]&&(r||(r={}),r[m]=C[m])}else r||(u||(u=[]),u.push(O,r)),r=C;else O==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,x=x?x.__html:void 0,C!=null&&x!==C&&(u=u||[]).push(O,C)):O==="children"?typeof C!="string"&&typeof C!="number"||(u=u||[]).push(O,""+C):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(c.hasOwnProperty(O)?(C!=null&&O==="onScroll"&&we("scroll",e),u||x===C||(u=[])):(u=u||[]).push(O,C))}r&&(u=u||[]).push("style",r);var O=u;(t.updateQueue=O)&&(t.flags|=4)}},Yd=function(e,t,r,o){r!==o&&(t.flags|=4)};function gs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function yy(e,t,r){var o=t.pendingProps;switch(Sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Xe(t.type)&&di(),$e(t),null;case 3:return o=t.stateNode,yr(),xe(Ye),xe(Be),Oa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(dl(jt),jt=null))),el(e,t),$e(t),null;case 5:_a(t);var a=Fn(fs.current);if(r=t.type,e!==null&&t.stateNode!=null)Gd(e,t,r,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return $e(t),null}if(e=Fn(_t.current),yi(t)){o=t.stateNode,r=t.type;var u=t.memoizedProps;switch(o[Lt]=t,o[as]=u,e=(t.mode&1)!==0,r){case"dialog":we("cancel",o),we("close",o);break;case"iframe":case"object":case"embed":we("load",o);break;case"video":case"audio":for(a=0;a<ss.length;a++)we(ss[a],o);break;case"source":we("error",o);break;case"img":case"image":case"link":we("error",o),we("load",o);break;case"details":we("toggle",o);break;case"input":Tu(o,u),we("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},we("invalid",o);break;case"textarea":_u(o,u),we("invalid",o)}Io(r,u),a=null;for(var m in u)if(u.hasOwnProperty(m)){var x=u[m];m==="children"?typeof x=="string"?o.textContent!==x&&(u.suppressHydrationWarning!==!0&&li(o.textContent,x,e),a=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(u.suppressHydrationWarning!==!0&&li(o.textContent,x,e),a=["children",""+x]):c.hasOwnProperty(m)&&x!=null&&m==="onScroll"&&we("scroll",o)}switch(r){case"input":zs(o),Lu(o,u,!0);break;case"textarea":zs(o),Ou(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=ui)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{m=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=m.createElement(r,{is:o.is}):(e=m.createElement(r),r==="select"&&(m=e,o.multiple?m.multiple=!0:o.size&&(m.size=o.size))):e=m.createElementNS(e,r),e[Lt]=t,e[as]=o,qd(e,t,!1,!1),t.stateNode=e;e:{switch(m=Oo(r,o),r){case"dialog":we("cancel",e),we("close",e),a=o;break;case"iframe":case"object":case"embed":we("load",e),a=o;break;case"video":case"audio":for(a=0;a<ss.length;a++)we(ss[a],e);a=o;break;case"source":we("error",e),a=o;break;case"img":case"image":case"link":we("error",e),we("load",e),a=o;break;case"details":we("toggle",e),a=o;break;case"input":Tu(e,o),a=Ro(e,o),we("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=Y({},o,{value:void 0}),we("invalid",e);break;case"textarea":_u(e,o),a=Lo(e,o),we("invalid",e);break;default:a=o}Io(r,a),x=a;for(u in x)if(x.hasOwnProperty(u)){var C=x[u];u==="style"?zu(e,C):u==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Du(e,C)):u==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&zr(e,C):typeof C=="number"&&zr(e,""+C):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?C!=null&&u==="onScroll"&&we("scroll",e):C!=null&&A(e,u,C,m))}switch(r){case"input":zs(e),Lu(e,o,!1);break;case"textarea":zs(e),Ou(e);break;case"option":o.value!=null&&e.setAttribute("value",""+pe(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?Xn(e,!!o.multiple,u,!1):o.defaultValue!=null&&Xn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(r=Fn(fs.current),Fn(_t.current),yi(t)){if(o=t.stateNode,r=t.memoizedProps,o[Lt]=t,(u=o.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:li(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(o.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Lt]=t,t.stateNode=o}return $e(t),null;case 13:if(xe(Ne),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Jc(),fr(),t.flags|=98560,u=!1;else if(u=yi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Lt]=t}else fr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),u=!1}else jt!==null&&(dl(jt),jt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ne.current&1)!==0?_e===0&&(_e=3):pl())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return yr(),el(e,t),e===null&&is(t.stateNode.containerInfo),$e(t),null;case 10:return Pa(t.type._context),$e(t),null;case 17:return Xe(t.type)&&di(),$e(t),null;case 19:if(xe(Ne),u=t.memoizedState,u===null)return $e(t),null;if(o=(t.flags&128)!==0,m=u.rendering,m===null)if(o)gs(u,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Si(e),m!==null){for(t.flags|=128,gs(u,!1),o=m.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)u=r,e=o,u.flags&=14680066,m=u.alternate,m===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,e=m.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Ne,Ne.current&1|2),t.child}e=e.sibling}u.tail!==null&&Pe()>xr&&(t.flags|=128,o=!0,gs(u,!1),t.lanes=4194304)}else{if(!o)if(e=Si(m),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Se)return $e(t),null}else 2*Pe()-u.renderingStartTime>xr&&r!==1073741824&&(t.flags|=128,o=!0,gs(u,!1),t.lanes=4194304);u.isBackwards?(m.sibling=t.child,t.child=m):(r=u.last,r!==null?r.sibling=m:t.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Pe(),t.sibling=null,r=Ne.current,ve(Ne,o?r&1|2:r&1),t):($e(t),null);case 22:case 23:return hl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(ct&1073741824)!==0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function gy(e,t){switch(Sa(t),t.tag){case 1:return Xe(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),xe(Ye),xe(Be),Oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _a(t),null;case 13:if(xe(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ne),null;case 4:return yr(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return hl(),null;case 24:return null;default:return null}}var Ai=!1,We=!1,vy=typeof WeakSet=="function"?WeakSet:Set,G=null;function vr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){be(e,t,o)}else r.current=null}function tl(e,t,r){try{r()}catch(o){be(e,t,o)}}var Xd=!1;function wy(e,t){if(ha=Xs,e=Rc(),ia(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var a=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var m=0,x=-1,C=-1,O=0,U=0,B=e,M=null;t:for(;;){for(var q;B!==r||a!==0&&B.nodeType!==3||(x=m+a),B!==u||o!==0&&B.nodeType!==3||(C=m+o),B.nodeType===3&&(m+=B.nodeValue.length),(q=B.firstChild)!==null;)M=B,B=q;for(;;){if(B===e)break t;if(M===r&&++O===a&&(x=m),M===u&&++U===o&&(C=m),(q=B.nextSibling)!==null)break;B=M,M=B.parentNode}B=q}r=x===-1||C===-1?null:{start:x,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(pa={focusedElem:e,selectionRange:r},Xs=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var J=X.memoizedProps,Re=X.memoizedState,b=t.stateNode,N=b.getSnapshotBeforeUpdate(t.elementType===t.type?J:bt(t.type,J),Re);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(H){be(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return X=Xd,Xd=!1,X}function vs(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var u=a.destroy;a.destroy=void 0,u!==void 0&&tl(t,r,u)}a=a.next}while(a!==o)}}function Li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zd(e){var t=e.alternate;t!==null&&(e.alternate=null,Zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[as],delete t[va],delete t[ty],delete t[ny])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function ef(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ui));else if(o!==4&&(e=e.child,e!==null))for(rl(e,t,r),e=e.sibling;e!==null;)rl(e,t,r),e=e.sibling}function sl(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(sl(e,t,r),e=e.sibling;e!==null;)sl(e,t,r),e=e.sibling}var Me=null,Pt=!1;function mn(e,t,r){for(r=r.child;r!==null;)tf(e,t,r),r=r.sibling}function tf(e,t,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Vs,r)}catch{}switch(r.tag){case 5:We||vr(r,t);case 6:var o=Me,a=Pt;Me=null,mn(e,t,r),Me=o,Pt=a,Me!==null&&(Pt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(Pt?(e=Me,r=r.stateNode,e.nodeType===8?ga(e.parentNode,r):e.nodeType===1&&ga(e,r),Yr(e)):ga(Me,r.stateNode));break;case 4:o=Me,a=Pt,Me=r.stateNode.containerInfo,Pt=!0,mn(e,t,r),Me=o,Pt=a;break;case 0:case 11:case 14:case 15:if(!We&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var u=a,m=u.destroy;u=u.tag,m!==void 0&&((u&2)!==0||(u&4)!==0)&&tl(r,t,m),a=a.next}while(a!==o)}mn(e,t,r);break;case 1:if(!We&&(vr(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(x){be(r,t,x)}mn(e,t,r);break;case 21:mn(e,t,r);break;case 22:r.mode&1?(We=(o=We)||r.memoizedState!==null,mn(e,t,r),We=o):mn(e,t,r);break;default:mn(e,t,r)}}function nf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vy),t.forEach(function(o){var a=Py.bind(null,e,o);r.has(o)||(r.add(o),o.then(a,a))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];try{var u=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 5:Me=x.stateNode,Pt=!1;break e;case 3:Me=x.stateNode.containerInfo,Pt=!0;break e;case 4:Me=x.stateNode.containerInfo,Pt=!0;break e}x=x.return}if(Me===null)throw Error(i(160));tf(u,m,a),Me=null,Pt=!1;var C=a.alternate;C!==null&&(C.return=null),a.return=null}catch(O){be(a,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}function rf(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ot(e),o&4){try{vs(3,e,e.return),Li(3,e)}catch(J){be(e,e.return,J)}try{vs(5,e,e.return)}catch(J){be(e,e.return,J)}}break;case 1:Rt(t,e),Ot(e),o&512&&r!==null&&vr(r,r.return);break;case 5:if(Rt(t,e),Ot(e),o&512&&r!==null&&vr(r,r.return),e.flags&32){var a=e.stateNode;try{zr(a,"")}catch(J){be(e,e.return,J)}}if(o&4&&(a=e.stateNode,a!=null)){var u=e.memoizedProps,m=r!==null?r.memoizedProps:u,x=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{x==="input"&&u.type==="radio"&&u.name!=null&&Au(a,u),Oo(x,m);var O=Oo(x,u);for(m=0;m<C.length;m+=2){var U=C[m],B=C[m+1];U==="style"?zu(a,B):U==="dangerouslySetInnerHTML"?Du(a,B):U==="children"?zr(a,B):A(a,U,B,O)}switch(x){case"input":To(a,u);break;case"textarea":Iu(a,u);break;case"select":var M=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var q=u.value;q!=null?Xn(a,!!u.multiple,q,!1):M!==!!u.multiple&&(u.defaultValue!=null?Xn(a,!!u.multiple,u.defaultValue,!0):Xn(a,!!u.multiple,u.multiple?[]:"",!1))}a[as]=u}catch(J){be(e,e.return,J)}}break;case 6:if(Rt(t,e),Ot(e),o&4){if(e.stateNode===null)throw Error(i(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(J){be(e,e.return,J)}}break;case 3:if(Rt(t,e),Ot(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Yr(t.containerInfo)}catch(J){be(e,e.return,J)}break;case 4:Rt(t,e),Ot(e);break;case 13:Rt(t,e),Ot(e),a=e.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(al=Pe())),o&4&&nf(e);break;case 22:if(U=r!==null&&r.memoizedState!==null,e.mode&1?(We=(O=We)||U,Rt(t,e),We=O):Rt(t,e),Ot(e),o&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!U&&(e.mode&1)!==0)for(G=e,U=e.child;U!==null;){for(B=G=U;G!==null;){switch(M=G,q=M.child,M.tag){case 0:case 11:case 14:case 15:vs(4,M,M.return);break;case 1:vr(M,M.return);var X=M.stateNode;if(typeof X.componentWillUnmount=="function"){o=M,r=M.return;try{t=o,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(J){be(o,r,J)}}break;case 5:vr(M,M.return);break;case 22:if(M.memoizedState!==null){af(B);continue}}q!==null?(q.return=M,G=q):af(B)}U=U.sibling}e:for(U=null,B=e;;){if(B.tag===5){if(U===null){U=B;try{a=B.stateNode,O?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(x=B.stateNode,C=B.memoizedProps.style,m=C!=null&&C.hasOwnProperty("display")?C.display:null,x.style.display=Mu("display",m))}catch(J){be(e,e.return,J)}}}else if(B.tag===6){if(U===null)try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(J){be(e,e.return,J)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;U===B&&(U=null),B=B.return}U===B&&(U=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Rt(t,e),Ot(e),o&4&&nf(e);break;case 21:break;default:Rt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jd(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(zr(a,""),o.flags&=-33);var u=ef(e);sl(e,u,a);break;case 3:case 4:var m=o.stateNode.containerInfo,x=ef(e);rl(e,x,m);break;default:throw Error(i(161))}}catch(C){be(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xy(e,t,r){G=e,sf(e)}function sf(e,t,r){for(var o=(e.mode&1)!==0;G!==null;){var a=G,u=a.child;if(a.tag===22&&o){var m=a.memoizedState!==null||Ai;if(!m){var x=a.alternate,C=x!==null&&x.memoizedState!==null||We;x=Ai;var O=We;if(Ai=m,(We=C)&&!O)for(G=a;G!==null;)m=G,C=m.child,m.tag===22&&m.memoizedState!==null?lf(a):C!==null?(C.return=m,G=C):lf(a);for(;u!==null;)G=u,sf(u),u=u.sibling;G=a,Ai=x,We=O}of(e)}else(a.subtreeFlags&8772)!==0&&u!==null?(u.return=a,G=u):of(e)}}function of(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:We||Li(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!We)if(r===null)o.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);o.componentDidUpdate(a,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&od(t,u,o);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}od(t,m,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var U=O.memoizedState;if(U!==null){var B=U.dehydrated;B!==null&&Yr(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}We||t.flags&512&&nl(t)}catch(M){be(t,t.return,M)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function af(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function lf(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Li(4,t)}catch(C){be(t,r,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(C){be(t,a,C)}}var u=t.return;try{nl(t)}catch(C){be(t,u,C)}break;case 5:var m=t.return;try{nl(t)}catch(C){be(t,m,C)}}}catch(C){be(t,t.return,C)}if(t===e){G=null;break}var x=t.sibling;if(x!==null){x.return=t.return,G=x;break}G=t.return}}var ky=Math.ceil,_i=F.ReactCurrentDispatcher,il=F.ReactCurrentOwner,mt=F.ReactCurrentBatchConfig,ce=0,Oe=null,Ae=null,ze=0,ct=0,wr=cn(0),_e=0,ws=null,Mn=0,Ii=0,ol=0,xs=null,Je=null,al=0,xr=1/0,Gt=null,Oi=!1,ll=null,yn=null,Fi=!1,gn=null,Di=0,ks=0,ul=null,Mi=-1,zi=0;function qe(){return(ce&6)!==0?Pe():Mi!==-1?Mi:Mi=Pe()}function vn(e){return(e.mode&1)===0?1:(ce&2)!==0&&ze!==0?ze&-ze:sy.transition!==null?(zi===0&&(zi=ec()),zi):(e=me,e!==0||(e=window.event,e=e===void 0?16:uc(e.type)),e)}function Tt(e,t,r,o){if(50<ks)throw ks=0,ul=null,Error(i(185));Vr(e,r,o),((ce&2)===0||e!==Oe)&&(e===Oe&&((ce&2)===0&&(Ii|=r),_e===4&&wn(e,ze)),et(e,o),r===1&&ce===0&&(t.mode&1)===0&&(xr=Pe()+500,hi&&fn()))}function et(e,t){var r=e.callbackNode;sm(e,t);var o=qs(e,e===Oe?ze:0);if(o===0)r!==null&&Xu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&Xu(r),t===1)e.tag===0?ry(cf.bind(null,e)):qc(cf.bind(null,e)),Jm(function(){(ce&6)===0&&fn()}),r=null;else{switch(tc(o)){case 1:r=Ho;break;case 4:r=Zu;break;case 16:r=Ws;break;case 536870912:r=Ju;break;default:r=Ws}r=vf(r,uf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function uf(e,t){if(Mi=-1,zi=0,(ce&6)!==0)throw Error(i(327));var r=e.callbackNode;if(kr()&&e.callbackNode!==r)return null;var o=qs(e,e===Oe?ze:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ui(e,o);else{t=o;var a=ce;ce|=2;var u=ff();(Oe!==e||ze!==t)&&(Gt=null,xr=Pe()+500,Un(e,t));do try{Ny();break}catch(x){df(e,x)}while(!0);ba(),_i.current=u,ce=a,Ae!==null?t=0:(Oe=null,ze=0,t=_e)}if(t!==0){if(t===2&&(a=$o(e),a!==0&&(o=a,t=cl(e,a))),t===1)throw r=ws,Un(e,0),wn(e,o),et(e,Pe()),r;if(t===6)wn(e,o);else{if(a=e.current.alternate,(o&30)===0&&!Sy(a)&&(t=Ui(e,o),t===2&&(u=$o(e),u!==0&&(o=u,t=cl(e,u))),t===1))throw r=ws,Un(e,0),wn(e,o),et(e,Pe()),r;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Bn(e,Je,Gt);break;case 3:if(wn(e,o),(o&130023424)===o&&(t=al+500-Pe(),10<t)){if(qs(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){qe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ya(Bn.bind(null,e,Je,Gt),t);break}Bn(e,Je,Gt);break;case 4:if(wn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var m=31-Nt(o);u=1<<m,m=t[m],m>a&&(a=m),o&=~u}if(o=a,o=Pe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ky(o/1960))-o,10<o){e.timeoutHandle=ya(Bn.bind(null,e,Je,Gt),o);break}Bn(e,Je,Gt);break;case 5:Bn(e,Je,Gt);break;default:throw Error(i(329))}}}return et(e,Pe()),e.callbackNode===r?uf.bind(null,e):null}function cl(e,t){var r=xs;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=Je,Je=r,t!==null&&dl(t)),e}function dl(e){Je===null?Je=e:Je.push.apply(Je,e)}function Sy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var a=r[o],u=a.getSnapshot;a=a.value;try{if(!Et(u(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~ol,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nt(t),o=1<<r;e[r]=-1,t&=~o}}function cf(e){if((ce&6)!==0)throw Error(i(327));kr();var t=qs(e,0);if((t&1)===0)return et(e,Pe()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var o=$o(e);o!==0&&(t=o,r=cl(e,o))}if(r===1)throw r=ws,Un(e,0),wn(e,t),et(e,Pe()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Je,Gt),et(e,Pe()),null}function fl(e,t){var r=ce;ce|=1;try{return e(t)}finally{ce=r,ce===0&&(xr=Pe()+500,hi&&fn())}}function zn(e){gn!==null&&gn.tag===0&&(ce&6)===0&&kr();var t=ce;ce|=1;var r=mt.transition,o=me;try{if(mt.transition=null,me=1,e)return e()}finally{me=o,mt.transition=r,ce=t,(ce&6)===0&&fn()}}function hl(){ct=wr.current,xe(wr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zm(r)),Ae!==null)for(r=Ae.return;r!==null;){var o=r;switch(Sa(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&di();break;case 3:yr(),xe(Ye),xe(Be),Oa();break;case 5:_a(o);break;case 4:yr();break;case 13:xe(Ne);break;case 19:xe(Ne);break;case 10:Pa(o.type._context);break;case 22:case 23:hl()}r=r.return}if(Oe=e,Ae=e=xn(e.current,null),ze=ct=t,_e=0,ws=null,ol=Ii=Mn=0,Je=xs=null,On!==null){for(t=0;t<On.length;t++)if(r=On[t],o=r.interleaved,o!==null){r.interleaved=null;var a=o.next,u=r.pending;if(u!==null){var m=u.next;u.next=a,o.next=m}r.pending=o}On=null}return e}function df(e,t){do{var r=Ae;try{if(ba(),Ci.current=bi,Ni){for(var o=Ee.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ni=!1}if(Dn=0,Ie=Le=Ee=null,hs=!1,ps=0,il.current=null,r===null||r.return===null){_e=1,ws=t,Ae=null;break}e:{var u=e,m=r.return,x=r,C=t;if(t=ze,x.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=C,U=x,B=U.tag;if((U.mode&1)===0&&(B===0||B===11||B===15)){var M=U.alternate;M?(U.updateQueue=M.updateQueue,U.memoizedState=M.memoizedState,U.lanes=M.lanes):(U.updateQueue=null,U.memoizedState=null)}var q=Od(m);if(q!==null){q.flags&=-257,Fd(q,m,x,u,t),q.mode&1&&Id(u,O,t),t=q,C=O;var X=t.updateQueue;if(X===null){var J=new Set;J.add(C),t.updateQueue=J}else X.add(C);break e}else{if((t&1)===0){Id(u,O,t),pl();break e}C=Error(i(426))}}else if(Se&&x.mode&1){var Re=Od(m);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),Fd(Re,m,x,u,t),Ea(gr(C,x));break e}}u=C=gr(C,x),_e!==4&&(_e=2),xs===null?xs=[u]:xs.push(u),u=m;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var b=Ld(u,C,t);id(u,b);break e;case 1:x=C;var N=u.type,L=u.stateNode;if((u.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(yn===null||!yn.has(L)))){u.flags|=65536,t&=-t,u.lanes|=t;var H=_d(u,x,t);id(u,H);break e}}u=u.return}while(u!==null)}pf(r)}catch(ee){t=ee,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function ff(){var e=_i.current;return _i.current=bi,e===null?bi:e}function pl(){(_e===0||_e===3||_e===2)&&(_e=4),Oe===null||(Mn&268435455)===0&&(Ii&268435455)===0||wn(Oe,ze)}function Ui(e,t){var r=ce;ce|=2;var o=ff();(Oe!==e||ze!==t)&&(Gt=null,Un(e,t));do try{Cy();break}catch(a){df(e,a)}while(!0);if(ba(),ce=r,_i.current=o,Ae!==null)throw Error(i(261));return Oe=null,ze=0,_e}function Cy(){for(;Ae!==null;)hf(Ae)}function Ny(){for(;Ae!==null&&!Gp();)hf(Ae)}function hf(e){var t=gf(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?pf(e):Ae=t,il.current=null}function pf(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=yy(r,t,ct),r!==null){Ae=r;return}}else{if(r=gy(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);_e===0&&(_e=5)}function Bn(e,t,r){var o=me,a=mt.transition;try{mt.transition=null,me=1,Ey(e,t,r,o)}finally{mt.transition=a,me=o}return null}function Ey(e,t,r,o){do kr();while(gn!==null);if((ce&6)!==0)throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(im(e,u),e===Oe&&(Ae=Oe=null,ze=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Fi||(Fi=!0,vf(Ws,function(){return kr(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=mt.transition,mt.transition=null;var m=me;me=1;var x=ce;ce|=4,il.current=null,wy(e,r),rf(r,e),Vm(pa),Xs=!!ha,pa=ha=null,e.current=r,xy(r),Yp(),ce=x,me=m,mt.transition=u}else e.current=r;if(Fi&&(Fi=!1,gn=e,Di=a),u=e.pendingLanes,u===0&&(yn=null),Jp(r.stateNode),et(e,Pe()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=ll,ll=null,e;return(Di&1)!==0&&e.tag!==0&&kr(),u=e.pendingLanes,(u&1)!==0?e===ul?ks++:(ks=0,ul=e):ks=0,fn(),null}function kr(){if(gn!==null){var e=tc(Di),t=mt.transition,r=me;try{if(mt.transition=null,me=16>e?16:e,gn===null)var o=!1;else{if(e=gn,gn=null,Di=0,(ce&6)!==0)throw Error(i(331));var a=ce;for(ce|=4,G=e.current;G!==null;){var u=G,m=u.child;if((G.flags&16)!==0){var x=u.deletions;if(x!==null){for(var C=0;C<x.length;C++){var O=x[C];for(G=O;G!==null;){var U=G;switch(U.tag){case 0:case 11:case 15:vs(8,U,u)}var B=U.child;if(B!==null)B.return=U,G=B;else for(;G!==null;){U=G;var M=U.sibling,q=U.return;if(Zd(U),U===O){G=null;break}if(M!==null){M.return=q,G=M;break}G=q}}}var X=u.alternate;if(X!==null){var J=X.child;if(J!==null){X.child=null;do{var Re=J.sibling;J.sibling=null,J=Re}while(J!==null)}}G=u}}if((u.subtreeFlags&2064)!==0&&m!==null)m.return=u,G=m;else e:for(;G!==null;){if(u=G,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:vs(9,u,u.return)}var b=u.sibling;if(b!==null){b.return=u.return,G=b;break e}G=u.return}}var N=e.current;for(G=N;G!==null;){m=G;var L=m.child;if((m.subtreeFlags&2064)!==0&&L!==null)L.return=m,G=L;else e:for(m=N;G!==null;){if(x=G,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Li(9,x)}}catch(ee){be(x,x.return,ee)}if(x===m){G=null;break e}var H=x.sibling;if(H!==null){H.return=x.return,G=H;break e}G=x.return}}if(ce=a,fn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Vs,e)}catch{}o=!0}return o}finally{me=r,mt.transition=t}}return!1}function mf(e,t,r){t=gr(r,t),t=Ld(e,t,1),e=pn(e,t,1),t=qe(),e!==null&&(Vr(e,1,t),et(e,t))}function be(e,t,r){if(e.tag===3)mf(e,e,r);else for(;t!==null;){if(t.tag===3){mf(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yn===null||!yn.has(o))){e=gr(r,e),e=_d(t,e,1),t=pn(t,e,1),e=qe(),t!==null&&(Vr(t,1,e),et(t,e));break}}t=t.return}}function jy(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Oe===e&&(ze&r)===r&&(_e===4||_e===3&&(ze&130023424)===ze&&500>Pe()-al?Un(e,0):ol|=r),et(e,t)}function yf(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var r=qe();e=Qt(e,t),e!==null&&(Vr(e,t,r),et(e,r))}function by(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yf(e,r)}function Py(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),yf(e,r)}var gf;gf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ze=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ze=!1,my(e,t,r);Ze=(e.flags&131072)!==0}else Ze=!1,Se&&(t.flags&1048576)!==0&&Gc(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ti(e,t),e=t.pendingProps;var a=ur(t,Be.current);mr(t,r),a=Ma(null,t,o,e,a,r);var u=za();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(o)?(u=!0,fi(t)):u=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Aa(t),a.updater=Pi,t.stateNode=a,a._reactInternals=t,Va(t,o,e,r),t=Ga(null,t,o,!0,u,r)):(t.tag=0,Se&&u&&ka(t),Ke(null,t,a,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=Ty(o),e=bt(o,e),a){case 0:t=qa(null,t,o,e,r);break e;case 1:t=Hd(null,t,o,e,r);break e;case 11:t=Dd(null,t,o,e,r);break e;case 14:t=Md(null,t,o,bt(o.type,e),r);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:bt(o,a),qa(e,t,o,a,r);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:bt(o,a),Hd(e,t,o,a,r);case 3:e:{if($d(t),e===null)throw Error(i(387));o=t.pendingProps,u=t.memoizedState,a=u.element,sd(e,t),ki(t,o,null,r);var m=t.memoizedState;if(o=m.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){a=gr(Error(i(423)),t),t=Wd(e,t,o,r,a);break e}else if(o!==a){a=gr(Error(i(424)),t),t=Wd(e,t,o,r,a);break e}else for(ut=un(t.stateNode.containerInfo.firstChild),lt=t,Se=!0,jt=null,r=nd(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fr(),o===a){t=qt(e,t,r);break e}Ke(e,t,o,r)}t=t.child}return t;case 5:return ad(t),e===null&&Na(t),o=t.type,a=t.pendingProps,u=e!==null?e.memoizedProps:null,m=a.children,ma(o,a)?m=null:u!==null&&ma(o,u)&&(t.flags|=32),Bd(e,t),Ke(e,t,m,r),t.child;case 6:return e===null&&Na(t),null;case 13:return Vd(e,t,r);case 4:return La(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=hr(t,null,o,r):Ke(e,t,o,r),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:bt(o,a),Dd(e,t,o,a,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,u=t.memoizedProps,m=a.value,ve(vi,o._currentValue),o._currentValue=m,u!==null)if(Et(u.value,m)){if(u.children===a.children&&!Ye.current){t=qt(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var x=u.dependencies;if(x!==null){m=u.child;for(var C=x.firstContext;C!==null;){if(C.context===o){if(u.tag===1){C=Kt(-1,r&-r),C.tag=2;var O=u.updateQueue;if(O!==null){O=O.shared;var U=O.pending;U===null?C.next=C:(C.next=U.next,U.next=C),O.pending=C}}u.lanes|=r,C=u.alternate,C!==null&&(C.lanes|=r),Ra(u.return,r,t),x.lanes|=r;break}C=C.next}}else if(u.tag===10)m=u.type===t.type?null:u.child;else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=r,x=m.alternate,x!==null&&(x.lanes|=r),Ra(m,r,t),m=u.sibling}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}Ke(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,mr(t,r),a=ht(a),o=o(a),t.flags|=1,Ke(e,t,o,r),t.child;case 14:return o=t.type,a=bt(o,t.pendingProps),a=bt(o.type,a),Md(e,t,o,a,r);case 15:return zd(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:bt(o,a),Ti(e,t),t.tag=1,Xe(o)?(e=!0,fi(t)):e=!1,mr(t,r),Td(t,o,a),Va(t,o,a,r),Ga(null,t,o,!0,e,r);case 19:return Kd(e,t,r);case 22:return Ud(e,t,r)}throw Error(i(156,t.tag))};function vf(e,t){return Yu(e,t)}function Ry(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,o){return new Ry(e,t,r,o)}function ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ty(e){if(typeof e=="function")return ml(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ie)return 11;if(e===it)return 14}return 2}function xn(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bi(e,t,r,o,a,u){var m=2;if(o=e,typeof e=="function")ml(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case W:return Hn(r.children,a,u,t);case $:m=8,a|=8;break;case V:return e=yt(12,r,t,a|2),e.elementType=V,e.lanes=u,e;case Te:return e=yt(13,r,t,a),e.elementType=Te,e.lanes=u,e;case st:return e=yt(19,r,t,a),e.elementType=st,e.lanes=u,e;case je:return Hi(r,a,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:m=10;break e;case ye:m=9;break e;case ie:m=11;break e;case it:m=14;break e;case Ge:m=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=yt(m,r,t,a),t.elementType=e,t.type=o,t.lanes=u,t}function Hn(e,t,r,o){return e=yt(7,e,o,t),e.lanes=r,e}function Hi(e,t,r,o){return e=yt(22,e,o,t),e.elementType=je,e.lanes=r,e.stateNode={isHidden:!1},e}function yl(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function gl(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ay(e,t,r,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vl(e,t,r,o,a,u,m,x,C){return e=new Ay(e,t,r,x,C),t===1?(t=1,u===!0&&(t|=8)):t=0,u=yt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(u),e}function Ly(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function wf(e){if(!e)return dn;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(Xe(r))return Qc(e,r,t)}return t}function xf(e,t,r,o,a,u,m,x,C){return e=vl(r,o,!0,e,a,u,m,x,C),e.context=wf(null),r=e.current,o=qe(),a=vn(r),u=Kt(o,a),u.callback=t??null,pn(r,u,a),e.current.lanes=a,Vr(e,a,o),et(e,o),e}function $i(e,t,r,o){var a=t.current,u=qe(),m=vn(a);return r=wf(r),t.context===null?t.context=r:t.pendingContext=r,t=Kt(u,m),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=pn(a,t,m),e!==null&&(Tt(e,a,m,u),xi(e,a,m)),m}function Wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wl(e,t){kf(e,t),(e=e.alternate)&&kf(e,t)}function _y(){return null}var Sf=typeof reportError=="function"?reportError:function(e){console.error(e)};function xl(e){this._internalRoot=e}Vi.prototype.render=xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));$i(e,t,null,null)},Vi.prototype.unmount=xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){$i(null,e,null,null)}),t[Ht]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=sc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<on.length&&t!==0&&t<on[r].priority;r++);on.splice(r,0,e),r===0&&ac(e)}};function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function Iy(e,t,r,o,a){if(a){if(typeof o=="function"){var u=o;o=function(){var O=Wi(m);u.call(O)}}var m=xf(t,o,e,0,null,!1,!1,"",Cf);return e._reactRootContainer=m,e[Ht]=m.current,is(e.nodeType===8?e.parentNode:e),zn(),m}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var x=o;o=function(){var O=Wi(C);x.call(O)}}var C=vl(e,0,!1,null,null,!1,!1,"",Cf);return e._reactRootContainer=C,e[Ht]=C.current,is(e.nodeType===8?e.parentNode:e),zn(function(){$i(t,C,r,o)}),C}function Ki(e,t,r,o,a){var u=r._reactRootContainer;if(u){var m=u;if(typeof a=="function"){var x=a;a=function(){var C=Wi(m);x.call(C)}}$i(t,m,e,a)}else m=Iy(r,t,e,a,o);return Wi(m)}nc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wr(t.pendingLanes);r!==0&&(Vo(t,r|1),et(t,Pe()),(ce&6)===0&&(xr=Pe()+500,fn()))}break;case 13:zn(function(){var o=Qt(e,1);if(o!==null){var a=qe();Tt(o,e,1,a)}}),wl(e,1)}},Qo=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var r=qe();Tt(t,e,134217728,r)}wl(e,134217728)}},rc=function(e){if(e.tag===13){var t=vn(e),r=Qt(e,t);if(r!==null){var o=qe();Tt(r,e,t,o)}wl(e,t)}},sc=function(){return me},ic=function(e,t){var r=me;try{return me=e,t()}finally{me=r}},Mo=function(e,t,r){switch(t){case"input":if(To(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var a=ci(o);if(!a)throw Error(i(90));Ru(o),To(o,a)}}}break;case"textarea":Iu(e,r);break;case"select":t=r.value,t!=null&&Xn(e,!!r.multiple,t,!1)}},$u=fl,Wu=zn;var Oy={usingClientEntryPoint:!1,Events:[ls,ar,ci,Bu,Hu,fl]},Ss={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{Vs=qi.inject(Fy),At=qi}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oy,tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kl(t))throw Error(i(200));return Ly(e,t,null,r)},tt.createRoot=function(e,t){if(!kl(e))throw Error(i(299));var r=!1,o="",a=Sf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vl(e,1,!1,null,null,r,!1,o,a),e[Ht]=t.current,is(e.nodeType===8?e.parentNode:e),new xl(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=qu(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return zn(e)},tt.hydrate=function(e,t,r){if(!Qi(t))throw Error(i(200));return Ki(null,e,t,!0,r)},tt.hydrateRoot=function(e,t,r){if(!kl(e))throw Error(i(405));var o=r!=null&&r.hydratedSources||null,a=!1,u="",m=Sf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=xf(t,null,e,1,r??null,a,!1,u,m),e[Ht]=t.current,is(e),o)for(e=0;e<o.length;e++)r=o[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Vi(t)},tt.render=function(e,t,r){if(!Qi(t))throw Error(i(200));return Ki(null,e,t,!1,r)},tt.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(i(40));return e._reactRootContainer?(zn(function(){Ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1},tt.unstable_batchedUpdates=fl,tt.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!Qi(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ki(e,t,r,!1,o)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var Af;function Vy(){if(Af)return Nl.exports;Af=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Nl.exports=Wy(),Nl.exports}var Lf;function Qy(){if(Lf)return Gi;Lf=1;var n=Vy();return Gi.createRoot=n.createRoot,Gi.hydrateRoot=n.hydrateRoot,Gi}var Ky=Qy();const qy=kh(Ky);/**
- * react-router v7.10.1
- *
- * Copyright (c) Remix Software Inc.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE.md file in the root directory of this source tree.
- *
- * @license MIT
- */var _f="popstate";function Gy(n={}){function s(l,c){let{pathname:f,search:h,hash:p}=l.location;return zl("",{pathname:f,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:Ps(c)}return Xy(s,i,null,n)}function Ce(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}function kt(n,s){if(!n){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Yy(){return Math.random().toString(36).substring(2,10)}function If(n,s){return{usr:n.state,key:n.key,idx:s}}function zl(n,s,i=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof s=="string"?_r(s):s,state:i,key:s&&s.key||l||Yy()}}function Ps({pathname:n="/",search:s="",hash:i=""}){return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function _r(n){let s={};if(n){let i=n.indexOf("#");i>=0&&(s.hash=n.substring(i),n=n.substring(0,i));let l=n.indexOf("?");l>=0&&(s.search=n.substring(l),n=n.substring(0,l)),n&&(s.pathname=n)}return s}function Xy(n,s,i,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,h=c.history,p="POP",y=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function w(){p="POP";let P=v(),T=P==null?null:P-g;g=P,y&&y({action:p,location:E.location,delta:T})}function k(P,T){p="PUSH";let I=zl(E.location,P,T);g=v()+1;let A=If(I,g),F=E.createHref(I);try{h.pushState(A,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;c.location.assign(F)}f&&y&&y({action:p,location:E.location,delta:1})}function _(P,T){p="REPLACE";let I=zl(E.location,P,T);g=v();let A=If(I,g),F=E.createHref(I);h.replaceState(A,"",F),f&&y&&y({action:p,location:E.location,delta:0})}function R(P){return Zy(P)}let E={get action(){return p},get location(){return n(c,h)},listen(P){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(_f,w),y=P,()=>{c.removeEventListener(_f,w),y=null}},createHref(P){return s(c,P)},createURL:R,encodeLocation(P){let T=R(P);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:k,replace:_,go(P){return h.go(P)}};return E}function Zy(n,s=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ce(i,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:Ps(n);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Sh(n,s,i="/"){return Jy(n,s,i,!1)}function Jy(n,s,i,l){let c=typeof s=="string"?_r(s):s,f=tn(c.pathname||"/",i);if(f==null)return null;let h=Ch(n);eg(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let g=dg(f);p=ug(h[y],g,l)}return p}function Ch(n,s=[],i=[],l="",c=!1){let f=(h,p,y=c,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&y)return;Ce(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let w=en([l,v.relativePath]),k=i.concat(v);h.children&&h.children.length>0&&(Ce(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ch(h.children,s,k,w,y)),!(h.path==null&&!h.index)&&s.push({path:w,score:ag(w,h.index),routesMeta:k})};return n.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))f(h,p);else for(let y of Nh(h.path))f(h,p,!0,y)}),s}function Nh(n){let s=n.split("/");if(s.length===0)return[];let[i,...l]=s,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let h=Nh(l.join("/")),p=[];return p.push(...h.map(y=>y===""?f:[f,y].join("/"))),c&&p.push(...h),p.map(y=>n.startsWith("/")&&y===""?"/":y)}function eg(n){n.sort((s,i)=>s.score!==i.score?i.score-s.score:lg(s.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var tg=/^:[\w-]+$/,ng=3,rg=2,sg=1,ig=10,og=-2,Of=n=>n==="*";function ag(n,s){let i=n.split("/"),l=i.length;return i.some(Of)&&(l+=og),s&&(l+=rg),i.filter(c=>!Of(c)).reduce((c,f)=>c+(tg.test(f)?ng:f===""?sg:ig),l)}function lg(n,s){return n.length===s.length&&n.slice(0,-1).every((l,c)=>l===s[c])?n[n.length-1]-s[s.length-1]:0}function ug(n,s,i=!1){let{routesMeta:l}=n,c={},f="/",h=[];for(let p=0;p<l.length;++p){let y=l[p],g=p===l.length-1,v=f==="/"?s:s.slice(f.length)||"/",w=uo({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},v),k=y.route;if(!w&&g&&i&&!l[l.length-1].route.index&&(w=uo({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!w)return null;Object.assign(c,w.params),h.push({params:c,pathname:en([f,w.pathname]),pathnameBase:yg(en([f,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(f=en([f,w.pathnameBase]))}return h}function uo(n,s){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,l]=cg(n.path,n.caseSensitive,n.end),c=s.match(i);if(!c)return null;let f=c[0],h=f.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:l.reduce((g,{paramName:v,isOptional:w},k)=>{if(v==="*"){let R=p[k]||"";h=f.slice(0,f.length-R.length).replace(/(.)\/+$/,"$1")}const _=p[k];return w&&!_?g[v]=void 0:g[v]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:h,pattern:n}}function cg(n,s=!1,i=!0){kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(l.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(l.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),l]}function dg(n){try{return n.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return kt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),n}}function tn(n,s){if(s==="/")return n;if(!n.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,l=n.charAt(i);return l&&l!=="/"?null:n.slice(i)||"/"}var fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=n=>fg.test(n);function pg(n,s="/"){let{pathname:i,search:l="",hash:c=""}=typeof n=="string"?_r(n):n,f;if(i)if(hg(i))f=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?f=Ff(i.substring(1),"/"):f=Ff(i,s)}else f=s;return{pathname:f,search:gg(l),hash:vg(c)}}function Ff(n,s){let i=s.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function bl(n,s,i,l){return`Cannot include a '${n}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mg(n){return n.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function su(n){let s=mg(n);return s.map((i,l)=>l===s.length-1?i.pathname:i.pathnameBase)}function iu(n,s,i,l=!1){let c;typeof n=="string"?c=_r(n):(c={...n},Ce(!c.pathname||!c.pathname.includes("?"),bl("?","pathname","search",c)),Ce(!c.pathname||!c.pathname.includes("#"),bl("#","pathname","hash",c)),Ce(!c.search||!c.search.includes("#"),bl("#","search","hash",c)));let f=n===""||c.pathname==="",h=f?"/":c.pathname,p;if(h==null)p=i;else{let w=s.length-1;if(!l&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),w-=1;c.pathname=k.join("/")}p=w>=0?s[w]:"/"}let y=pg(c,p),g=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||v)&&(y.pathname+="/"),y}var en=n=>n.join("/").replace(/\/\/+/g,"/"),yg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gg=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vg=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function xg(n){return n.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Eh=["POST","PUT","PATCH","DELETE"];new Set(Eh);var kg=["GET",...Eh];new Set(kg);var Ir=S.createContext(null);Ir.displayName="DataRouter";var No=S.createContext(null);No.displayName="DataRouterState";S.createContext(!1);var jh=S.createContext({isTransitioning:!1});jh.displayName="ViewTransition";var Sg=S.createContext(new Map);Sg.displayName="Fetchers";var Cg=S.createContext(null);Cg.displayName="Await";var St=S.createContext(null);St.displayName="Navigation";var Os=S.createContext(null);Os.displayName="Location";var Ut=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ut.displayName="Route";var ou=S.createContext(null);ou.displayName="RouteError";function Ng(n,{relative:s}={}){Ce(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=S.useContext(St),{hash:c,pathname:f,search:h}=Fs(n,{relative:s}),p=f;return i!=="/"&&(p=f==="/"?i:en([i,f])),l.createHref({pathname:p,search:h,hash:c})}function Or(){return S.useContext(Os)!=null}function Rn(){return Ce(Or(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Os).location}var bh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ph(n){S.useContext(St).static||S.useLayoutEffect(n)}function Ct(){let{isDataRoute:n}=S.useContext(Ut);return n?Dg():Eg()}function Eg(){Ce(Or(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Ir),{basename:s,navigator:i}=S.useContext(St),{matches:l}=S.useContext(Ut),{pathname:c}=Rn(),f=JSON.stringify(su(l)),h=S.useRef(!1);return Ph(()=>{h.current=!0}),S.useCallback((y,g={})=>{if(kt(h.current,bh),!h.current)return;if(typeof y=="number"){i.go(y);return}let v=iu(y,JSON.parse(f),c,g.relative==="path");n==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:en([s,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[s,i,f,c,n])}S.createContext(null);function Fs(n,{relative:s}={}){let{matches:i}=S.useContext(Ut),{pathname:l}=Rn(),c=JSON.stringify(su(i));return S.useMemo(()=>iu(n,JSON.parse(c),l,s==="path"),[n,c,l,s])}function jg(n,s){return Rh(n,s)}function Rh(n,s,i,l,c){Ce(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=S.useContext(St),{matches:h}=S.useContext(Ut),p=h[h.length-1],y=p?p.params:{},g=p?p.pathname:"/",v=p?p.pathnameBase:"/",w=p&&p.route;{let I=w&&w.path||"";Th(g,!w||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.
-
-Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let k=Rn(),_;if(s){let I=typeof s=="string"?_r(s):s;Ce(v==="/"||I.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=k;let R=_.pathname||"/",E=R;if(v!=="/"){let I=v.replace(/^\//,"").split("/");E="/"+R.replace(/^\//,"").split("/").slice(I.length).join("/")}let P=Sh(n,{pathname:E});kt(w||P!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),kt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Ag(P&&P.map(I=>Object.assign({},I,{params:Object.assign({},y,I.params),pathname:en([v,f.encodeLocation?f.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:en([v,f.encodeLocation?f.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),h,i,l,c);return s&&T?S.createElement(Os.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function bg(){let n=Fg(),s=wg(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=S.createElement(S.Fragment,null,S.createElement("p",null,"ğŸ’¿ Hey developer ğŸ‘‹"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:f},"ErrorBoundary")," or"," ",S.createElement("code",{style:f},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},s),i?S.createElement("pre",{style:c},i):null,h)}var Pg=S.createElement(bg,null),Rg=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){this.props.onError?this.props.onError(n,s):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?S.createElement(Ut.Provider,{value:this.props.routeContext},S.createElement(ou.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tg({routeContext:n,match:s,children:i}){let l=S.useContext(Ir);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),S.createElement(Ut.Provider,{value:n},i)}function Ag(n,s=[],i=null,l=null,c=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let f=n,h=i?.errors;if(h!=null){let v=f.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);Ce(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,v+1))}let p=!1,y=-1;if(i)for(let v=0;v<f.length;v++){let w=f[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:k,errors:_}=i,R=w.route.loader&&!k.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||R){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let g=i&&l?(v,w)=>{l(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:xg(i.matches),errorInfo:w})}:void 0;return f.reduceRight((v,w,k)=>{let _,R=!1,E=null,P=null;i&&(_=h&&w.route.id?h[w.route.id]:void 0,E=w.route.errorElement||Pg,p&&(y<0&&k===0?(Th("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):y===k&&(R=!0,P=w.route.hydrateFallbackElement||null)));let T=s.concat(f.slice(0,k+1)),I=()=>{let A;return _?A=E:R?A=P:w.route.Component?A=S.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=v,S.createElement(Tg,{match:w,routeContext:{outlet:v,matches:T,isDataRoute:i!=null},children:A})};return i&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?S.createElement(Rg,{location:i.location,revalidation:i.revalidation,component:E,error:_,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:g}):I()},null)}function au(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lg(n){let s=S.useContext(Ir);return Ce(s,au(n)),s}function _g(n){let s=S.useContext(No);return Ce(s,au(n)),s}function Ig(n){let s=S.useContext(Ut);return Ce(s,au(n)),s}function lu(n){let s=Ig(n),i=s.matches[s.matches.length-1];return Ce(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Og(){return lu("useRouteId")}function Fg(){let n=S.useContext(ou),s=_g("useRouteError"),i=lu("useRouteError");return n!==void 0?n:s.errors?.[i]}function Dg(){let{router:n}=Lg("useNavigate"),s=lu("useNavigate"),i=S.useRef(!1);return Ph(()=>{i.current=!0}),S.useCallback(async(c,f={})=>{kt(i.current,bh),i.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:s,...f}))},[n,s])}var Df={};function Th(n,s,i){!s&&!Df[n]&&(Df[n]=!0,kt(!1,i))}S.memo(Mg);function Mg({routes:n,future:s,state:i,unstable_onError:l}){return Rh(n,void 0,i,l,s)}function Yt({to:n,replace:s,state:i,relative:l}){Ce(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(St);kt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=S.useContext(Ut),{pathname:h}=Rn(),p=Ct(),y=iu(n,su(f),h,l==="path"),g=JSON.stringify(y);return S.useEffect(()=>{p(JSON.parse(g),{replace:s,state:i,relative:l})},[p,g,l,s,i]),null}function gt(n){Ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zg({basename:n="/",children:s=null,location:i,navigationType:l="POP",navigator:c,static:f=!1,unstable_useTransitions:h}){Ce(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=n.replace(/^\/*/,"/"),y=S.useMemo(()=>({basename:p,navigator:c,static:f,unstable_useTransitions:h,future:{}}),[p,c,f,h]);typeof i=="string"&&(i=_r(i));let{pathname:g="/",search:v="",hash:w="",state:k=null,key:_="default"}=i,R=S.useMemo(()=>{let E=tn(g,p);return E==null?null:{location:{pathname:E,search:v,hash:w,state:k,key:_},navigationType:l}},[p,g,v,w,k,_,l]);return kt(R!=null,`<Router basename="${p}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:S.createElement(St.Provider,{value:y},S.createElement(Os.Provider,{children:s,value:R}))}function Ug({children:n,location:s}){return jg(Ul(n),s)}function Ul(n,s=[]){let i=[];return S.Children.forEach(n,(l,c)=>{if(!S.isValidElement(l))return;let f=[...s,c];if(l.type===S.Fragment){i.push.apply(i,Ul(l.props.children,f));return}Ce(l.type===gt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ce(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Ul(l.props.children,f)),i.push(h)}),i}var no="get",ro="application/x-www-form-urlencoded";function Eo(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Bg(n){return Eo(n)&&n.tagName.toLowerCase()==="button"}function Hg(n){return Eo(n)&&n.tagName.toLowerCase()==="form"}function $g(n){return Eo(n)&&n.tagName.toLowerCase()==="input"}function Wg(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Vg(n,s){return n.button===0&&(!s||s==="_self")&&!Wg(n)}var Yi=null;function Qg(){if(Yi===null)try{new FormData(document.createElement("form"),0),Yi=!1}catch{Yi=!0}return Yi}var Kg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pl(n){return n!=null&&!Kg.has(n)?(kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ro}"`),null):n}function qg(n,s){let i,l,c,f,h;if(Hg(n)){let p=n.getAttribute("action");l=p?tn(p,s):null,i=n.getAttribute("method")||no,c=Pl(n.getAttribute("enctype"))||ro,f=new FormData(n)}else if(Bg(n)||$g(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||p.getAttribute("action");if(l=y?tn(y,s):null,i=n.getAttribute("formmethod")||p.getAttribute("method")||no,c=Pl(n.getAttribute("formenctype"))||Pl(p.getAttribute("enctype"))||ro,f=new FormData(p,n),!Qg()){let{name:g,type:v,value:w}=n;if(v==="image"){let k=g?`${g}.`:"";f.append(`${k}x`,"0"),f.append(`${k}y`,"0")}else g&&f.append(g,w)}}else{if(Eo(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=no,l=null,c=ro,h=n}return f&&c==="text/plain"&&(h=f,f=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uu(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}function Gg(n,s,i){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l.pathname==="/"?l.pathname=`_root.${i}`:s&&tn(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function Yg(n,s){if(n.id in s)return s[n.id];try{let i=await import(n.module);return s[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xg(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Zg(n,s,i){let l=await Promise.all(n.map(async c=>{let f=s.routes[c.route.id];if(f){let h=await Yg(f,i);return h.links?h.links():[]}return[]}));return nv(l.flat(1).filter(Xg).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Mf(n,s,i,l,c,f){let h=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,p=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return f==="assets"?s.filter((y,g)=>h(y,g)||p(y,g)):f==="data"?s.filter((y,g)=>{let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Jg(n,s,{includeHydrateFallback:i}={}){return ev(n.map(l=>{let c=s.routes[l.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function ev(n){return[...new Set(n)]}function tv(n){let s={},i=Object.keys(n).sort();for(let l of i)s[l]=n[l];return s}function nv(n,s){let i=new Set;return new Set(s),n.reduce((l,c)=>{let f=JSON.stringify(tv(c));return i.has(f)||(i.add(f),l.push({key:f,link:c})),l},[])}function Ah(){let n=S.useContext(Ir);return uu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rv(){let n=S.useContext(No);return uu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cu=S.createContext(void 0);cu.displayName="FrameworkContext";function Lh(){let n=S.useContext(cu);return uu(n,"You must render this element inside a <HydratedRouter> element"),n}function sv(n,s){let i=S.useContext(cu),[l,c]=S.useState(!1),[f,h]=S.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=s,k=S.useRef(null);S.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let E=T=>{T.forEach(I=>{h(I.isIntersecting)})},P=new IntersectionObserver(E,{threshold:.5});return k.current&&P.observe(k.current),()=>{P.disconnect()}}},[n]),S.useEffect(()=>{if(l){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[l]);let _=()=>{c(!0)},R=()=>{c(!1),h(!1)};return i?n!=="intent"?[f,k,{}]:[f,k,{onFocus:Ns(p,_),onBlur:Ns(y,R),onMouseEnter:Ns(g,_),onMouseLeave:Ns(v,R),onTouchStart:Ns(w,_)}]:[!1,k,{}]}function Ns(n,s){return i=>{n&&n(i),i.defaultPrevented||s(i)}}function iv({page:n,...s}){let{router:i}=Ah(),l=S.useMemo(()=>Sh(i.routes,n,i.basename),[i.routes,n,i.basename]);return l?S.createElement(av,{page:n,matches:l,...s}):null}function ov(n){let{manifest:s,routeModules:i}=Lh(),[l,c]=S.useState([]);return S.useEffect(()=>{let f=!1;return Zg(n,s,i).then(h=>{f||c(h)}),()=>{f=!0}},[n,s,i]),l}function av({page:n,matches:s,...i}){let l=Rn(),{manifest:c,routeModules:f}=Lh(),{basename:h}=Ah(),{loaderData:p,matches:y}=rv(),g=S.useMemo(()=>Mf(n,s,y,c,l,"data"),[n,s,y,c,l]),v=S.useMemo(()=>Mf(n,s,y,c,l,"assets"),[n,s,y,c,l]),w=S.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let R=new Set,E=!1;if(s.forEach(T=>{let I=c.routes[T.route.id];!I||!I.hasLoader||(!g.some(A=>A.route.id===T.route.id)&&T.route.id in p&&f[T.route.id]?.shouldRevalidate||I.hasClientLoader?E=!0:R.add(T.route.id))}),R.size===0)return[];let P=Gg(n,h,"data");return E&&R.size>0&&P.searchParams.set("_routes",s.filter(T=>R.has(T.route.id)).map(T=>T.route.id).join(",")),[P.pathname+P.search]},[h,p,l,c,g,s,n,f]),k=S.useMemo(()=>Jg(v,c),[v,c]),_=ov(v);return S.createElement(S.Fragment,null,w.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),k.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),_.map(({key:R,link:E})=>S.createElement("link",{key:R,nonce:i.nonce,...E})))}function lv(...n){return s=>{n.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var _h=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_h&&(window.__reactRouterVersion="7.10.1")}catch{}function uv({basename:n,children:s,unstable_useTransitions:i,window:l}){let c=S.useRef();c.current==null&&(c.current=Gy({window:l,v5Compat:!0}));let f=c.current,[h,p]=S.useState({action:f.action,location:f.location}),y=S.useCallback(g=>{i===!1?p(g):S.startTransition(()=>p(g))},[i]);return S.useLayoutEffect(()=>f.listen(y),[f,y]),S.createElement(zg,{basename:n,children:s,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:i===!0})}var Ih=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=S.forwardRef(function({onClick:s,discover:i="render",prefetch:l="none",relative:c,reloadDocument:f,replace:h,state:p,target:y,to:g,preventScrollReset:v,viewTransition:w,...k},_){let{basename:R,unstable_useTransitions:E}=S.useContext(St),P=typeof g=="string"&&Ih.test(g),T,I=!1;if(typeof g=="string"&&P&&(T=g,_h))try{let te=new URL(window.location.href),ye=g.startsWith("//")?new URL(te.protocol+g):new URL(g),ie=tn(ye.pathname,R);ye.origin===te.origin&&ie!=null?g=ie+ye.search+ye.hash:I=!0}catch{kt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Ng(g,{relative:c}),[F,D,K]=sv(l,k),W=hv(g,{replace:h,state:p,target:y,preventScrollReset:v,relative:c,viewTransition:w,unstable_useTransitions:E});function $(te){s&&s(te),te.defaultPrevented||W(te)}let V=S.createElement("a",{...k,...K,href:T||A,onClick:I||f?s:$,ref:lv(_,D),target:y,"data-discover":!P&&i==="render"?"true":void 0});return F&&!P?S.createElement(S.Fragment,null,V,S.createElement(iv,{page:A})):V});Oh.displayName="Link";var cv=S.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:l="",end:c=!1,style:f,to:h,viewTransition:p,children:y,...g},v){let w=Fs(h,{relative:g.relative}),k=Rn(),_=S.useContext(No),{navigator:R,basename:E}=S.useContext(St),P=_!=null&&vv(w)&&p===!0,T=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,I=k.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(I=I.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&E&&(A=tn(A,E)||A);const F=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=I===T||!c&&I.startsWith(T)&&I.charAt(F)==="/",K=A!=null&&(A===T||!c&&A.startsWith(T)&&A.charAt(T.length)==="/"),W={isActive:D,isPending:K,isTransitioning:P},$=D?s:void 0,V;typeof l=="function"?V=l(W):V=[l,D?"active":null,K?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let te=typeof f=="function"?f(W):f;return S.createElement(Oh,{...g,"aria-current":$,className:V,ref:v,style:te,to:h,viewTransition:p},typeof y=="function"?y(W):y)});cv.displayName="NavLink";var dv=S.forwardRef(({discover:n="render",fetcherKey:s,navigate:i,reloadDocument:l,replace:c,state:f,method:h=no,action:p,onSubmit:y,relative:g,preventScrollReset:v,viewTransition:w,...k},_)=>{let{unstable_useTransitions:R}=S.useContext(St),E=yv(),P=gv(p,{relative:g}),T=h.toLowerCase()==="get"?"get":"post",I=typeof p=="string"&&Ih.test(p),A=F=>{if(y&&y(F),F.defaultPrevented)return;F.preventDefault();let D=F.nativeEvent.submitter,K=D?.getAttribute("formmethod")||h,W=()=>E(D||F.currentTarget,{fetcherKey:s,method:K,navigate:i,replace:c,state:f,relative:g,preventScrollReset:v,viewTransition:w});R&&i!==!1?S.startTransition(()=>W()):W()};return S.createElement("form",{ref:_,method:T,action:P,onSubmit:l?y:A,...k,"data-discover":!I&&n==="render"?"true":void 0})});dv.displayName="Form";function fv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fh(n){let s=S.useContext(Ir);return Ce(s,fv(n)),s}function hv(n,{target:s,replace:i,state:l,preventScrollReset:c,relative:f,viewTransition:h,unstable_useTransitions:p}={}){let y=Ct(),g=Rn(),v=Fs(n,{relative:f});return S.useCallback(w=>{if(Vg(w,s)){w.preventDefault();let k=i!==void 0?i:Ps(g)===Ps(v),_=()=>y(n,{replace:k,state:l,preventScrollReset:c,relative:f,viewTransition:h});p?S.startTransition(()=>_()):_()}},[g,y,v,i,l,s,n,c,f,h,p])}var pv=0,mv=()=>`__${String(++pv)}__`;function yv(){let{router:n}=Fh("useSubmit"),{basename:s}=S.useContext(St),i=Og(),l=n.fetch,c=n.navigate;return S.useCallback(async(f,h={})=>{let{action:p,method:y,encType:g,formData:v,body:w}=qg(f,s);if(h.navigate===!1){let k=h.fetcherKey||mv();await l(k,i,h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:w,formMethod:h.method||y,formEncType:h.encType||g,flushSync:h.flushSync})}else await c(h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:w,formMethod:h.method||y,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[l,c,s,i])}function gv(n,{relative:s}={}){let{basename:i}=S.useContext(St),l=S.useContext(Ut);Ce(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...Fs(n||".",{relative:s})},h=Rn();if(n==null){f.search=h.search;let p=new URLSearchParams(f.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:en([i,f.pathname])),Ps(f)}function vv(n,{relative:s}={}){let i=S.useContext(jh);Ce(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Fh("useViewTransitionState"),c=Fs(n,{relative:s});if(!i.isTransitioning)return!1;let f=tn(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=tn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return uo(c.pathname,h)!=null||uo(c.pathname,f)!=null}var Ds=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wv={setTimeout:(n,s)=>setTimeout(n,s),clearTimeout:n=>clearTimeout(n),setInterval:(n,s)=>setInterval(n,s),clearInterval:n=>clearInterval(n)},xv=class{#e=wv;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,s){return this.#e.setTimeout(n,s)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,s){return this.#e.setInterval(n,s)}clearInterval(n){this.#e.clearInterval(n)}},Qn=new xv;function kv(n){setTimeout(n,0)}var Kn=typeof window>"u"||"Deno"in globalThis;function nt(){}function Sv(n,s){return typeof n=="function"?n(s):n}function Bl(n){return typeof n=="number"&&n>=0&&n!==1/0}function Dh(n,s){return Math.max(n+(s||0)-Date.now(),0)}function jn(n,s){return typeof n=="function"?n(s):n}function vt(n,s){return typeof n=="function"?n(s):n}function zf(n,s){const{type:i="all",exact:l,fetchStatus:c,predicate:f,queryKey:h,stale:p}=n;if(h){if(l){if(s.queryHash!==du(h,s.options))return!1}else if(!Ts(s.queryKey,h))return!1}if(i!=="all"){const y=s.isActive();if(i==="active"&&!y||i==="inactive"&&y)return!1}return!(typeof p=="boolean"&&s.isStale()!==p||c&&c!==s.state.fetchStatus||f&&!f(s))}function Uf(n,s){const{exact:i,status:l,predicate:c,mutationKey:f}=n;if(f){if(!s.options.mutationKey)return!1;if(i){if(Rs(s.options.mutationKey)!==Rs(f))return!1}else if(!Ts(s.options.mutationKey,f))return!1}return!(l&&s.state.status!==l||c&&!c(s))}function du(n,s){return(s?.queryKeyHashFn||Rs)(n)}function Rs(n){return JSON.stringify(n,(s,i)=>$l(i)?Object.keys(i).sort().reduce((l,c)=>(l[c]=i[c],l),{}):i)}function Ts(n,s){return n===s?!0:typeof n!=typeof s?!1:n&&s&&typeof n=="object"&&typeof s=="object"?Object.keys(s).every(i=>Ts(n[i],s[i])):!1}var Cv=Object.prototype.hasOwnProperty;function Mh(n,s){if(n===s)return n;const i=Bf(n)&&Bf(s);if(!i&&!($l(n)&&$l(s)))return s;const c=(i?n:Object.keys(n)).length,f=i?s:Object.keys(s),h=f.length,p=i?new Array(h):{};let y=0;for(let g=0;g<h;g++){const v=i?g:f[g],w=n[v],k=s[v];if(w===k){p[v]=w,(i?g<c:Cv.call(n,v))&&y++;continue}if(w===null||k===null||typeof w!="object"||typeof k!="object"){p[v]=k;continue}const _=Mh(w,k);p[v]=_,_===w&&y++}return c===h&&y===c?n:p}function Hl(n,s){if(!s||Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}function Bf(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function $l(n){if(!Hf(n))return!1;const s=n.constructor;if(s===void 0)return!0;const i=s.prototype;return!(!Hf(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Hf(n){return Object.prototype.toString.call(n)==="[object Object]"}function Nv(n){return new Promise(s=>{Qn.setTimeout(s,n)})}function Wl(n,s,i){return typeof i.structuralSharing=="function"?i.structuralSharing(n,s):i.structuralSharing!==!1?Mh(n,s):s}function Ev(n,s,i=0){const l=[...n,s];return i&&l.length>i?l.slice(1):l}function jv(n,s,i=0){const l=[s,...n];return i&&l.length>i?l.slice(0,-1):l}var fu=Symbol();function zh(n,s){return!n.queryFn&&s?.initialPromise?()=>s.initialPromise:!n.queryFn||n.queryFn===fu?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function bv(n,s){return typeof n=="function"?n(...s):!!n}var Pv=class extends Ds{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Kn&&window.addEventListener){const s=()=>n();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(s=>{s(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},hu=new Pv;function Vl(){let n,s;const i=new Promise((c,f)=>{n=c,s=f});i.status="pending",i.catch(()=>{});function l(c){Object.assign(i,c),delete i.resolve,delete i.reject}return i.resolve=c=>{l({status:"fulfilled",value:c}),n(c)},i.reject=c=>{l({status:"rejected",reason:c}),s(c)},i}var Rv=kv;function Tv(){let n=[],s=0,i=p=>{p()},l=p=>{p()},c=Rv;const f=p=>{s?n.push(p):c(()=>{i(p)})},h=()=>{const p=n;n=[],p.length&&c(()=>{l(()=>{p.forEach(y=>{i(y)})})})};return{batch:p=>{let y;s++;try{y=p()}finally{s--,s||h()}return y},batchCalls:p=>(...y)=>{f(()=>{p(...y)})},schedule:f,setNotifyFunction:p=>{i=p},setBatchNotifyFunction:p=>{l=p},setScheduler:p=>{c=p}}}var Ue=Tv(),Av=class extends Ds{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Kn&&window.addEventListener){const s=()=>n(!0),i=()=>n(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(i=>{i(n)}))}isOnline(){return this.#e}},co=new Av;function Lv(n){return Math.min(1e3*2**n,3e4)}function Uh(n){return(n??"online")==="online"?co.isOnline():!0}var Ql=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Bh(n){let s=!1,i=0,l;const c=Vl(),f=()=>c.status!=="pending",h=E=>{if(!f()){const P=new Ql(E);k(P),n.onCancel?.(P)}},p=()=>{s=!0},y=()=>{s=!1},g=()=>hu.isFocused()&&(n.networkMode==="always"||co.isOnline())&&n.canRun(),v=()=>Uh(n.networkMode)&&n.canRun(),w=E=>{f()||(l?.(),c.resolve(E))},k=E=>{f()||(l?.(),c.reject(E))},_=()=>new Promise(E=>{l=P=>{(f()||g())&&E(P)},n.onPause?.()}).then(()=>{l=void 0,f()||n.onContinue?.()}),R=()=>{if(f())return;let E;const P=i===0?n.initialPromise:void 0;try{E=P??n.fn()}catch(T){E=Promise.reject(T)}Promise.resolve(E).then(w).catch(T=>{if(f())return;const I=n.retry??(Kn?0:3),A=n.retryDelay??Lv,F=typeof A=="function"?A(i,T):A,D=I===!0||typeof I=="number"&&i<I||typeof I=="function"&&I(i,T);if(s||!D){k(T);return}i++,n.onFail?.(i,T),Nv(F).then(()=>g()?void 0:_()).then(()=>{s?k(T):R()})})};return{promise:c,status:()=>c.status,cancel:h,continue:()=>(l?.(),c),cancelRetry:p,continueRetry:y,canStart:v,start:()=>(v()?R():_().then(R),c)}}var Hh=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bl(this.gcTime)&&(this.#e=Qn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Kn?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qn.clearTimeout(this.#e),this.#e=void 0)}},_v=class extends Hh{#e;#t;#n;#s;#r;#a;#o;constructor(n){super(),this.#o=!1,this.#a=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#s=n.client,this.#n=this.#s.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=Wf(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(n){if(this.options={...this.#a,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Wf(this.options);s.data!==void 0&&(this.setState($f(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,s){const i=Wl(this.state.data,n,this.options);return this.#i({data:i,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),i}setState(n,s){this.#i({type:"setState",state:n,setStateOptions:s})}cancel(n){const s=this.#r?.promise;return this.#r?.cancel(n),s?s.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>vt(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>jn(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Dh(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(n,s){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},c=()=>{const p=zh(this.options,s),g=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(v),v})();return this.#o=!1,this.options.persister?this.options.persister(p,g,this):p(g)},h=(()=>{const p={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(p),p})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=Bh({initialPromise:s?.initialPromise,fn:h.fetchFn,onCancel:p=>{p instanceof Ql&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(p,y)=>{this.#i({type:"failed",failureCount:p,error:y})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const p=await this.#r.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof Ql){if(p.silent)return this.#r.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(n){const s=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...$h(i.data,this.options),fetchMeta:n.meta??null};case"success":const l={...i,...$f(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?l:void 0,l;case"error":const c=n.error;return{...i,error:c,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=s(this.state),Ue.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function $h(n,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uh(s.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function $f(n,s){return{data:n,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Wf(n){const s=typeof n.initialData=="function"?n.initialData():n.initialData,i=s!==void 0,l=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:i?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Iv=class extends Ds{constructor(n,s){super(),this.options=s,this.#e=n,this.#i=null,this.#o=Vl(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Vf(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kl(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kl(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#k(),this.#t.removeObserver(this)}setOptions(n){const s=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vt(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),s._defaulted&&!Hl(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Qf(this.#t,i,this.options,s)&&this.#d(),this.updateResult(),l&&(this.#t!==i||vt(this.options.enabled,this.#t)!==vt(s.enabled,this.#t)||jn(this.options.staleTime,this.#t)!==jn(s.staleTime,this.#t))&&this.#y();const c=this.#g();l&&(this.#t!==i||vt(this.options.enabled,this.#t)!==vt(s.enabled,this.#t)||c!==this.#l)&&this.#v(c)}getOptimisticResult(n){const s=this.#e.getQueryCache().build(this.#e,n),i=this.createResult(s,n);return Fv(this,i)&&(this.#s=i,this.#a=this.options,this.#r=this.#t.state),i}getCurrentResult(){return this.#s}trackResult(n,s){return new Proxy(n,{get:(i,l)=>(this.trackProp(l),s?.(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,l))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const s=this.#e.defaultQueryOptions(n),i=this.#e.getQueryCache().build(this.#e,s);return i.fetch().then(()=>this.createResult(i,s))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(n){this.#S();let s=this.#t.fetch(this.options,n);return n?.throwOnError||(s=s.catch(nt)),s}#y(){this.#x();const n=jn(this.options.staleTime,this.#t);if(Kn||this.#s.isStale||!Bl(n))return;const i=Dh(this.#s.dataUpdatedAt,n)+1;this.#u=Qn.setTimeout(()=>{this.#s.isStale||this.updateResult()},i)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#k(),this.#l=n,!(Kn||vt(this.options.enabled,this.#t)===!1||!Bl(this.#l)||this.#l===0)&&(this.#c=Qn.setInterval(()=>{(this.options.refetchIntervalInBackground||hu.isFocused())&&this.#d()},this.#l))}#w(){this.#y(),this.#v(this.#g())}#x(){this.#u&&(Qn.clearTimeout(this.#u),this.#u=void 0)}#k(){this.#c&&(Qn.clearInterval(this.#c),this.#c=void 0)}createResult(n,s){const i=this.#t,l=this.options,c=this.#s,f=this.#r,h=this.#a,y=n!==i?n.state:this.#n,{state:g}=n;let v={...g},w=!1,k;if(s._optimisticResults){const $=this.hasListeners(),V=!$&&Vf(n,s),te=$&&Qf(n,i,s,l);(V||te)&&(v={...v,...$h(g.data,n.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:_,errorUpdatedAt:R,status:E}=v;k=v.data;let P=!1;if(s.placeholderData!==void 0&&k===void 0&&E==="pending"){let $;c?.isPlaceholderData&&s.placeholderData===h?.placeholderData?($=c.data,P=!0):$=typeof s.placeholderData=="function"?s.placeholderData(this.#h?.state.data,this.#h):s.placeholderData,$!==void 0&&(E="success",k=Wl(c?.data,$,s),w=!0)}if(s.select&&k!==void 0&&!P)if(c&&k===f?.data&&s.select===this.#m)k=this.#f;else try{this.#m=s.select,k=s.select(k),k=Wl(c?.data,k,s),this.#f=k,this.#i=null}catch($){this.#i=$}this.#i&&(_=this.#i,k=this.#f,R=Date.now(),E="error");const T=v.fetchStatus==="fetching",I=E==="pending",A=E==="error",F=I&&T,D=k!==void 0,W={status:E,fetchStatus:v.fetchStatus,isPending:I,isSuccess:E==="success",isError:A,isInitialLoading:F,isLoading:F,data:k,dataUpdatedAt:v.dataUpdatedAt,error:_,errorUpdatedAt:R,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:T,isRefetching:T&&!I,isLoadingError:A&&!D,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&D,isStale:pu(n,s),refetch:this.refetch,promise:this.#o,isEnabled:vt(s.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const $=ye=>{W.status==="error"?ye.reject(W.error):W.data!==void 0&&ye.resolve(W.data)},V=()=>{const ye=this.#o=W.promise=Vl();$(ye)},te=this.#o;switch(te.status){case"pending":n.queryHash===i.queryHash&&$(te);break;case"fulfilled":(W.status==="error"||W.data!==te.value)&&V();break;case"rejected":(W.status!=="error"||W.error!==te.reason)&&V();break}}return W}updateResult(){const n=this.#s,s=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Hl(s,n))return;this.#s=s;const i=()=>{if(!n)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#p.size)return!0;const f=new Set(c??this.#p);return this.options.throwOnError&&f.add("error"),Object.keys(this.#s).some(h=>{const p=h;return this.#s[p]!==n[p]&&f.has(p)})};this.#C({listeners:i()})}#S(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const s=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(s?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#C(n){Ue.batch(()=>{n.listeners&&this.listeners.forEach(s=>{s(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ov(n,s){return vt(s.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&s.retryOnMount===!1)}function Vf(n,s){return Ov(n,s)||n.state.data!==void 0&&Kl(n,s,s.refetchOnMount)}function Kl(n,s,i){if(vt(s.enabled,n)!==!1&&jn(s.staleTime,n)!=="static"){const l=typeof i=="function"?i(n):i;return l==="always"||l!==!1&&pu(n,s)}return!1}function Qf(n,s,i,l){return(n!==s||vt(l.enabled,n)===!1)&&(!i.suspense||n.state.status!=="error")&&pu(n,i)}function pu(n,s){return vt(s.enabled,n)!==!1&&n.isStaleByTime(jn(s.staleTime,n))}function Fv(n,s){return!Hl(n.getCurrentResult(),s)}function Kf(n){return{onFetch:(s,i)=>{const l=s.options,c=s.fetchOptions?.meta?.fetchMore?.direction,f=s.state.data?.pages||[],h=s.state.data?.pageParams||[];let p={pages:[],pageParams:[]},y=0;const g=async()=>{let v=!1;const w=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(s.signal.aborted?v=!0:s.signal.addEventListener("abort",()=>{v=!0}),s.signal)})},k=zh(s.options,s.fetchOptions),_=async(R,E,P)=>{if(v)return Promise.reject();if(E==null&&R.pages.length)return Promise.resolve(R);const I=(()=>{const K={client:s.client,queryKey:s.queryKey,pageParam:E,direction:P?"backward":"forward",meta:s.options.meta};return w(K),K})(),A=await k(I),{maxPages:F}=s.options,D=P?jv:Ev;return{pages:D(R.pages,A,F),pageParams:D(R.pageParams,E,F)}};if(c&&f.length){const R=c==="backward",E=R?Dv:qf,P={pages:f,pageParams:h},T=E(l,P);p=await _(P,T,R)}else{const R=n??f.length;do{const E=y===0?h[0]??l.initialPageParam:qf(l,p);if(y>0&&E==null)break;p=await _(p,E),y++}while(y<R)}return p};s.options.persister?s.fetchFn=()=>s.options.persister?.(g,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},i):s.fetchFn=g}}}function qf(n,{pages:s,pageParams:i}){const l=s.length-1;return s.length>0?n.getNextPageParam(s[l],s,i[l],i):void 0}function Dv(n,{pages:s,pageParams:i}){return s.length>0?n.getPreviousPageParam?.(s[0],s,i[0],i):void 0}var Mv=class extends Hh{#e;#t;#n;#s;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||zv(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(s=>s!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(n){const s=()=>{this.#r({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Bh({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(f,h)=>{this.#r({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)s();else{this.#r({type:"pending",variables:n,isPaused:c}),await this.#n.config.onMutate?.(n,this,i);const h=await this.options.onMutate?.(n,i);h!==this.state.context&&this.#r({type:"pending",context:h,variables:n,isPaused:c})}const f=await this.#s.start();return await this.#n.config.onSuccess?.(f,n,this.state.context,this,i),await this.options.onSuccess?.(f,n,this.state.context,i),await this.#n.config.onSettled?.(f,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(f,null,n,this.state.context,i),this.#r({type:"success",data:f}),f}catch(f){try{throw await this.#n.config.onError?.(f,n,this.state.context,this,i),await this.options.onError?.(f,n,this.state.context,i),await this.#n.config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,f,n,this.state.context,i),f}finally{this.#r({type:"error",error:f})}}finally{this.#n.runNext(this)}}#r(n){const s=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ue.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function zv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uv=class extends Ds{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,s,i){const l=new Mv({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(s),state:i});return this.add(l),l}add(n){this.#e.add(n);const s=Xi(n);if(typeof s=="string"){const i=this.#t.get(s);i?i.push(n):this.#t.set(s,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const s=Xi(n);if(typeof s=="string"){const i=this.#t.get(s);if(i)if(i.length>1){const l=i.indexOf(n);l!==-1&&i.splice(l,1)}else i[0]===n&&this.#t.delete(s)}}this.notify({type:"removed",mutation:n})}canRun(n){const s=Xi(n);if(typeof s=="string"){const l=this.#t.get(s)?.find(c=>c.state.status==="pending");return!l||l===n}else return!0}runNext(n){const s=Xi(n);return typeof s=="string"?this.#t.get(s)?.find(l=>l!==n&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ue.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const s={exact:!0,...n};return this.getAll().find(i=>Uf(s,i))}findAll(n={}){return this.getAll().filter(s=>Uf(n,s))}notify(n){Ue.batch(()=>{this.listeners.forEach(s=>{s(n)})})}resumePausedMutations(){const n=this.getAll().filter(s=>s.state.isPaused);return Ue.batch(()=>Promise.all(n.map(s=>s.continue().catch(nt))))}};function Xi(n){return n.options.scope?.id}var Bv=class extends Ds{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,s,i){const l=s.queryKey,c=s.queryHash??du(l,s);let f=this.get(c);return f||(f=new _v({client:n,queryKey:l,queryHash:c,options:n.defaultQueryOptions(s),state:i,defaultOptions:n.getQueryDefaults(l)}),this.add(f)),f}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const s=this.#e.get(n.queryHash);s&&(n.destroy(),s===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Ue.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const s={exact:!0,...n};return this.getAll().find(i=>zf(s,i))}findAll(n={}){const s=this.getAll();return Object.keys(n).length>0?s.filter(i=>zf(n,i)):s}notify(n){Ue.batch(()=>{this.listeners.forEach(s=>{s(n)})})}onFocus(){Ue.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Ue.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Hv=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(n={}){this.#e=n.queryCache||new Bv,this.#t=n.mutationCache||new Uv,this.#n=n.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=hu.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=co.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const s=this.defaultQueryOptions({queryKey:n});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(n){const s=this.defaultQueryOptions(n),i=this.#e.build(this,s),l=i.state.data;return l===void 0?this.fetchQuery(n):(n.revalidateIfStale&&i.isStaleByTime(jn(s.staleTime,i))&&this.prefetchQuery(s),Promise.resolve(l))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:s,state:i})=>{const l=i.data;return[s,l]})}setQueryData(n,s,i){const l=this.defaultQueryOptions({queryKey:n}),f=this.#e.get(l.queryHash)?.state.data,h=Sv(s,f);if(h!==void 0)return this.#e.build(this,l).setData(h,{...i,manual:!0})}setQueriesData(n,s,i){return Ue.batch(()=>this.#e.findAll(n).map(({queryKey:l})=>[l,this.setQueryData(l,s,i)]))}getQueryState(n){const s=this.defaultQueryOptions({queryKey:n});return this.#e.get(s.queryHash)?.state}removeQueries(n){const s=this.#e;Ue.batch(()=>{s.findAll(n).forEach(i=>{s.remove(i)})})}resetQueries(n,s){const i=this.#e;return Ue.batch(()=>(i.findAll(n).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...n},s)))}cancelQueries(n,s={}){const i={revert:!0,...s},l=Ue.batch(()=>this.#e.findAll(n).map(c=>c.cancel(i)));return Promise.all(l).then(nt).catch(nt)}invalidateQueries(n,s={}){return Ue.batch(()=>(this.#e.findAll(n).forEach(i=>{i.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},s)))}refetchQueries(n,s={}){const i={...s,cancelRefetch:s.cancelRefetch??!0},l=Ue.batch(()=>this.#e.findAll(n).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let f=c.fetch(void 0,i);return i.throwOnError||(f=f.catch(nt)),c.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(l).then(nt)}fetchQuery(n){const s=this.defaultQueryOptions(n);s.retry===void 0&&(s.retry=!1);const i=this.#e.build(this,s);return i.isStaleByTime(jn(s.staleTime,i))?i.fetch(s):Promise.resolve(i.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(nt).catch(nt)}fetchInfiniteQuery(n){return n.behavior=Kf(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(nt).catch(nt)}ensureInfiniteQueryData(n){return n.behavior=Kf(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return co.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,s){this.#s.set(Rs(n),{queryKey:n,defaultOptions:s})}getQueryDefaults(n){const s=[...this.#s.values()],i={};return s.forEach(l=>{Ts(n,l.queryKey)&&Object.assign(i,l.defaultOptions)}),i}setMutationDefaults(n,s){this.#r.set(Rs(n),{mutationKey:n,defaultOptions:s})}getMutationDefaults(n){const s=[...this.#r.values()],i={};return s.forEach(l=>{Ts(n,l.mutationKey)&&Object.assign(i,l.defaultOptions)}),i}defaultQueryOptions(n){if(n._defaulted)return n;const s={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return s.queryHash||(s.queryHash=du(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===fu&&(s.enabled=!1),s}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Wh=S.createContext(void 0),$v=n=>{const s=S.useContext(Wh);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Wv=({client:n,children:s})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Wh.Provider,{value:n,children:s})),Vh=S.createContext(!1),Vv=()=>S.useContext(Vh);Vh.Provider;function Qv(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Kv=S.createContext(Qv()),qv=()=>S.useContext(Kv),Gv=(n,s)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(s.isReset()||(n.retryOnMount=!1))},Yv=n=>{S.useEffect(()=>{n.clearReset()},[n])},Xv=({result:n,errorResetBoundary:s,throwOnError:i,query:l,suspense:c})=>n.isError&&!s.isReset()&&!n.isFetching&&l&&(c&&n.data===void 0||bv(i,[n.error,l])),Zv=n=>{if(n.suspense){const i=c=>c==="static"?c:Math.max(c??1e3,1e3),l=n.staleTime;n.staleTime=typeof l=="function"?(...c)=>i(l(...c)):i(l),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Jv=(n,s)=>n.isLoading&&n.isFetching&&!s,e0=(n,s)=>n?.suspense&&s.isPending,Gf=(n,s,i)=>s.fetchOptimistic(n).catch(()=>{i.clearReset()});function t0(n,s,i){const l=Vv(),c=qv(),f=$v(),h=f.defaultQueryOptions(n);f.getDefaultOptions().queries?._experimental_beforeQuery?.(h),h._optimisticResults=l?"isRestoring":"optimistic",Zv(h),Gv(h,c),Yv(c);const p=!f.getQueryCache().get(h.queryHash),[y]=S.useState(()=>new s(f,h)),g=y.getOptimisticResult(h),v=!l&&n.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(w=>{const k=v?y.subscribe(Ue.batchCalls(w)):nt;return y.updateResult(),k},[y,v]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),S.useEffect(()=>{y.setOptions(h)},[h,y]),e0(h,g))throw Gf(h,y,c);if(Xv({result:g,errorResetBoundary:c,throwOnError:h.throwOnError,query:f.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw g.error;return f.getDefaultOptions().queries?._experimental_afterQuery?.(h,g),h.experimental_prefetchInRender&&!Kn&&Jv(g,l)&&(p?Gf(h,y,c):f.getQueryCache().get(h.queryHash)?.promise)?.catch(nt).finally(()=>{y.updateResult()}),h.notifyOnChangeProps?g:y.trackResult(g)}function Ms(n,s){return t0(n,Iv)}const Sr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n0(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function br(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Fr(n,...s){if(!n0(n))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(n.length))throw new Error("Uint8Array expected of length "+s+", got length="+n.length)}function Qh(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");br(n.outputLen),br(n.blockLen)}function fo(n,s=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(s&&n.finished)throw new Error("Hash#digest() has already been called")}function r0(n,s){Fr(n);const i=s.outputLen;if(n.length<i)throw new Error("digestInto() expects output buffer of length at least "+i)}function qn(...n){for(let s=0;s<n.length;s++)n[s].fill(0)}function so(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Ft(n,s){return n<<32-s|n>>>s}function Kh(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function mu(n){return typeof n=="string"&&(n=Kh(n)),Fr(n),n}function Yf(n){return typeof n=="string"&&(n=Kh(n)),Fr(n),n}function s0(n,s){if(s!==void 0&&{}.toString.call(s)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(n,s)}class qh{}function Gh(n){const s=l=>n().update(mu(l)).digest(),i=n();return s.outputLen=i.outputLen,s.blockLen=i.blockLen,s.create=()=>n(),s}function Ar(n=32){if(Sr&&typeof Sr.getRandomValues=="function")return Sr.getRandomValues(new Uint8Array(n));if(Sr&&typeof Sr.randomBytes=="function")return Uint8Array.from(Sr.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}class Yh extends qh{constructor(s,i){super(),this.finished=!1,this.destroyed=!1,Qh(s);const l=mu(i);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,f=new Uint8Array(c);f.set(l.length>c?s.create().update(l).digest():l);for(let h=0;h<f.length;h++)f[h]^=54;this.iHash.update(f),this.oHash=s.create();for(let h=0;h<f.length;h++)f[h]^=106;this.oHash.update(f),qn(f)}update(s){return fo(this),this.iHash.update(s),this}digestInto(s){fo(this),Fr(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:i,iHash:l,finished:c,destroyed:f,blockLen:h,outputLen:p}=this;return s=s,s.finished=c,s.destroyed=f,s.blockLen=h,s.outputLen=p,s.oHash=i._cloneInto(s.oHash),s.iHash=l._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Xh=(n,s,i)=>new Yh(n,s).update(i).digest();Xh.create=(n,s)=>new Yh(n,s);function i0(n,s,i,l){Qh(n);const c=s0({dkLen:32,asyncTick:10},l),{c:f,dkLen:h,asyncTick:p}=c;if(br(f),br(h),br(p),f<1)throw new Error("iterations (c) should be >= 1");const y=Yf(s),g=Yf(i),v=new Uint8Array(h),w=Xh.create(n,y),k=w._cloneInto().update(g);return{c:f,dkLen:h,asyncTick:p,DK:v,PRF:w,PRFSalt:k}}function o0(n,s,i,l,c){return n.destroy(),s.destroy(),l&&l.destroy(),qn(c),i}function a0(n,s,i,l){const{c,dkLen:f,DK:h,PRF:p,PRFSalt:y}=i0(n,s,i,l);let g;const v=new Uint8Array(4),w=so(v),k=new Uint8Array(p.outputLen);for(let _=1,R=0;R<f;_++,R+=p.outputLen){const E=h.subarray(R,R+p.outputLen);w.setInt32(0,_,!1),(g=y._cloneInto(g)).update(v).digestInto(k),E.set(k.subarray(0,E.length));for(let P=1;P<c;P++){p._cloneInto(g).update(k).digestInto(k);for(let T=0;T<E.length;T++)E[T]^=k[T]}}return o0(p,y,h,g,k)}function l0(n,s,i,l){if(typeof n.setBigUint64=="function")return n.setBigUint64(s,i,l);const c=BigInt(32),f=BigInt(4294967295),h=Number(i>>c&f),p=Number(i&f),y=l?4:0,g=l?0:4;n.setUint32(s+y,h,l),n.setUint32(s+g,p,l)}function u0(n,s,i){return n&s^~n&i}function c0(n,s,i){return n&s^n&i^s&i}class Zh extends qh{constructor(s,i,l,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=s,this.outputLen=i,this.padOffset=l,this.isLE=c,this.buffer=new Uint8Array(s),this.view=so(this.buffer)}update(s){fo(this),s=mu(s),Fr(s);const{view:i,buffer:l,blockLen:c}=this,f=s.length;for(let h=0;h<f;){const p=Math.min(c-this.pos,f-h);if(p===c){const y=so(s);for(;c<=f-h;h+=c)this.process(y,h);continue}l.set(s.subarray(h,h+p),this.pos),this.pos+=p,h+=p,this.pos===c&&(this.process(i,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){fo(this),r0(s,this),this.finished=!0;const{buffer:i,view:l,blockLen:c,isLE:f}=this;let{pos:h}=this;i[h++]=128,qn(this.buffer.subarray(h)),this.padOffset>c-h&&(this.process(l,0),h=0);for(let w=h;w<c;w++)i[w]=0;l0(l,c-8,BigInt(this.length*8),f),this.process(l,0);const p=so(s),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=y/4,v=this.get();if(g>v.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<g;w++)p.setUint32(4*w,v[w],f)}digest(){const{buffer:s,outputLen:i}=this;this.digestInto(s);const l=s.slice(0,i);return this.destroy(),l}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:i,buffer:l,length:c,finished:f,destroyed:h,pos:p}=this;return s.destroyed=h,s.finished=f,s.length=c,s.pos=p,c%i&&s.buffer.set(l),s}clone(){return this._cloneInto()}}const Sn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ve=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Zi=BigInt(2**32-1),Xf=BigInt(32);function d0(n,s=!1){return s?{h:Number(n&Zi),l:Number(n>>Xf&Zi)}:{h:Number(n>>Xf&Zi)|0,l:Number(n&Zi)|0}}function f0(n,s=!1){const i=n.length;let l=new Uint32Array(i),c=new Uint32Array(i);for(let f=0;f<i;f++){const{h,l:p}=d0(n[f],s);[l[f],c[f]]=[h,p]}return[l,c]}const Zf=(n,s,i)=>n>>>i,Jf=(n,s,i)=>n<<32-i|s>>>i,Cr=(n,s,i)=>n>>>i|s<<32-i,Nr=(n,s,i)=>n<<32-i|s>>>i,Ji=(n,s,i)=>n<<64-i|s>>>i-32,eo=(n,s,i)=>n>>>i-32|s<<64-i;function Xt(n,s,i,l){const c=(s>>>0)+(l>>>0);return{h:n+i+(c/2**32|0)|0,l:c|0}}const h0=(n,s,i)=>(n>>>0)+(s>>>0)+(i>>>0),p0=(n,s,i,l)=>s+i+l+(n/2**32|0)|0,m0=(n,s,i,l)=>(n>>>0)+(s>>>0)+(i>>>0)+(l>>>0),y0=(n,s,i,l,c)=>s+i+l+c+(n/2**32|0)|0,g0=(n,s,i,l,c)=>(n>>>0)+(s>>>0)+(i>>>0)+(l>>>0)+(c>>>0),v0=(n,s,i,l,c,f)=>s+i+l+c+f+(n/2**32|0)|0,w0=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cn=new Uint32Array(64);class x0 extends Zh{constructor(s=32){super(64,s,8,!1),this.A=Sn[0]|0,this.B=Sn[1]|0,this.C=Sn[2]|0,this.D=Sn[3]|0,this.E=Sn[4]|0,this.F=Sn[5]|0,this.G=Sn[6]|0,this.H=Sn[7]|0}get(){const{A:s,B:i,C:l,D:c,E:f,F:h,G:p,H:y}=this;return[s,i,l,c,f,h,p,y]}set(s,i,l,c,f,h,p,y){this.A=s|0,this.B=i|0,this.C=l|0,this.D=c|0,this.E=f|0,this.F=h|0,this.G=p|0,this.H=y|0}process(s,i){for(let w=0;w<16;w++,i+=4)Cn[w]=s.getUint32(i,!1);for(let w=16;w<64;w++){const k=Cn[w-15],_=Cn[w-2],R=Ft(k,7)^Ft(k,18)^k>>>3,E=Ft(_,17)^Ft(_,19)^_>>>10;Cn[w]=E+Cn[w-7]+R+Cn[w-16]|0}let{A:l,B:c,C:f,D:h,E:p,F:y,G:g,H:v}=this;for(let w=0;w<64;w++){const k=Ft(p,6)^Ft(p,11)^Ft(p,25),_=v+k+u0(p,y,g)+w0[w]+Cn[w]|0,E=(Ft(l,2)^Ft(l,13)^Ft(l,22))+c0(l,c,f)|0;v=g,g=y,y=p,p=h+_|0,h=f,f=c,c=l,l=_+E|0}l=l+this.A|0,c=c+this.B|0,f=f+this.C|0,h=h+this.D|0,p=p+this.E|0,y=y+this.F|0,g=g+this.G|0,v=v+this.H|0,this.set(l,c,f,h,p,y,g,v)}roundClean(){qn(Cn)}destroy(){this.set(0,0,0,0,0,0,0,0),qn(this.buffer)}}const Jh=f0(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),k0=Jh[0],S0=Jh[1],Nn=new Uint32Array(80),En=new Uint32Array(80);class C0 extends Zh{constructor(s=64){super(128,s,16,!1),this.Ah=Ve[0]|0,this.Al=Ve[1]|0,this.Bh=Ve[2]|0,this.Bl=Ve[3]|0,this.Ch=Ve[4]|0,this.Cl=Ve[5]|0,this.Dh=Ve[6]|0,this.Dl=Ve[7]|0,this.Eh=Ve[8]|0,this.El=Ve[9]|0,this.Fh=Ve[10]|0,this.Fl=Ve[11]|0,this.Gh=Ve[12]|0,this.Gl=Ve[13]|0,this.Hh=Ve[14]|0,this.Hl=Ve[15]|0}get(){const{Ah:s,Al:i,Bh:l,Bl:c,Ch:f,Cl:h,Dh:p,Dl:y,Eh:g,El:v,Fh:w,Fl:k,Gh:_,Gl:R,Hh:E,Hl:P}=this;return[s,i,l,c,f,h,p,y,g,v,w,k,_,R,E,P]}set(s,i,l,c,f,h,p,y,g,v,w,k,_,R,E,P){this.Ah=s|0,this.Al=i|0,this.Bh=l|0,this.Bl=c|0,this.Ch=f|0,this.Cl=h|0,this.Dh=p|0,this.Dl=y|0,this.Eh=g|0,this.El=v|0,this.Fh=w|0,this.Fl=k|0,this.Gh=_|0,this.Gl=R|0,this.Hh=E|0,this.Hl=P|0}process(s,i){for(let A=0;A<16;A++,i+=4)Nn[A]=s.getUint32(i),En[A]=s.getUint32(i+=4);for(let A=16;A<80;A++){const F=Nn[A-15]|0,D=En[A-15]|0,K=Cr(F,D,1)^Cr(F,D,8)^Zf(F,D,7),W=Nr(F,D,1)^Nr(F,D,8)^Jf(F,D,7),$=Nn[A-2]|0,V=En[A-2]|0,te=Cr($,V,19)^Ji($,V,61)^Zf($,V,6),ye=Nr($,V,19)^eo($,V,61)^Jf($,V,6),ie=m0(W,ye,En[A-7],En[A-16]),Te=y0(ie,K,te,Nn[A-7],Nn[A-16]);Nn[A]=Te|0,En[A]=ie|0}let{Ah:l,Al:c,Bh:f,Bl:h,Ch:p,Cl:y,Dh:g,Dl:v,Eh:w,El:k,Fh:_,Fl:R,Gh:E,Gl:P,Hh:T,Hl:I}=this;for(let A=0;A<80;A++){const F=Cr(w,k,14)^Cr(w,k,18)^Ji(w,k,41),D=Nr(w,k,14)^Nr(w,k,18)^eo(w,k,41),K=w&_^~w&E,W=k&R^~k&P,$=g0(I,D,W,S0[A],En[A]),V=v0($,T,F,K,k0[A],Nn[A]),te=$|0,ye=Cr(l,c,28)^Ji(l,c,34)^Ji(l,c,39),ie=Nr(l,c,28)^eo(l,c,34)^eo(l,c,39),Te=l&f^l&p^f&p,st=c&h^c&y^h&y;T=E|0,I=P|0,E=_|0,P=R|0,_=w|0,R=k|0,{h:w,l:k}=Xt(g|0,v|0,V|0,te|0),g=p|0,v=y|0,p=f|0,y=h|0,f=l|0,h=c|0;const it=h0(te,ie,st);l=p0(it,V,ye,Te),c=it|0}({h:l,l:c}=Xt(this.Ah|0,this.Al|0,l|0,c|0)),{h:f,l:h}=Xt(this.Bh|0,this.Bl|0,f|0,h|0),{h:p,l:y}=Xt(this.Ch|0,this.Cl|0,p|0,y|0),{h:g,l:v}=Xt(this.Dh|0,this.Dl|0,g|0,v|0),{h:w,l:k}=Xt(this.Eh|0,this.El|0,w|0,k|0),{h:_,l:R}=Xt(this.Fh|0,this.Fl|0,_|0,R|0),{h:E,l:P}=Xt(this.Gh|0,this.Gl|0,E|0,P|0),{h:T,l:I}=Xt(this.Hh|0,this.Hl|0,T|0,I|0),this.set(l,c,f,h,p,y,g,v,w,k,_,R,E,P,T,I)}roundClean(){qn(Nn,En)}destroy(){qn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ep=Gh(()=>new x0),tp=Gh(()=>new C0);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ho(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function np(n,s){return Array.isArray(s)?s.length===0?!0:n?s.every(i=>typeof i=="string"):s.every(i=>Number.isSafeInteger(i)):!1}function N0(n){if(typeof n!="function")throw new Error("function expected");return!0}function po(n,s){if(typeof s!="string")throw new Error(`${n}: string expected`);return!0}function Dr(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function mo(n){if(!Array.isArray(n))throw new Error("array expected")}function yo(n,s){if(!np(!0,s))throw new Error(`${n}: array of strings expected`)}function rp(n,s){if(!np(!1,s))throw new Error(`${n}: array of numbers expected`)}function E0(...n){const s=f=>f,i=(f,h)=>p=>f(h(p)),l=n.map(f=>f.encode).reduceRight(i,s),c=n.map(f=>f.decode).reduce(i,s);return{encode:l,decode:c}}function j0(n){const s=typeof n=="string"?n.split(""):n,i=s.length;yo("alphabet",s);const l=new Map(s.map((c,f)=>[c,f]));return{encode:c=>(mo(c),c.map(f=>{if(!Number.isSafeInteger(f)||f<0||f>=i)throw new Error(`alphabet.encode: digit index outside alphabet "${f}". Allowed: ${n}`);return s[f]})),decode:c=>(mo(c),c.map(f=>{po("alphabet.decode",f);const h=l.get(f);if(h===void 0)throw new Error(`Unknown letter: "${f}". Allowed: ${n}`);return h}))}}function b0(n=""){return po("join",n),{encode:s=>(yo("join.decode",s),s.join(n)),decode:s=>(po("join.decode",s),s.split(n))}}function P0(n,s="="){return Dr(n),po("padding",s),{encode(i){for(yo("padding.encode",i);i.length*n%8;)i.push(s);return i},decode(i){yo("padding.decode",i);let l=i.length;if(l*n%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;l>0&&i[l-1]===s;l--)if((l-1)*n%8===0)throw new Error("padding: invalid, string has too much padding");return i.slice(0,l)}}}function ql(n,s,i){if(s<2)throw new Error(`convertRadix: invalid from=${s}, base cannot be less than 2`);if(i<2)throw new Error(`convertRadix: invalid to=${i}, base cannot be less than 2`);if(mo(n),!n.length)return[];let l=0;const c=[],f=Array.from(n,p=>{if(Dr(p),p<0||p>=s)throw new Error(`invalid integer: ${p}`);return p}),h=f.length;for(;;){let p=0,y=!0;for(let g=l;g<h;g++){const v=f[g],w=s*p,k=w+v;if(!Number.isSafeInteger(k)||w/s!==p||k-v!==w)throw new Error("convertRadix: carry overflow");const _=k/i;p=k%i;const R=Math.floor(_);if(f[g]=R,!Number.isSafeInteger(R)||R*i+p!==k)throw new Error("convertRadix: carry overflow");if(y)R?y=!1:l=g;else continue}if(c.push(p),y)break}for(let p=0;p<n.length-1&&n[p]===0;p++)c.push(0);return c.reverse()}const sp=(n,s)=>s===0?n:sp(s,n%s),go=(n,s)=>n+(s-sp(n,s)),Rl=(()=>{let n=[];for(let s=0;s<40;s++)n.push(2**s);return n})();function Gl(n,s,i,l){if(mo(n),s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(i<=0||i>32)throw new Error(`convertRadix2: wrong to=${i}`);if(go(s,i)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${i} carryBits=${go(s,i)}`);let c=0,f=0;const h=Rl[s],p=Rl[i]-1,y=[];for(const g of n){if(Dr(g),g>=h)throw new Error(`convertRadix2: invalid data word=${g} from=${s}`);if(c=c<<s|g,f+s>32)throw new Error(`convertRadix2: carry overflow pos=${f} from=${s}`);for(f+=s;f>=i;f-=i)y.push((c>>f-i&p)>>>0);const v=Rl[f];if(v===void 0)throw new Error("invalid carry");c&=v-1}if(c=c<<i-f&p,!l&&f>=s)throw new Error("Excess padding");if(!l&&c>0)throw new Error(`Non-zero padding: ${c}`);return l&&f>0&&y.push(c>>>0),y}function R0(n){Dr(n);const s=2**8;return{encode:i=>{if(!ho(i))throw new Error("radix.encode input should be Uint8Array");return ql(Array.from(i),s,n)},decode:i=>(rp("radix.decode",i),Uint8Array.from(ql(i,n,s)))}}function T0(n,s=!1){if(Dr(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(go(8,n)>32||go(n,8)>32)throw new Error("radix2: carry overflow");return{encode:i=>{if(!ho(i))throw new Error("radix2.encode input should be Uint8Array");return Gl(Array.from(i),8,n,!s)},decode:i=>(rp("radix2.decode",i),Uint8Array.from(Gl(i,n,8,s)))}}function A0(n,s){return Dr(n),N0(s),{encode(i){if(!ho(i))throw new Error("checksum.encode: input should be Uint8Array");const l=s(i).slice(0,n),c=new Uint8Array(i.length+n);return c.set(i),c.set(l,i.length),c},decode(i){if(!ho(i))throw new Error("checksum.decode: input should be Uint8Array");const l=i.slice(0,-n),c=i.slice(-n),f=s(l).slice(0,n);for(let h=0;h<n;h++)if(f[h]!==c[h])throw new Error("Invalid checksum");return l}}}const to={alphabet:j0,chain:E0,checksum:A0,convertRadix:ql,convertRadix2:Gl,radix:R0,radix2:T0,join:b0,padding:P0};/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const L0=n=>n[0]==="ã‚ã„ã“ãã—ã‚“";function ip(n){if(typeof n!="string")throw new TypeError("invalid mnemonic type: "+typeof n);return n.normalize("NFKD")}function op(n){const s=ip(n),i=s.split(" ");if(![12,15,18,21,24].includes(i.length))throw new Error("Invalid mnemonic");return{nfkd:s,words:i}}function ap(n){Fr(n,16,20,24,28,32)}function _0(n,s=128){if(br(s),s%32!==0||s>256)throw new TypeError("Invalid entropy");return F0(Ar(s/8),n)}const I0=n=>{const s=8-n.length/4;return new Uint8Array([ep(n)[0]>>s<<s])};function lp(n){if(!Array.isArray(n)||n.length!==2048||typeof n[0]!="string")throw new Error("Wordlist: expected array of 2048 strings");return n.forEach(s=>{if(typeof s!="string")throw new Error("wordlist: non-string element: "+s)}),to.chain(to.checksum(1,I0),to.radix2(11,!0),to.alphabet(n))}function O0(n,s){const{words:i}=op(n),l=lp(s).decode(i);return ap(l),l}function F0(n,s){return ap(n),lp(s).encode(n).join(L0(s)?"ã€€":" ")}function D0(n,s){try{O0(n,s)}catch{return!1}return!0}const M0=n=>ip("mnemonic"+n);function z0(n,s=""){return a0(tp,op(n).nfkd,M0(s),{c:2048,dkLen:64})}const eh=`abandon
-ability
-able
-about
-above
-absent
-absorb
-abstract
-absurd
-abuse
-access
-accident
-account
-accuse
-achieve
-acid
-acoustic
-acquire
-across
-act
-action
-actor
-actress
-actual
-adapt
-add
-addict
-address
-adjust
-admit
-adult
-advance
-advice
-aerobic
-affair
-afford
-afraid
-again
-age
-agent
-agree
-ahead
-aim
-air
-airport
-aisle
-alarm
-album
-alcohol
-alert
-alien
-all
-alley
-allow
-almost
-alone
-alpha
-already
-also
-alter
-always
-amateur
-amazing
-among
-amount
-amused
-analyst
-anchor
-ancient
-anger
-angle
-angry
-animal
-ankle
-announce
-annual
-another
-answer
-antenna
-antique
-anxiety
-any
-apart
-apology
-appear
-apple
-approve
-april
-arch
-arctic
-area
-arena
-argue
-arm
-armed
-armor
-army
-around
-arrange
-arrest
-arrive
-arrow
-art
-artefact
-artist
-artwork
-ask
-aspect
-assault
-asset
-assist
-assume
-asthma
-athlete
-atom
-attack
-attend
-attitude
-attract
-auction
-audit
-august
-aunt
-author
-auto
-autumn
-average
-avocado
-avoid
-awake
-aware
-away
-awesome
-awful
-awkward
-axis
-baby
-bachelor
-bacon
-badge
-bag
-balance
-balcony
-ball
-bamboo
-banana
-banner
-bar
-barely
-bargain
-barrel
-base
-basic
-basket
-battle
-beach
-bean
-beauty
-because
-become
-beef
-before
-begin
-behave
-behind
-believe
-below
-belt
-bench
-benefit
-best
-betray
-better
-between
-beyond
-bicycle
-bid
-bike
-bind
-biology
-bird
-birth
-bitter
-black
-blade
-blame
-blanket
-blast
-bleak
-bless
-blind
-blood
-blossom
-blouse
-blue
-blur
-blush
-board
-boat
-body
-boil
-bomb
-bone
-bonus
-book
-boost
-border
-boring
-borrow
-boss
-bottom
-bounce
-box
-boy
-bracket
-brain
-brand
-brass
-brave
-bread
-breeze
-brick
-bridge
-brief
-bright
-bring
-brisk
-broccoli
-broken
-bronze
-broom
-brother
-brown
-brush
-bubble
-buddy
-budget
-buffalo
-build
-bulb
-bulk
-bullet
-bundle
-bunker
-burden
-burger
-burst
-bus
-business
-busy
-butter
-buyer
-buzz
-cabbage
-cabin
-cable
-cactus
-cage
-cake
-call
-calm
-camera
-camp
-can
-canal
-cancel
-candy
-cannon
-canoe
-canvas
-canyon
-capable
-capital
-captain
-car
-carbon
-card
-cargo
-carpet
-carry
-cart
-case
-cash
-casino
-castle
-casual
-cat
-catalog
-catch
-category
-cattle
-caught
-cause
-caution
-cave
-ceiling
-celery
-cement
-census
-century
-cereal
-certain
-chair
-chalk
-champion
-change
-chaos
-chapter
-charge
-chase
-chat
-cheap
-check
-cheese
-chef
-cherry
-chest
-chicken
-chief
-child
-chimney
-choice
-choose
-chronic
-chuckle
-chunk
-churn
-cigar
-cinnamon
-circle
-citizen
-city
-civil
-claim
-clap
-clarify
-claw
-clay
-clean
-clerk
-clever
-click
-client
-cliff
-climb
-clinic
-clip
-clock
-clog
-close
-cloth
-cloud
-clown
-club
-clump
-cluster
-clutch
-coach
-coast
-coconut
-code
-coffee
-coil
-coin
-collect
-color
-column
-combine
-come
-comfort
-comic
-common
-company
-concert
-conduct
-confirm
-congress
-connect
-consider
-control
-convince
-cook
-cool
-copper
-copy
-coral
-core
-corn
-correct
-cost
-cotton
-couch
-country
-couple
-course
-cousin
-cover
-coyote
-crack
-cradle
-craft
-cram
-crane
-crash
-crater
-crawl
-crazy
-cream
-credit
-creek
-crew
-cricket
-crime
-crisp
-critic
-crop
-cross
-crouch
-crowd
-crucial
-cruel
-cruise
-crumble
-crunch
-crush
-cry
-crystal
-cube
-culture
-cup
-cupboard
-curious
-current
-curtain
-curve
-cushion
-custom
-cute
-cycle
-dad
-damage
-damp
-dance
-danger
-daring
-dash
-daughter
-dawn
-day
-deal
-debate
-debris
-decade
-december
-decide
-decline
-decorate
-decrease
-deer
-defense
-define
-defy
-degree
-delay
-deliver
-demand
-demise
-denial
-dentist
-deny
-depart
-depend
-deposit
-depth
-deputy
-derive
-describe
-desert
-design
-desk
-despair
-destroy
-detail
-detect
-develop
-device
-devote
-diagram
-dial
-diamond
-diary
-dice
-diesel
-diet
-differ
-digital
-dignity
-dilemma
-dinner
-dinosaur
-direct
-dirt
-disagree
-discover
-disease
-dish
-dismiss
-disorder
-display
-distance
-divert
-divide
-divorce
-dizzy
-doctor
-document
-dog
-doll
-dolphin
-domain
-donate
-donkey
-donor
-door
-dose
-double
-dove
-draft
-dragon
-drama
-drastic
-draw
-dream
-dress
-drift
-drill
-drink
-drip
-drive
-drop
-drum
-dry
-duck
-dumb
-dune
-during
-dust
-dutch
-duty
-dwarf
-dynamic
-eager
-eagle
-early
-earn
-earth
-easily
-east
-easy
-echo
-ecology
-economy
-edge
-edit
-educate
-effort
-egg
-eight
-either
-elbow
-elder
-electric
-elegant
-element
-elephant
-elevator
-elite
-else
-embark
-embody
-embrace
-emerge
-emotion
-employ
-empower
-empty
-enable
-enact
-end
-endless
-endorse
-enemy
-energy
-enforce
-engage
-engine
-enhance
-enjoy
-enlist
-enough
-enrich
-enroll
-ensure
-enter
-entire
-entry
-envelope
-episode
-equal
-equip
-era
-erase
-erode
-erosion
-error
-erupt
-escape
-essay
-essence
-estate
-eternal
-ethics
-evidence
-evil
-evoke
-evolve
-exact
-example
-excess
-exchange
-excite
-exclude
-excuse
-execute
-exercise
-exhaust
-exhibit
-exile
-exist
-exit
-exotic
-expand
-expect
-expire
-explain
-expose
-express
-extend
-extra
-eye
-eyebrow
-fabric
-face
-faculty
-fade
-faint
-faith
-fall
-false
-fame
-family
-famous
-fan
-fancy
-fantasy
-farm
-fashion
-fat
-fatal
-father
-fatigue
-fault
-favorite
-feature
-february
-federal
-fee
-feed
-feel
-female
-fence
-festival
-fetch
-fever
-few
-fiber
-fiction
-field
-figure
-file
-film
-filter
-final
-find
-fine
-finger
-finish
-fire
-firm
-first
-fiscal
-fish
-fit
-fitness
-fix
-flag
-flame
-flash
-flat
-flavor
-flee
-flight
-flip
-float
-flock
-floor
-flower
-fluid
-flush
-fly
-foam
-focus
-fog
-foil
-fold
-follow
-food
-foot
-force
-forest
-forget
-fork
-fortune
-forum
-forward
-fossil
-foster
-found
-fox
-fragile
-frame
-frequent
-fresh
-friend
-fringe
-frog
-front
-frost
-frown
-frozen
-fruit
-fuel
-fun
-funny
-furnace
-fury
-future
-gadget
-gain
-galaxy
-gallery
-game
-gap
-garage
-garbage
-garden
-garlic
-garment
-gas
-gasp
-gate
-gather
-gauge
-gaze
-general
-genius
-genre
-gentle
-genuine
-gesture
-ghost
-giant
-gift
-giggle
-ginger
-giraffe
-girl
-give
-glad
-glance
-glare
-glass
-glide
-glimpse
-globe
-gloom
-glory
-glove
-glow
-glue
-goat
-goddess
-gold
-good
-goose
-gorilla
-gospel
-gossip
-govern
-gown
-grab
-grace
-grain
-grant
-grape
-grass
-gravity
-great
-green
-grid
-grief
-grit
-grocery
-group
-grow
-grunt
-guard
-guess
-guide
-guilt
-guitar
-gun
-gym
-habit
-hair
-half
-hammer
-hamster
-hand
-happy
-harbor
-hard
-harsh
-harvest
-hat
-have
-hawk
-hazard
-head
-health
-heart
-heavy
-hedgehog
-height
-hello
-helmet
-help
-hen
-hero
-hidden
-high
-hill
-hint
-hip
-hire
-history
-hobby
-hockey
-hold
-hole
-holiday
-hollow
-home
-honey
-hood
-hope
-horn
-horror
-horse
-hospital
-host
-hotel
-hour
-hover
-hub
-huge
-human
-humble
-humor
-hundred
-hungry
-hunt
-hurdle
-hurry
-hurt
-husband
-hybrid
-ice
-icon
-idea
-identify
-idle
-ignore
-ill
-illegal
-illness
-image
-imitate
-immense
-immune
-impact
-impose
-improve
-impulse
-inch
-include
-income
-increase
-index
-indicate
-indoor
-industry
-infant
-inflict
-inform
-inhale
-inherit
-initial
-inject
-injury
-inmate
-inner
-innocent
-input
-inquiry
-insane
-insect
-inside
-inspire
-install
-intact
-interest
-into
-invest
-invite
-involve
-iron
-island
-isolate
-issue
-item
-ivory
-jacket
-jaguar
-jar
-jazz
-jealous
-jeans
-jelly
-jewel
-job
-join
-joke
-journey
-joy
-judge
-juice
-jump
-jungle
-junior
-junk
-just
-kangaroo
-keen
-keep
-ketchup
-key
-kick
-kid
-kidney
-kind
-kingdom
-kiss
-kit
-kitchen
-kite
-kitten
-kiwi
-knee
-knife
-knock
-know
-lab
-label
-labor
-ladder
-lady
-lake
-lamp
-language
-laptop
-large
-later
-latin
-laugh
-laundry
-lava
-law
-lawn
-lawsuit
-layer
-lazy
-leader
-leaf
-learn
-leave
-lecture
-left
-leg
-legal
-legend
-leisure
-lemon
-lend
-length
-lens
-leopard
-lesson
-letter
-level
-liar
-liberty
-library
-license
-life
-lift
-light
-like
-limb
-limit
-link
-lion
-liquid
-list
-little
-live
-lizard
-load
-loan
-lobster
-local
-lock
-logic
-lonely
-long
-loop
-lottery
-loud
-lounge
-love
-loyal
-lucky
-luggage
-lumber
-lunar
-lunch
-luxury
-lyrics
-machine
-mad
-magic
-magnet
-maid
-mail
-main
-major
-make
-mammal
-man
-manage
-mandate
-mango
-mansion
-manual
-maple
-marble
-march
-margin
-marine
-market
-marriage
-mask
-mass
-master
-match
-material
-math
-matrix
-matter
-maximum
-maze
-meadow
-mean
-measure
-meat
-mechanic
-medal
-media
-melody
-melt
-member
-memory
-mention
-menu
-mercy
-merge
-merit
-merry
-mesh
-message
-metal
-method
-middle
-midnight
-milk
-million
-mimic
-mind
-minimum
-minor
-minute
-miracle
-mirror
-misery
-miss
-mistake
-mix
-mixed
-mixture
-mobile
-model
-modify
-mom
-moment
-monitor
-monkey
-monster
-month
-moon
-moral
-more
-morning
-mosquito
-mother
-motion
-motor
-mountain
-mouse
-move
-movie
-much
-muffin
-mule
-multiply
-muscle
-museum
-mushroom
-music
-must
-mutual
-myself
-mystery
-myth
-naive
-name
-napkin
-narrow
-nasty
-nation
-nature
-near
-neck
-need
-negative
-neglect
-neither
-nephew
-nerve
-nest
-net
-network
-neutral
-never
-news
-next
-nice
-night
-noble
-noise
-nominee
-noodle
-normal
-north
-nose
-notable
-note
-nothing
-notice
-novel
-now
-nuclear
-number
-nurse
-nut
-oak
-obey
-object
-oblige
-obscure
-observe
-obtain
-obvious
-occur
-ocean
-october
-odor
-off
-offer
-office
-often
-oil
-okay
-old
-olive
-olympic
-omit
-once
-one
-onion
-online
-only
-open
-opera
-opinion
-oppose
-option
-orange
-orbit
-orchard
-order
-ordinary
-organ
-orient
-original
-orphan
-ostrich
-other
-outdoor
-outer
-output
-outside
-oval
-oven
-over
-own
-owner
-oxygen
-oyster
-ozone
-pact
-paddle
-page
-pair
-palace
-palm
-panda
-panel
-panic
-panther
-paper
-parade
-parent
-park
-parrot
-party
-pass
-patch
-path
-patient
-patrol
-pattern
-pause
-pave
-payment
-peace
-peanut
-pear
-peasant
-pelican
-pen
-penalty
-pencil
-people
-pepper
-perfect
-permit
-person
-pet
-phone
-photo
-phrase
-physical
-piano
-picnic
-picture
-piece
-pig
-pigeon
-pill
-pilot
-pink
-pioneer
-pipe
-pistol
-pitch
-pizza
-place
-planet
-plastic
-plate
-play
-please
-pledge
-pluck
-plug
-plunge
-poem
-poet
-point
-polar
-pole
-police
-pond
-pony
-pool
-popular
-portion
-position
-possible
-post
-potato
-pottery
-poverty
-powder
-power
-practice
-praise
-predict
-prefer
-prepare
-present
-pretty
-prevent
-price
-pride
-primary
-print
-priority
-prison
-private
-prize
-problem
-process
-produce
-profit
-program
-project
-promote
-proof
-property
-prosper
-protect
-proud
-provide
-public
-pudding
-pull
-pulp
-pulse
-pumpkin
-punch
-pupil
-puppy
-purchase
-purity
-purpose
-purse
-push
-put
-puzzle
-pyramid
-quality
-quantum
-quarter
-question
-quick
-quit
-quiz
-quote
-rabbit
-raccoon
-race
-rack
-radar
-radio
-rail
-rain
-raise
-rally
-ramp
-ranch
-random
-range
-rapid
-rare
-rate
-rather
-raven
-raw
-razor
-ready
-real
-reason
-rebel
-rebuild
-recall
-receive
-recipe
-record
-recycle
-reduce
-reflect
-reform
-refuse
-region
-regret
-regular
-reject
-relax
-release
-relief
-rely
-remain
-remember
-remind
-remove
-render
-renew
-rent
-reopen
-repair
-repeat
-replace
-report
-require
-rescue
-resemble
-resist
-resource
-response
-result
-retire
-retreat
-return
-reunion
-reveal
-review
-reward
-rhythm
-rib
-ribbon
-rice
-rich
-ride
-ridge
-rifle
-right
-rigid
-ring
-riot
-ripple
-risk
-ritual
-rival
-river
-road
-roast
-robot
-robust
-rocket
-romance
-roof
-rookie
-room
-rose
-rotate
-rough
-round
-route
-royal
-rubber
-rude
-rug
-rule
-run
-runway
-rural
-sad
-saddle
-sadness
-safe
-sail
-salad
-salmon
-salon
-salt
-salute
-same
-sample
-sand
-satisfy
-satoshi
-sauce
-sausage
-save
-say
-scale
-scan
-scare
-scatter
-scene
-scheme
-school
-science
-scissors
-scorpion
-scout
-scrap
-screen
-script
-scrub
-sea
-search
-season
-seat
-second
-secret
-section
-security
-seed
-seek
-segment
-select
-sell
-seminar
-senior
-sense
-sentence
-series
-service
-session
-settle
-setup
-seven
-shadow
-shaft
-shallow
-share
-shed
-shell
-sheriff
-shield
-shift
-shine
-ship
-shiver
-shock
-shoe
-shoot
-shop
-short
-shoulder
-shove
-shrimp
-shrug
-shuffle
-shy
-sibling
-sick
-side
-siege
-sight
-sign
-silent
-silk
-silly
-silver
-similar
-simple
-since
-sing
-siren
-sister
-situate
-six
-size
-skate
-sketch
-ski
-skill
-skin
-skirt
-skull
-slab
-slam
-sleep
-slender
-slice
-slide
-slight
-slim
-slogan
-slot
-slow
-slush
-small
-smart
-smile
-smoke
-smooth
-snack
-snake
-snap
-sniff
-snow
-soap
-soccer
-social
-sock
-soda
-soft
-solar
-soldier
-solid
-solution
-solve
-someone
-song
-soon
-sorry
-sort
-soul
-sound
-soup
-source
-south
-space
-spare
-spatial
-spawn
-speak
-special
-speed
-spell
-spend
-sphere
-spice
-spider
-spike
-spin
-spirit
-split
-spoil
-sponsor
-spoon
-sport
-spot
-spray
-spread
-spring
-spy
-square
-squeeze
-squirrel
-stable
-stadium
-staff
-stage
-stairs
-stamp
-stand
-start
-state
-stay
-steak
-steel
-stem
-step
-stereo
-stick
-still
-sting
-stock
-stomach
-stone
-stool
-story
-stove
-strategy
-street
-strike
-strong
-struggle
-student
-stuff
-stumble
-style
-subject
-submit
-subway
-success
-such
-sudden
-suffer
-sugar
-suggest
-suit
-summer
-sun
-sunny
-sunset
-super
-supply
-supreme
-sure
-surface
-surge
-surprise
-surround
-survey
-suspect
-sustain
-swallow
-swamp
-swap
-swarm
-swear
-sweet
-swift
-swim
-swing
-switch
-sword
-symbol
-symptom
-syrup
-system
-table
-tackle
-tag
-tail
-talent
-talk
-tank
-tape
-target
-task
-taste
-tattoo
-taxi
-teach
-team
-tell
-ten
-tenant
-tennis
-tent
-term
-test
-text
-thank
-that
-theme
-then
-theory
-there
-they
-thing
-this
-thought
-three
-thrive
-throw
-thumb
-thunder
-ticket
-tide
-tiger
-tilt
-timber
-time
-tiny
-tip
-tired
-tissue
-title
-toast
-tobacco
-today
-toddler
-toe
-together
-toilet
-token
-tomato
-tomorrow
-tone
-tongue
-tonight
-tool
-tooth
-top
-topic
-topple
-torch
-tornado
-tortoise
-toss
-total
-tourist
-toward
-tower
-town
-toy
-track
-trade
-traffic
-tragic
-train
-transfer
-trap
-trash
-travel
-tray
-treat
-tree
-trend
-trial
-tribe
-trick
-trigger
-trim
-trip
-trophy
-trouble
-truck
-true
-truly
-trumpet
-trust
-truth
-try
-tube
-tuition
-tumble
-tuna
-tunnel
-turkey
-turn
-turtle
-twelve
-twenty
-twice
-twin
-twist
-two
-type
-typical
-ugly
-umbrella
-unable
-unaware
-uncle
-uncover
-under
-undo
-unfair
-unfold
-unhappy
-uniform
-unique
-unit
-universe
-unknown
-unlock
-until
-unusual
-unveil
-update
-upgrade
-uphold
-upon
-upper
-upset
-urban
-urge
-usage
-use
-used
-useful
-useless
-usual
-utility
-vacant
-vacuum
-vague
-valid
-valley
-valve
-van
-vanish
-vapor
-various
-vast
-vault
-vehicle
-velvet
-vendor
-venture
-venue
-verb
-verify
-version
-very
-vessel
-veteran
-viable
-vibrant
-vicious
-victory
-video
-view
-village
-vintage
-violin
-virtual
-virus
-visa
-visit
-visual
-vital
-vivid
-vocal
-voice
-void
-volcano
-volume
-vote
-voyage
-wage
-wagon
-wait
-walk
-wall
-walnut
-want
-warfare
-warm
-warrior
-wash
-wasp
-waste
-water
-wave
-way
-wealth
-weapon
-wear
-weasel
-weather
-web
-wedding
-weekend
-weird
-welcome
-west
-wet
-whale
-what
-wheat
-wheel
-when
-where
-whip
-whisper
-wide
-width
-wife
-wild
-will
-win
-window
-wine
-wing
-wink
-winner
-winter
-wire
-wisdom
-wise
-wish
-witness
-wolf
-woman
-wonder
-wood
-wool
-word
-work
-world
-worry
-worth
-wrap
-wreck
-wrestle
-wrist
-write
-wrong
-yard
-year
-yellow
-you
-young
-youth
-zebra
-zero
-zone
-zoo`.split(`
-`),Tl=ep,io=tp;/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const U0={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:Qe,n:oo,Gx:th,Gy:nh,a:Al,d:Ll}=U0,B0=8n,bn=32,As=64,xt=(n="")=>{throw new Error(n)},H0=n=>typeof n=="bigint",up=n=>typeof n=="string",$0=n=>n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array",Gn=(n,s)=>!$0(n)||typeof s=="number"&&s>0&&n.length!==s?xt("Uint8Array expected"):n,jo=n=>new Uint8Array(n),yu=n=>Uint8Array.from(n),cp=(n,s)=>n.toString(16).padStart(s,"0"),gu=n=>Array.from(Gn(n)).map(s=>cp(s,2)).join(""),Zt={_0:48,_9:57,A:65,F:70,a:97,f:102},rh=n=>{if(n>=Zt._0&&n<=Zt._9)return n-Zt._0;if(n>=Zt.A&&n<=Zt.F)return n-(Zt.A-10);if(n>=Zt.a&&n<=Zt.f)return n-(Zt.a-10)},vu=n=>{const s="hex invalid";if(!up(n))return xt(s);const i=n.length,l=i/2;if(i%2)return xt(s);const c=jo(l);for(let f=0,h=0;f<l;f++,h+=2){const p=rh(n.charCodeAt(h)),y=rh(n.charCodeAt(h+1));if(p===void 0||y===void 0)return xt(s);c[f]=p*16+y}return c},Pr=(n,s)=>Gn(up(n)?vu(n):yu(Gn(n)),s),dp=()=>globalThis?.crypto,W0=()=>dp()?.subtle??xt("crypto.subtle must be defined"),Ls=(...n)=>{const s=jo(n.reduce((l,c)=>l+Gn(c).length,0));let i=0;return n.forEach(l=>{s.set(l,i),i+=l.length}),s},V0=(n=bn)=>dp().getRandomValues(jo(n)),vo=BigInt,Vn=(n,s,i,l="bad number: out of range")=>H0(n)&&s<=n&&n<i?n:xt(l),Z=(n,s=Qe)=>{const i=n%s;return i>=0n?i:s+i},fp=n=>Z(n,oo),hp=(n,s)=>{(n===0n||s<=0n)&&xt("no inverse n="+n+" mod="+s);let i=Z(n,s),l=s,c=0n,f=1n;for(;i!==0n;){const h=l/i,p=l%i,y=c-f*h;l=i,i=p,c=f,f=y}return l===1n?Z(c,s):xt("no inverse")},sh=n=>n instanceof rt?n:xt("Point expected"),Yl=2n**256n;class rt{static BASE;static ZERO;ex;ey;ez;et;constructor(s,i,l,c){const f=Yl;this.ex=Vn(s,0n,f),this.ey=Vn(i,0n,f),this.ez=Vn(l,1n,f),this.et=Vn(c,0n,f),Object.freeze(this)}static fromAffine(s){return new rt(s.x,s.y,1n,Z(s.x*s.y))}static fromBytes(s,i=!1){const l=Ll,c=yu(Gn(s,bn)),f=s[31];c[31]=f&-129;const h=wu(c);Vn(h,0n,i?Yl:Qe);const y=Z(h*h),g=Z(y-1n),v=Z(l*y+1n);let{isValid:w,value:k}=K0(g,v);w||xt("bad point: y not sqrt");const _=(k&1n)===1n,R=(f&128)!==0;return!i&&k===0n&&R&&xt("bad point: x==0, isLastByteOdd"),R!==_&&(k=Z(-k)),new rt(k,h,1n,Z(k*h))}assertValidity(){const s=Al,i=Ll,l=this;if(l.is0())throw new Error("bad point: ZERO");const{ex:c,ey:f,ez:h,et:p}=l,y=Z(c*c),g=Z(f*f),v=Z(h*h),w=Z(v*v),k=Z(y*s),_=Z(v*Z(k+g)),R=Z(w+Z(i*Z(y*g)));if(_!==R)throw new Error("bad point: equation left != right (1)");const E=Z(c*f),P=Z(h*p);if(E!==P)throw new Error("bad point: equation left != right (2)");return this}equals(s){const{ex:i,ey:l,ez:c}=this,{ex:f,ey:h,ez:p}=sh(s),y=Z(i*p),g=Z(f*c),v=Z(l*p),w=Z(h*c);return y===g&&v===w}is0(){return this.equals(jr)}negate(){return new rt(Z(-this.ex),this.ey,this.ez,Z(-this.et))}double(){const{ex:s,ey:i,ez:l}=this,c=Al,f=Z(s*s),h=Z(i*i),p=Z(2n*Z(l*l)),y=Z(c*f),g=s+i,v=Z(Z(g*g)-f-h),w=y+h,k=w-p,_=y-h,R=Z(v*k),E=Z(w*_),P=Z(v*_),T=Z(k*w);return new rt(R,E,T,P)}add(s){const{ex:i,ey:l,ez:c,et:f}=this,{ex:h,ey:p,ez:y,et:g}=sh(s),v=Al,w=Ll,k=Z(i*h),_=Z(l*p),R=Z(f*w*g),E=Z(c*y),P=Z((i+l)*(h+p)-k-_),T=Z(E-R),I=Z(E+R),A=Z(_-v*k),F=Z(P*T),D=Z(I*A),K=Z(P*A),W=Z(T*I);return new rt(F,D,W,K)}multiply(s,i=!0){if(!i&&(s===0n||this.is0()))return jr;if(Vn(s,1n,oo),s===1n)return this;if(this.equals(Pn))return tw(s).p;let l=jr,c=Pn;for(let f=this;s>0n;f=f.double(),s>>=1n)s&1n?l=l.add(f):i&&(c=c.add(f));return l}toAffine(){const{ex:s,ey:i,ez:l}=this;if(this.equals(jr))return{x:0n,y:1n};const c=hp(l,Qe);return Z(l*c)!==1n&&xt("invalid inverse"),{x:Z(s*c),y:Z(i*c)}}toBytes(){const{x:s,y:i}=this.assertValidity().toAffine(),l=pp(i);return l[31]|=s&1n?128:0,l}toHex(){return gu(this.toBytes())}clearCofactor(){return this.multiply(vo(B0),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let s=this.multiply(oo/2n,!1).double();return oo%2n&&(s=s.add(this)),s.is0()}static fromHex(s,i){return rt.fromBytes(Pr(s),i)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}toRawBytes(){return this.toBytes()}}const Pn=new rt(th,nh,1n,Z(th*nh)),jr=new rt(0n,1n,1n,0n);rt.BASE=Pn;rt.ZERO=jr;const pp=n=>vu(cp(Vn(n,0n,Yl),As)).reverse(),wu=n=>vo("0x"+gu(yu(Gn(n)).reverse())),Dt=(n,s)=>{let i=n;for(;s-- >0n;)i*=i,i%=Qe;return i},Q0=n=>{const i=n*n%Qe*n%Qe,l=Dt(i,2n)*i%Qe,c=Dt(l,1n)*n%Qe,f=Dt(c,5n)*c%Qe,h=Dt(f,10n)*f%Qe,p=Dt(h,20n)*h%Qe,y=Dt(p,40n)*p%Qe,g=Dt(y,80n)*y%Qe,v=Dt(g,80n)*y%Qe,w=Dt(v,10n)*f%Qe;return{pow_p_5_8:Dt(w,2n)*n%Qe,b2:i}},ih=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,K0=(n,s)=>{const i=Z(s*s*s),l=Z(i*i*s),c=Q0(n*l).pow_p_5_8;let f=Z(n*i*c);const h=Z(s*f*f),p=f,y=Z(f*ih),g=h===n,v=h===Z(-n),w=h===Z(-n*ih);return g&&(f=p),(v||w)&&(f=y),(Z(f)&1n)===1n&&(f=Z(-f)),{isValid:g||v,value:f}},wo=n=>fp(wu(n)),xu=(...n)=>Xl.sha512Async(...n),q0=n=>{const s=n.slice(0,bn);s[0]&=248,s[31]&=127,s[31]|=64;const i=n.slice(bn,As),l=wo(s),c=Pn.multiply(l),f=c.toBytes();return{head:s,prefix:i,scalar:l,point:c,pointBytes:f}},mp=n=>xu(Pr(n,bn)).then(q0),G0=n=>mp(n).then(s=>s.pointBytes),yp=n=>xu(n.hashable).then(n.finish),Y0=(n,s,i)=>{const{pointBytes:l,scalar:c}=n,f=wo(s),h=Pn.multiply(f).toBytes();return{hashable:Ls(h,l,i),finish:g=>{const v=fp(f+wo(g)*c);return Gn(Ls(h,pp(v)),As)}}},_l=async(n,s)=>{const i=Pr(n),l=await mp(s),c=await xu(l.prefix,i);return yp(Y0(l,c,i))},gp={zip215:!0},X0=(n,s,i,l=gp)=>{n=Pr(n,As),s=Pr(s),i=Pr(i,bn);const{zip215:c}=l;let f,h,p,y,g=Uint8Array.of();try{f=rt.fromHex(i,c),h=rt.fromHex(n.slice(0,bn),c),p=wu(n.slice(bn,As)),y=Pn.multiply(p,!1),g=Ls(h.toBytes(),f.toBytes(),s)}catch{}return{hashable:g,finish:w=>{if(y==null||!c&&f.isSmallOrder())return!1;const k=wo(w);return h.add(f.multiply(k,!1)).add(y.negate()).clearCofactor().is0()}}},Z0=async(n,s,i,l=gp)=>yp(X0(n,s,i,l)),Xl={sha512Async:async(...n)=>{const s=W0(),i=Ls(...n);return jo(await s.digest("SHA-512",i.buffer))},sha512Sync:void 0,bytesToHex:gu,hexToBytes:vu,concatBytes:Ls,mod:Z,invert:hp,randomBytes:V0},xo=8,J0=256,vp=Math.ceil(J0/xo)+1,Zl=2**(xo-1),ew=()=>{const n=[];let s=Pn,i=s;for(let l=0;l<vp;l++){i=s,n.push(i);for(let c=1;c<Zl;c++)i=i.add(s),n.push(i);s=i.double()}return n};let oh;const ah=(n,s)=>{const i=s.negate();return n?i:s},tw=n=>{const s=oh||(oh=ew());let i=jr,l=Pn;const c=2**xo,f=c,h=vo(c-1),p=vo(xo);for(let y=0;y<vp;y++){let g=Number(n&h);n>>=p,g>Zl&&(g-=f,n+=1n);const v=y*Zl,w=v,k=v+Math.abs(g)-1,_=y%2!==0,R=g<0;g===0?l=l.add(ah(_,s[w])):i=i.add(ah(R,s[k]))}return{p:i,f:l}};var $n={},lh;function nw(){if(lh)return $n;lh=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.bech32m=$n.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",s={};for(let g=0;g<n.length;g++){const v=n.charAt(g);s[v]=g}function i(g){const v=g>>25;return(g&33554431)<<5^-(v>>0&1)&996825010^-(v>>1&1)&642813549^-(v>>2&1)&513874426^-(v>>3&1)&1027748829^-(v>>4&1)&705979059}function l(g){let v=1;for(let w=0;w<g.length;++w){const k=g.charCodeAt(w);if(k<33||k>126)return"Invalid prefix ("+g+")";v=i(v)^k>>5}v=i(v);for(let w=0;w<g.length;++w){const k=g.charCodeAt(w);v=i(v)^k&31}return v}function c(g,v,w,k){let _=0,R=0;const E=(1<<w)-1,P=[];for(let T=0;T<g.length;++T)for(_=_<<v|g[T],R+=v;R>=w;)R-=w,P.push(_>>R&E);if(k)R>0&&P.push(_<<w-R&E);else{if(R>=v)return"Excess padding";if(_<<w-R&E)return"Non-zero padding"}return P}function f(g){return c(g,8,5,!0)}function h(g){const v=c(g,5,8,!1);if(Array.isArray(v))return v}function p(g){const v=c(g,5,8,!1);if(Array.isArray(v))return v;throw new Error(v)}function y(g){let v;g==="bech32"?v=1:v=734539939;function w(E,P,T){if(T=T||90,E.length+7+P.length>T)throw new TypeError("Exceeds length limit");E=E.toLowerCase();let I=l(E);if(typeof I=="string")throw new Error(I);let A=E+"1";for(let F=0;F<P.length;++F){const D=P[F];if(D>>5!==0)throw new Error("Non 5-bit word");I=i(I)^D,A+=n.charAt(D)}for(let F=0;F<6;++F)I=i(I);I^=v;for(let F=0;F<6;++F){const D=I>>(5-F)*5&31;A+=n.charAt(D)}return A}function k(E,P){if(P=P||90,E.length<8)return E+" too short";if(E.length>P)return"Exceeds length limit";const T=E.toLowerCase(),I=E.toUpperCase();if(E!==T&&E!==I)return"Mixed-case string "+E;E=T;const A=E.lastIndexOf("1");if(A===-1)return"No separator character for "+E;if(A===0)return"Missing prefix for "+E;const F=E.slice(0,A),D=E.slice(A+1);if(D.length<6)return"Data too short";let K=l(F);if(typeof K=="string")return K;const W=[];for(let $=0;$<D.length;++$){const V=D.charAt($),te=s[V];if(te===void 0)return"Unknown character "+V;K=i(K)^te,!($+6>=D.length)&&W.push(te)}return K!==v?"Invalid checksum for "+E:{prefix:F,words:W}}function _(E,P){const T=k(E,P);if(typeof T=="object")return T}function R(E,P){const T=k(E,P);if(typeof T=="object")return T;throw new Error(T)}return{decodeUnsafe:_,decode:R,encode:w,toWords:f,fromWordsUnsafe:h,fromWords:p}}return $n.bech32=y("bech32"),$n.bech32m=y("bech32m"),$n}var Jl=nw();const uh=6,ch=12,dh=5,fh=300*1e3,wp=300*1e3,rw=6e5,sw=32,iw=12;function wt(n){if(!n||n.length===0)return;const s=Ar(n.length);n.set(s),n.fill(0),n.fill(255),n.fill(0)}class ow{data;key;constructor(s){const l=new TextEncoder().encode(s);this.key=Ar(l.length),this.data=new Uint8Array(l.length);for(let c=0;c<l.length;c++)this.data[c]=l[c]^this.key[c];wt(l)}getValue(){const s=new Uint8Array(this.data.length);for(let i=0;i<this.data.length;i++)s[i]=this.data[i]^this.key[i];return s}toString(){const s=this.getValue(),i=new TextDecoder().decode(s);return wt(s),i}destroy(){wt(this.data),wt(this.key)}}const ku="sultan_wallet_lockout";function Su(){try{const n=localStorage.getItem(ku);if(n)return JSON.parse(n)}catch{}return{attempts:0,lastAttempt:0,lockedUntil:0}}function hh(n){localStorage.setItem(ku,JSON.stringify(n))}function js(){const n=Su();return Date.now()<n.lockedUntil}function aw(){const s=Su().lockedUntil-Date.now();return s>0?Math.ceil(s/1e3):0}function xp(){const n=Su();return Date.now()-n.lastAttempt>fh&&(n.attempts=0),n.attempts++,n.lastAttempt=Date.now(),n.attempts>=dh?(n.lockedUntil=Date.now()+fh,hh(n),{locked:!0,attemptsRemaining:0}):(hh(n),{locked:!1,attemptsRemaining:dh-n.attempts})}function Cu(){localStorage.removeItem(ku)}let Yn=null,Rr=null,ko=null;function lw(){const n=Ar(32),s=Array.from(n).map(i=>i.toString(16).padStart(2,"0")).join("");return wt(n),s}function ao(n){return _s(),ko=n,Yn={lastActivity:Date.now(),sessionId:lw()},Sp(),Yn.sessionId}function kp(){Yn&&(Yn.lastActivity=Date.now(),Sp())}function Sp(){Rr!==null&&clearTimeout(Rr),Rr=window.setTimeout(()=>{ko&&ko(),_s()},wp)}function _s(){Rr!==null&&(clearTimeout(Rr),Rr=null),Yn=null,ko=null}function uw(){return Yn?Date.now()-Yn.lastActivity<wp:!1}function ph(n){if(!n||typeof n!="string")return{valid:!1,error:"PIN is required"};if(n.length<uh)return{valid:!1,error:`PIN must be at least ${uh} digits`};if(n.length>ch)return{valid:!1,error:`PIN must be at most ${ch} digits`};if(!/^\d+$/.test(n))return{valid:!1,error:"PIN must contain only digits"};let s=!0;for(let i=1;i<n.length;i++)if(parseInt(n[i])!==parseInt(n[i-1])+1){s=!1;break}return s?{valid:!1,error:"PIN cannot be sequential digits"}:new Set(n.split("")).size===1?{valid:!1,error:"PIN cannot be all the same digit"}:{valid:!0}}function cw(n){return!n||typeof n!="string"?{valid:!1,error:"Address is required"}:n.startsWith("sultan1")?n.length<39||n.length>59?{valid:!1,error:"Invalid address length"}:/^sultan1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/.test(n)?{valid:!0}:{valid:!1,error:"Address contains invalid characters"}:{valid:!1,error:'Address must start with "sultan1"'}}function eu(n,s,i=9){if(!n||typeof n!="string")return{valid:!1,error:"Amount is required"};if(!new RegExp(`^\\d+(\\.\\d{1,${i}})?$`).test(n))return{valid:!1,error:"Invalid amount format"};const c=parseFloat(n),f=parseFloat(s);return isNaN(c)||c<=0?{valid:!1,error:"Amount must be greater than 0"}:c>f?{valid:!1,error:"Insufficient balance"}:{valid:!0}}function Il(){return aw()}function dw(){kp()}function fw(){return!uw()}Xl.sha512Sync=(...n)=>io(Xl.concatBytes(...n));const bs=9,Cp="sultan",hw=1984;class De{mnemonic=null;accounts=new Map;static generateMnemonic(){return _0(eh,256)}static validateMnemonic(s){return D0(s,eh)}static formatSLTN(s){return pw(s)}static parseSLTN(s){return mw(s).toString()}static isValidAddress(s){return yw(s)}static async fromMnemonic(s){if(!De.validateMnemonic(s))throw new Error("Invalid mnemonic phrase");const i=new De;return i.mnemonic=s,await i.deriveAccount(0),i}async deriveAccount(s,i){if(!this.mnemonic)throw new Error("Wallet not initialized");if(this.accounts.has(s))return this.accounts.get(s);const l=z0(this.mnemonic),c=`m/44'/${hw}'/0'/0'/${s}`,f=this.deriveEd25519Key(l,c),h=await G0(f),y={address:this.publicKeyToAddress(h),publicKey:Es(h),privateKey:Es(f),path:c,index:s,name:i||`Account ${s+1}`};return this.accounts.set(s,y),y}deriveEd25519Key(s,i){const l=new TextEncoder;let c=mh(l.encode("ed25519 seed"),s),f=c.slice(0,32),h=c.slice(32);const p=i.split("/").slice(1);for(const y of p){const g=y.endsWith("'");let v=parseInt(y.replace("'",""));g&&(v+=2147483648);const w=new Uint8Array(4);new DataView(w.buffer).setUint32(0,v,!1);const k=new Uint8Array(37);k[0]=0,k.set(f,1),k.set(w,33),c=mh(h,k),f=c.slice(0,32),h=c.slice(32)}return f}publicKeyToAddress(s){const l=Tl(s).slice(0,20),c=Jl.bech32.toWords(l);return Jl.bech32.encode(Cp,c)}getAccounts(){return Array.from(this.accounts.values())}getAccount(s){return this.accounts.get(s)}getPrimaryAccount(){return this.accounts.get(0)}async signTransaction(s,i){const l=this.accounts.get(i);if(!l)throw new Error(`Account at index ${i} not found`);const c=JSON.stringify(s),f=Tl(new TextEncoder().encode(c)),h=Er(l.privateKey),p=await _l(f,h);return Es(p)}async signFullTransaction(s,i){const l=this.accounts.get(s);if(!l)throw new Error(`Account at index ${s} not found`);const c={...i,from:l.address},f=this.serializeTransaction(c),h=Er(l.privateKey),p=await _l(f,h);return{transaction:c,signature:Es(p),publicKey:l.publicKey}}async signMessage(s,i){const l=this.accounts.get(s);if(!l)throw new Error(`Account at index ${s} not found`);const c=new TextEncoder().encode(i),f=Er(l.privateKey),h=await _l(c,f);return Es(h)}serializeTransaction(s){const i=JSON.stringify({from:s.from,to:s.to,amount:s.amount,memo:s.memo||"",nonce:s.nonce,timestamp:s.timestamp});return Tl(new TextEncoder().encode(i))}static async verifySignature(s,i,l){try{return await Z0(Er(i),s,Er(l))}catch{return!1}}getMnemonic(){return this.mnemonic}destroy(){if(this.mnemonic){const i=new TextEncoder().encode(this.mnemonic);wt(i),this.mnemonic=null}for(const s of this.accounts.values())if(s.privateKey){const i=Er(s.privateKey);wt(i),s.privateKey=""}this.accounts.clear()}}function pw(n){const s=BigInt(n),i=BigInt(10**bs),l=s/i,c=s%i;if(c===0n)return l.toString();const h=c.toString().padStart(bs,"0").replace(/0+$/,"");return`${l}.${h}`}function mw(n){const s=n.split("."),i=BigInt(s[0]||"0");let l=0n;if(s[1]){const c=s[1].slice(0,bs).padEnd(bs,"0");l=BigInt(c)}return i*BigInt(10**bs)+l}function yw(n){try{const s=Jl.bech32.decode(n);return s.prefix===Cp&&s.words.length>0}catch{return!1}}function mh(n,s){n.length>128&&(n=io(n));const l=new Uint8Array(128);l.set(n);const c=new Uint8Array(128),f=new Uint8Array(128);for(let g=0;g<128;g++)c[g]=l[g]^54,f[g]=l[g]^92;const h=new Uint8Array(c.length+s.length);h.set(c),h.set(s,c.length);const p=io(h),y=new Uint8Array(f.length+p.length);return y.set(f),y.set(p,f.length),io(y)}function Es(n){return Array.from(n).map(s=>s.toString(16).padStart(2,"0")).join("")}function Er(n){const s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++)s[i]=parseInt(n.slice(i*2,i*2+2),16);return s}const yh="sultan-wallet",gw=2,zt="wallet";let Wn=null,Tr=null,Nu=null,Eu=null;async function bo(){return Wn&&Wn.name===yh?Wn:new Promise((n,s)=>{const i=indexedDB.open(yh,gw);i.onerror=()=>{console.error("Failed to open database:",i.error),s(new Error("Database initialization failed"))},i.onsuccess=()=>{Wn=i.result,Wn.onclose=()=>{Wn=null},n(Wn)},i.onupgradeneeded=l=>{const c=l.target.result;c.objectStoreNames.contains(zt)||c.createObjectStore(zt)},i.onblocked=()=>{s(new Error("Database blocked by another connection"))}})}async function Np(n,s){const l=new TextEncoder().encode(n);try{const c=await crypto.subtle.importKey("raw",l,"PBKDF2",!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:rw,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}finally{}}async function vw(n,s){const i=new TextEncoder,l=Ar(sw),c=Ar(iw),f=await Np(s,l),h=i.encode(n);try{const p=await crypto.subtle.encrypt({name:"AES-GCM",iv:c},f,h);return{salt:Ol(l),iv:Ol(c),ciphertext:Ol(new Uint8Array(p)),version:2}}finally{wt(l),wt(c)}}async function ww(n,s){const i=Fl(n.salt),l=Fl(n.iv),c=Fl(n.ciphertext),f=await Np(s,i);try{const h=await crypto.subtle.decrypt({name:"AES-GCM",iv:l},f,c);return new TextDecoder().decode(h)}catch{throw new Error("Decryption failed - invalid PIN or corrupted data")}finally{wt(i),wt(l),wt(c)}}async function tu(n,s){const i=await bo(),l=await vw(n,s),c=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(n)),f=Array.from(new Uint8Array(c).slice(0,4)).map(p=>p.toString(16).padStart(2,"0")).join(""),h={encryptedMnemonic:JSON.stringify(l),mnemonicChecksum:f,accounts:[],createdAt:Date.now(),updatedAt:Date.now(),version:1,securityVersion:2};return new Promise((p,y)=>{const w=i.transaction(zt,"readwrite").objectStore(zt).put(h,"wallet");w.onerror=()=>y(new Error("Failed to save wallet")),w.onsuccess=()=>p()})}async function So(n){if(js())throw new Error("Too many failed attempts. Please wait before trying again.");const s=await bo(),i=await new Promise((l,c)=>{const p=s.transaction(zt,"readonly").objectStore(zt).get("wallet");p.onerror=()=>c(new Error("Failed to read wallet")),p.onsuccess=()=>l(p.result)});if(!i)throw new Error("No wallet found");try{let l;if(i.securityVersion===2){const c=JSON.parse(i.encryptedMnemonic);l=await ww(c,n)}else l=await xw(i.encryptedMnemonic,n);if(i.mnemonicChecksum){const c=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(l));if(Array.from(new Uint8Array(c).slice(0,4)).map(h=>h.toString(16).padStart(2,"0")).join("")!==i.mnemonicChecksum)throw new Error("Data integrity check failed")}return Cu(),l}catch{const{locked:c,attemptsRemaining:f}=xp();throw c?new Error("Too many failed attempts. Wallet locked for 5 minutes."):new Error(`Invalid PIN. ${f} attempts remaining.`)}}async function xw(n,s){const i=Uint8Array.from(atob(n),v=>v.charCodeAt(0)),l=i.slice(0,16),c=i.slice(16,28),f=i.slice(28),h=new TextEncoder,p=await crypto.subtle.importKey("raw",h.encode(s),"PBKDF2",!1,["deriveBits","deriveKey"]),y=await crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:1e5,hash:"SHA-256"},p,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),g=await crypto.subtle.decrypt({name:"AES-GCM",iv:c},y,f);return new TextDecoder().decode(g)}async function Ep(){try{const n=await bo();return new Promise(s=>{const c=n.transaction(zt,"readonly").objectStore(zt).get("wallet");c.onerror=()=>s(!1),c.onsuccess=()=>s(!!c.result)})}catch{return!1}}async function jp(){Mt();const n=await bo();return new Promise((s,i)=>{const f=n.transaction(zt,"readwrite").objectStore(zt).delete("wallet");f.onerror=()=>i(new Error("Failed to delete wallet")),f.onsuccess=()=>{Cu(),s()}})}function kw(n,s){Mt(),Tr=new ow(n),Nu=ao(s)}function Sw(){return!Tr||!Nu?null:(kp(),Tr.toString())}function Mt(){Tr&&(Tr.destroy(),Tr=null),Nu=null,Eu=null,_s()}async function Cw(n){try{return await So(n)}catch{return null}}function Ol(n){return btoa(String.fromCharCode(...n))}function Fl(n){return Uint8Array.from(atob(n),s=>s.charCodeAt(0))}const gh={saveWallet:tu,loadWallet:So,hasWallet:Ep,deleteWallet:jp,getMnemonic:Cw,setSessionMnemonic:kw,getSessionMnemonic:Sw,clearSession:Mt};function Dl(n){Eu=n}function Nw(){return Eu}const bp=S.createContext(null);function Ew({children:n}){const[s,i]=S.useState({isLoading:!0,isInitialized:!1,isLocked:!0,wallet:null,accounts:[],activeAccountIndex:0,error:null,lockoutRemainingSeconds:0}),l=S.useRef(null),c=S.useRef(null);S.useEffect(()=>{const T=()=>{!s.isLocked&&s.wallet&&dw()},I=["mousedown","keydown","touchstart","scroll"];return I.forEach(A=>{window.addEventListener(A,T,{passive:!0})}),()=>{I.forEach(A=>{window.removeEventListener(A,T)})}},[s.isLocked,s.wallet]),S.useEffect(()=>(!s.isLocked&&s.wallet&&(l.current=window.setInterval(()=>{fw()&&(s.wallet?.destroy(),Mt(),_s(),i(T=>({...T,isLocked:!0,wallet:null,accounts:[],error:"Session expired - please unlock again"})))},3e4)),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[s.isLocked,s.wallet]),S.useEffect(()=>{if(js()){const T=()=>{const I=Il();i(A=>({...A,lockoutRemainingSeconds:I})),I===0&&c.current&&(clearInterval(c.current),c.current=null)};T(),c.current=window.setInterval(T,1e3)}return()=>{c.current&&(clearInterval(c.current),c.current=null)}},[s.error]),S.useEffect(()=>{async function T(){try{const I=await Ep(),A=Nw();if(I&&A)try{const F=await So(A),D=await De.fromMnemonic(F),K=D.getAccounts();i({isLoading:!1,isInitialized:!0,isLocked:!1,wallet:D,accounts:K,activeAccountIndex:0,error:null,lockoutRemainingSeconds:0});return}catch{Mt()}i(F=>({...F,isLoading:!1,isInitialized:I,isLocked:!0}))}catch(I){i(A=>({...A,isLoading:!1,error:I instanceof Error?I.message:"Failed to check wallet"}))}}T()},[]);const f=S.useCallback(async T=>{try{const I=ph(T);if(!I.valid)throw new Error(I.error);const A=De.generateMnemonic(),F=await De.fromMnemonic(A);await tu(A,T),Dl(T),ao(()=>{F.destroy(),Mt()});const D=F.getAccounts();return i({isLoading:!1,isInitialized:!0,isLocked:!1,wallet:F,accounts:D,activeAccountIndex:0,error:null,lockoutRemainingSeconds:0}),A}catch(I){const A=I instanceof Error?I.message:"Failed to create wallet";throw i(F=>({...F,error:A})),I}},[]),h=S.useCallback(async(T,I)=>{try{const A=ph(I);if(!A.valid)throw new Error(A.error);const F=await De.fromMnemonic(T);await tu(T,I),Dl(I),ao(()=>{F.destroy(),Mt()});const D=F.getAccounts();i({isLoading:!1,isInitialized:!0,isLocked:!1,wallet:F,accounts:D,activeAccountIndex:0,error:null,lockoutRemainingSeconds:0})}catch(A){const F=A instanceof Error?A.message:"Failed to import wallet";throw i(D=>({...D,error:F})),A}},[]),p=S.useCallback(async T=>{if(js()){const I=Il();return i(A=>({...A,error:`Too many failed attempts. Try again in ${I} seconds.`,lockoutRemainingSeconds:I})),!1}try{const I=await So(T),A=await De.fromMnemonic(I);Cu(),Dl(T),ao(()=>{A.destroy(),Mt()});const F=A.getAccounts();return i(D=>({...D,isLocked:!1,wallet:A,accounts:F,error:null,lockoutRemainingSeconds:0})),!0}catch{const A=xp();let F;if(js()){const D=Il();F=`Too many failed attempts. Try again in ${D} seconds.`,i(K=>({...K,error:F,lockoutRemainingSeconds:D}))}else F=`Invalid PIN. ${A.attemptsRemaining} attempts remaining.`,i(D=>({...D,error:F}));return!1}},[]),y=S.useCallback(()=>{s.wallet?.destroy(),Mt(),_s(),i(T=>({...T,isLocked:!0,wallet:null,accounts:[]}))},[s.wallet]),g=S.useCallback(async()=>{s.wallet?.destroy(),Mt(),await jp(),i({isLoading:!1,isInitialized:!1,isLocked:!0,wallet:null,accounts:[],activeAccountIndex:0,error:null,lockoutRemainingSeconds:0})},[s.wallet]),v=S.useCallback(T=>{i(I=>({...I,activeAccountIndex:T}))},[]),w=v,k=S.useCallback(async T=>{if(!s.wallet)throw new Error("Wallet not initialized");const I=s.accounts.length,A=await s.wallet.deriveAccount(I,T);return i(F=>({...F,accounts:[...F.accounts,A]})),A},[s.wallet,s.accounts]),_=S.useCallback(()=>{i(T=>({...T,error:null}))},[]),R=s.accounts[s.activeAccountIndex]||null,E=js(),P={...s,currentAccount:R,isLockedOut:E,createWallet:f,importWallet:h,unlock:p,lock:y,deleteWalletData:g,setActiveAccount:v,switchAccount:w,deriveNewAccount:k,clearError:_};return d.jsx(bp.Provider,{value:P,children:n})}function Bt(){const n=S.useContext(bp);if(!n)throw new Error("useWallet must be used within WalletProvider");return n}const Pp=S.createContext(void 0),Rp="sultan-wallet-theme";function jw(){try{if(typeof window<"u"&&window.matchMedia)return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch{}return"dark"}function bw(){try{if(typeof window<"u"&&window.localStorage){const n=localStorage.getItem(Rp);if(n==="light"||n==="dark"||n==="system")return n}}catch{}return"dark"}function Pw({children:n}){const[s,i]=S.useState("dark"),[l,c]=S.useState("dark"),[f,h]=S.useState(!1);S.useEffect(()=>{i(bw()),c(jw()),h(!0)},[]),S.useEffect(()=>{if(!f)return;const g=window.matchMedia("(prefers-color-scheme: dark)"),v=w=>{c(w.matches?"dark":"light")};return g.addEventListener("change",v),()=>g.removeEventListener("change",v)},[f]);const p=s==="system"?l:s;S.useEffect(()=>{f&&document.documentElement.setAttribute("data-theme",p)},[p,f]);const y=g=>{i(g);try{localStorage.setItem(Rp,g)}catch{}};return d.jsx(Pp.Provider,{value:{theme:s,resolvedTheme:p,setTheme:y},children:n})}function Rw(){const n=S.useContext(Pp);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n}function Tw(){const n=Ct();return d.jsx("div",{className:"welcome-screen",children:d.jsxs("div",{className:"welcome-content fade-in",children:[d.jsxs("div",{className:"logo-container",children:[d.jsx("div",{className:"logo",children:"ğŸ‘‘"}),d.jsx("h1",{children:"Sultan Wallet"}),d.jsx("p",{className:"tagline",children:"Zero-fee blockchain wallet"})]}),d.jsxs("div",{className:"features",children:[d.jsxs("div",{className:"feature",children:[d.jsx("span",{className:"feature-icon",children:"âš¡"}),d.jsx("span",{children:"Zero transaction fees"})]}),d.jsxs("div",{className:"feature",children:[d.jsx("span",{className:"feature-icon",children:"ğŸ“ˆ"}),d.jsx("span",{children:"13.33% staking APY"})]}),d.jsxs("div",{className:"feature",children:[d.jsx("span",{className:"feature-icon",children:"ğŸ”"}),d.jsx("span",{children:"Self-custody security"})]})]}),d.jsxs("div",{className:"button-group",children:[d.jsx("button",{className:"btn btn-primary",onClick:()=>n("/create"),children:"Create New Wallet"}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>n("/import"),children:"Import Existing Wallet"})]}),d.jsx("p",{className:"version text-muted mt-lg",children:"v1.0.0 â€¢ Sultan Chain"})]})})}function Lr({length:n=6,onComplete:s}){const[i,l]=S.useState(Array(n).fill("")),c=S.useRef([]);S.useEffect(()=>{c.current[0]?.focus()},[]);const f=(y,g)=>{if(!/^\d*$/.test(g))return;const v=[...i];v[y]=g.slice(-1),l(v),g&&y<n-1&&c.current[y+1]?.focus();const w=v.join("");w.length===n&&s(w)},h=(y,g)=>{g.key==="Backspace"&&!i[y]&&y>0&&c.current[y-1]?.focus()},p=y=>{y.preventDefault();const g=y.clipboardData.getData("text").slice(0,n);if(!/^\d+$/.test(g))return;const v=[...i];for(let k=0;k<g.length;k++)v[k]=g[k];l(v);const w=Math.min(g.length,n-1);c.current[w]?.focus(),g.length===n&&s(g)};return d.jsx("div",{className:"pin-input",onPaste:p,children:Array(n).fill(0).map((y,g)=>d.jsx("input",{ref:v=>c.current[g]=v,type:"password",inputMode:"numeric",maxLength:1,value:i[g],onChange:v=>f(g,v.target.value),onKeyDown:v=>h(g,v),className:"pin-digit",autoComplete:"off"},g))})}function Tp({mnemonic:n,onCopy:s}){const[i,l]=S.useState(!1),[c,f]=S.useState(!1),h=n.split(" "),p=async()=>{await navigator.clipboard.writeText(n),f(!0),setTimeout(()=>f(!1),2e3),s?.()};return d.jsxs("div",{className:"mnemonic-display",children:[d.jsxs("div",{className:"mnemonic-header",children:[d.jsx("button",{className:"visibility-toggle",onClick:()=>l(!i),children:i?"ğŸ‘ï¸ Hide":"ğŸ‘ï¸ Show"}),d.jsx("button",{className:"copy-btn",onClick:p,children:c?"âœ“ Copied":"ğŸ“‹ Copy"})]}),d.jsx("div",{className:`mnemonic-grid ${i?"":"blurred"}`,children:h.map((y,g)=>d.jsxs("div",{className:"mnemonic-word",children:[d.jsx("span",{className:"word-index",children:g+1}),d.jsx("span",{className:"word-text",children:i?y:"â€¢â€¢â€¢â€¢â€¢"})]},g))}),!i&&d.jsx("div",{className:"blur-overlay",onClick:()=>l(!0),children:d.jsx("span",{children:"Tap to reveal"})})]})}function Aw(){const n=Ct(),{createWallet:s,error:i,clearError:l}=Bt(),[c,f]=S.useState("pin"),[h,p]=S.useState(""),[y,g]=S.useState(""),[v,w]=S.useState([]),[k,_]=S.useState(["","",""]),[R,E]=S.useState(!1),P=D=>{c==="pin"?(p(D),f("confirm-pin")):c==="confirm-pin"&&(D===h?T(D):(l(),f("pin"),p("")))},T=async D=>{E(!0);try{const K=await s(D);g(K);const W=K.split(" "),$=[];for(;$.length<3;){const V=Math.floor(Math.random()*W.length);$.includes(V)||$.push(V)}$.sort((V,te)=>V-te),w($.map(V=>({index:V,word:W[V]}))),f("mnemonic")}catch{f("pin"),p("")}finally{E(!1)}},I=()=>{f("verify")},A=()=>{v.every((K,W)=>k[W].toLowerCase().trim()===K.word.toLowerCase())?n("/dashboard"):_(["","",""])},F=k.every(D=>D.length>0);return R?d.jsx("div",{className:"create-screen",children:d.jsxs("div",{className:"create-content",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{className:"mt-md",children:"Creating your wallet..."})]})}):d.jsx("div",{className:"create-screen",children:d.jsxs("div",{className:"create-content fade-in",children:[c==="pin"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Create a PIN"}),d.jsx("p",{className:"text-muted mb-lg",children:"This PIN will be used to unlock your wallet"}),d.jsx(Lr,{length:6,onComplete:P})]}),c==="confirm-pin"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Confirm PIN"}),d.jsx("p",{className:"text-muted mb-lg",children:"Enter your PIN again to confirm"}),d.jsx(Lr,{length:6,onComplete:P}),i&&d.jsx("p",{className:"text-error mt-md",children:i})]}),c==="mnemonic"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Recovery Phrase"}),d.jsx("p",{className:"text-muted mb-md",children:"Write down these 24 words in order. They are the ONLY way to recover your wallet."}),d.jsx("div",{className:"warning-box mb-lg",children:"âš ï¸ Never share your recovery phrase with anyone!"}),d.jsx(Tp,{mnemonic:y}),d.jsx("button",{className:"btn btn-primary mt-lg",onClick:I,children:"I've Written It Down"})]}),c==="verify"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Verify Recovery Phrase"}),d.jsx("p",{className:"text-muted mb-lg",children:"Enter the following words from your recovery phrase"}),d.jsx("div",{className:"verify-inputs",children:v.map((D,K)=>d.jsxs("div",{className:"verify-input-group",children:[d.jsxs("label",{children:["Word #",D.index+1]}),d.jsx("input",{type:"text",className:"input",value:k[K],onChange:W=>{const $=[...k];$[K]=W.target.value,_($)},autoComplete:"off",autoCapitalize:"off"})]},D.index))}),d.jsx("button",{className:"btn btn-primary mt-lg",onClick:A,disabled:!F,children:"Verify & Continue"})]}),d.jsx("button",{className:"btn btn-secondary mt-md",onClick:()=>n("/"),children:"Cancel"})]})})}function Lw(){const n=Ct(),{importWallet:s,error:i,clearError:l}=Bt(),[c,f]=S.useState("mnemonic"),[h,p]=S.useState(Array(24).fill("")),[y,g]=S.useState(""),[v,w]=S.useState(!1),[k,_]=S.useState(""),R=(D,K)=>{const W=[...h];W[D]=K.toLowerCase().trim(),p(W),_("")},E=D=>{const W=D.clipboardData.getData("text").toLowerCase().trim().split(/\s+/);if(W.length===24||W.length===12){D.preventDefault();const $=Array(24).fill("");W.forEach((V,te)=>{te<$.length&&($[te]=V)}),p($)}},P=()=>{const K=h.filter(W=>W).join(" ").split(" ").length;if(K!==12&&K!==24){_("Please enter 12 or 24 words");return}f("pin")},T=async D=>{c==="pin"?(g(D),f("confirm-pin")):c==="confirm-pin"&&(D===y?await I(D):(l(),f("pin"),g("")))},I=async D=>{w(!0);try{const K=h.filter(W=>W).join(" ");await s(K,D),n("/dashboard")}catch{f("mnemonic"),g("")}finally{w(!1)}},A=h.filter(D=>D.length>0).length,F=A===12||A===24;return v?d.jsx("div",{className:"import-screen",children:d.jsxs("div",{className:"import-content",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{className:"mt-md",children:"Importing your wallet..."})]})}):d.jsx("div",{className:"import-screen",children:d.jsxs("div",{className:"import-content fade-in",children:[c==="mnemonic"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Import Wallet"}),d.jsx("p",{className:"text-muted mb-md",children:"Enter your 12 or 24-word recovery phrase"}),d.jsx("div",{className:"mnemonic-input-grid",onPaste:E,children:h.map((D,K)=>d.jsxs("div",{className:"mnemonic-input-item",children:[d.jsx("span",{className:"word-number",children:K+1}),d.jsx("input",{type:"text",className:"input word-input",value:D,onChange:W=>R(K,W.target.value),autoComplete:"off",autoCapitalize:"off"})]},K))}),d.jsx("p",{className:"text-muted text-sm mt-md",children:"ğŸ’¡ Tip: Paste your entire phrase to auto-fill"}),k&&d.jsx("p",{className:"text-error mt-sm",children:k}),d.jsxs("button",{className:"btn btn-primary mt-lg",onClick:P,disabled:!F,children:["Continue (",A,"/24 words)"]})]}),c==="pin"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Create a PIN"}),d.jsx("p",{className:"text-muted mb-lg",children:"This PIN will be used to unlock your wallet"}),d.jsx(Lr,{length:6,onComplete:T})]}),c==="confirm-pin"&&d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Confirm PIN"}),d.jsx("p",{className:"text-muted mb-lg",children:"Enter your PIN again to confirm"}),d.jsx(Lr,{length:6,onComplete:T}),i&&d.jsx("p",{className:"text-error mt-md",children:i})]}),d.jsx("button",{className:"btn btn-secondary mt-md",onClick:()=>c==="mnemonic"?n("/"):f("mnemonic"),children:c==="mnemonic"?"Cancel":"Back"})]})})}const Ap=30,Po=6,nu="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",_w=20;function Iw(n){let s="",i=0,l=0;for(const c of n)for(l=l<<8|c,i+=8;i>=5;)i-=5,s+=nu[l>>>i&31];return i>0&&(s+=nu[l<<5-i&31]),s}function Ow(n){const s=n.replace(/\s+/g,"").toUpperCase(),i=[];let l=0,c=0;for(const f of s){if(f==="=")continue;const h=nu.indexOf(f);if(h===-1)throw new Error(`Invalid base32 character: ${f}`);c=c<<5|h,l+=5,l>=8&&(l-=8,i.push(c>>>l&255))}return new Uint8Array(i)}async function Fw(n,s){const i=new Uint8Array(n).buffer,l=new Uint8Array(s).buffer,c=await crypto.subtle.importKey("raw",i,{name:"HMAC",hash:"SHA-1"},!1,["sign"]),f=await crypto.subtle.sign("HMAC",c,l);return new Uint8Array(f)}function Dw(n){const s=new Uint8Array(8);for(let i=7;i>=0;i--)s[i]=n&255,n=Math.floor(n/256);return s}function Mw(n,s){const i=n[n.length-1]&15;return(((n[i]&127)<<24|(n[i+1]&255)<<16|(n[i+2]&255)<<8|n[i+3]&255)%Math.pow(10,s)).toString().padStart(s,"0")}async function zw(n,s,i=Po){const l=Dw(s),c=await Fw(n,l);return Mw(c,i)}async function Uw(n,s,i=Ap,l=Po,c=1){const f=typeof n=="string"?Ow(n):n,h=Math.floor(Date.now()/1e3/i);for(let p=-c;p<=c;p++){const y=await zw(f,h+p,l);if(Lp(s,y))return!0}return!1}function Lp(n,s){if(n.length!==s.length)return!1;let i=0;for(let l=0;l<n.length;l++)i|=n.charCodeAt(l)^s.charCodeAt(l);return i===0}function Bw(){const n=crypto.getRandomValues(new Uint8Array(_w));return Iw(n)}function Hw(n,s,i="Sultan Wallet"){const l=encodeURIComponent(i),c=encodeURIComponent(s),f=n.replace(/\s/g,"");return`otpauth://totp/${l}:${c}?secret=${f}&issuer=${l}&algorithm=SHA1&digits=${Po}&period=${Ap}`}const $w=8,vh="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";function _p(){const n=[];for(let s=0;s<$w;s++){let i="";for(let l=0;l<8;l++){l===4&&(i+="-");const c=crypto.getRandomValues(new Uint8Array(1))[0]%vh.length;i+=vh[c]}n.push(i)}return n}function Ww(n,s){const i=n.toUpperCase().replace(/\s|-/g,"");for(let l=0;l<s.length;l++){const c=s[l].replace(/-/g,"");if(Lp(i,c))return l}return-1}const ju="sultan_2fa";function Co(n){localStorage.setItem(ju,JSON.stringify(n))}function Is(){const n=localStorage.getItem(ju);if(!n)return null;try{return JSON.parse(n)}catch{return null}}function bu(){return Is()?.enabled??!1}function Vw(){const n=Bw(),s=_p(),i={enabled:!0,secret:n,backupCodes:s,createdAt:Date.now(),lastUsedAt:null};return Co(i),{secret:n,backupCodes:s}}function Qw(){localStorage.removeItem(ju)}async function Ip(n){const s=Is();if(!s?.enabled)return!0;const i=n.replace(/[\s-]/g,"");if(i.length===Po&&/^\d+$/.test(i)&&await Uw(s.secret,i))return s.lastUsedAt=Date.now(),Co(s),!0;const l=Ww(n,s.backupCodes);return l>=0?(s.backupCodes.splice(l,1),s.lastUsedAt=Date.now(),Co(s),!0):!1}function Kw(){return Is()?.backupCodes.length??0}function qw({onSuccess:n,onCancel:s}){const[i,l]=S.useState(""),[c,f]=S.useState(""),[h,p]=S.useState(!1),[y,g]=S.useState(!1),v=S.useRef(null);S.useEffect(()=>{v.current?.focus()},[y]);const w=async()=>{if(!(i.length<6)){f(""),p(!0);try{await Ip(i)?n():(f("Invalid code. Please try again."),l(""),v.current?.focus())}catch{f("Verification failed. Please try again.")}finally{p(!1)}}},k=E=>{const P=y?E.target.value.toUpperCase().slice(0,9):E.target.value.replace(/\D/g,"").slice(0,6);l(P),f("")},_=E=>{E.key==="Enter"&&w()},R=Kw();return d.jsxs("div",{className:"totp-verify fade-in",children:[d.jsx("div",{className:"totp-verify-icon",children:"ğŸ”"}),d.jsx("h2",{children:"Two-Factor Authentication"}),y?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-muted mb-md",children:"Enter one of your backup codes"}),d.jsx("input",{ref:v,type:"text",className:"totp-verify-input backup",value:i,onChange:k,onKeyDown:_,placeholder:"XXXX-XXXX",maxLength:9,autoComplete:"off"}),d.jsxs("p",{className:"text-muted text-sm mt-sm",children:[R," backup codes remaining"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-muted mb-md",children:"Enter the 6-digit code from your authenticator app"}),d.jsx("input",{ref:v,type:"text",className:"totp-verify-input",value:i,onChange:k,onKeyDown:_,placeholder:"000000",maxLength:6,inputMode:"numeric",autoComplete:"one-time-code"})]}),c&&d.jsx("p",{className:"text-error mt-sm",children:c}),d.jsx("button",{className:"btn btn-primary mt-md",onClick:w,disabled:h||(y?i.length<8:i.length<6),children:h?"Verifying...":"Verify"}),d.jsx("button",{className:"btn-link mt-md",onClick:()=>{g(!y),l(""),f("")},children:y?"Use authenticator code":"Use backup code"}),d.jsx("button",{className:"btn-link mt-sm",onClick:s,children:"Cancel"})]})}function Gw(){const n=Ct(),{unlock:s,lock:i,error:l,clearError:c}=Bt(),[f,h]=S.useState("pin"),[p,y]=S.useState(!1),[g,v]=S.useState(0),[w,k]=S.useState(0),_=5,R=async A=>{y(!0),c();try{await s(A)?bu()?h("totp"):n("/dashboard"):(v(D=>D+1),k(D=>D+1))}catch{v(F=>F+1),k(F=>F+1)}finally{y(!1)}},E=()=>{n("/dashboard")},P=()=>{i(),h("pin"),k(A=>A+1)},T=_-g;return g>=_?d.jsx("div",{className:"unlock-screen",children:d.jsxs("div",{className:"unlock-content fade-in",children:[d.jsx("div",{className:"lock-icon",children:"ğŸ”"}),d.jsx("h2",{children:"Wallet Locked"}),d.jsx("p",{className:"text-muted mb-lg",children:"Too many incorrect attempts. Please wait 5 minutes or restore from recovery phrase."}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>n("/import"),children:"Restore with Recovery Phrase"})]})}):f==="totp"?d.jsx("div",{className:"unlock-screen",children:d.jsx(qw,{onSuccess:E,onCancel:P})}):d.jsx("div",{className:"unlock-screen",children:d.jsxs("div",{className:"unlock-content fade-in",children:[d.jsx("div",{className:"sultan-icon",children:d.jsxs("svg",{viewBox:"0 0 100 100",width:"64",height:"64",children:[d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"var(--accent-primary)"}),d.jsx("text",{x:"50",y:"62",textAnchor:"middle",fontSize:"36",fill:"var(--bg-primary)",fontWeight:"bold",children:"S"})]})}),d.jsx("h2",{children:"Welcome Back"}),d.jsx("p",{className:"text-muted mb-lg",children:"Enter your PIN to unlock"}),p?d.jsx("div",{className:"spinner"}):d.jsx(Lr,{length:6,onComplete:R},w),l&&d.jsxs("p",{className:"text-error mt-md",children:["Incorrect PIN. ",T," attempts remaining."]}),d.jsx("button",{className:"btn-link mt-xl",onClick:()=>n("/import"),children:"Restore with Recovery Phrase"})]})})}const Yw="https://rpc.sltn.io";async function Jt(n,s={}){const i=await fetch(`${Yw}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:n,params:s})});if(!i.ok)throw new Error(`RPC error: ${i.status}`);const l=await i.json();if(l.error)throw new Error(l.error.message||"RPC error");return l.result}async function Op(n){try{const s=await Jt("account_balance",{address:n});return{address:n,available:s.balance,balance:s.balance,nonce:s.nonce}}catch{return{address:n,available:"0",balance:"0",nonce:0}}}async function Fp(n){try{const s=await Jt("staking_info",{address:n});return{address:n,staked:s.staked,pendingRewards:s.rewards,validator:s.validator,stakingAPY:s.apy}}catch{return{address:n,staked:"0",pendingRewards:"0",stakingAPY:13.33}}}async function Dp(){try{return((await Jt("validators_list",{})).validators||[]).map(s=>({address:s.address,name:s.moniker,moniker:s.moniker,totalStaked:s.stake,commission:s.commission,uptime:s.uptime,status:s.status}))}catch{return[]}}async function Mp(n,s=20,i=0){try{return(await Jt("account_transactions",{address:n,limit:s,offset:i})).transactions||[]}catch{return[]}}async function zp(){try{return await Jt("network_status",{})}catch{return{chainId:"sultan-mainnet-1",blockHeight:0,blockTime:2,validatorCount:9,totalStaked:"0",stakingAPY:13.33}}}const lo={getBalance:Op,getStakingInfo:Fp,getValidators:Dp,getTransactions:Mp,getNetworkStatus:zp,broadcastTransaction:async n=>Jt("broadcast_tx",{tx:{from:n.from,to:n.to,amount:n.amount,memo:n.memo,nonce:0,timestamp:n.timestamp},signature:n.signature,public_key:n.publicKey}),stake:async n=>Jt("stake_tx",{delegator:n.delegatorAddress,validator:n.validatorAddress,amount:n.amount,signature:n.signature,public_key:n.publicKey}),unstake:async n=>Jt("unstake_tx",{delegator:n.delegatorAddress,amount:n.amount,signature:n.signature,public_key:n.publicKey}),claimRewards:async n=>Jt("claim_rewards_tx",{delegator:n.delegatorAddress,signature:n.signature,public_key:n.publicKey})};function Pu(n){return Ms({queryKey:["balance",n],queryFn:()=>Op(n),enabled:!!n,refetchInterval:1e4,staleTime:5e3})}function Up(n){return Ms({queryKey:["staking",n],queryFn:()=>Fp(n),enabled:!!n,refetchInterval:3e4,staleTime:15e3})}function Xw(){return Ms({queryKey:["validators"],queryFn:()=>Dp(),refetchInterval:6e4,staleTime:3e4})}function Bp(n,s=50){return Ms({queryKey:["transactions",n,s],queryFn:()=>Mp(n,s),enabled:!!n,refetchInterval:15e3,staleTime:1e4})}function Zw(){return Ms({queryKey:["networkStatus"],queryFn:()=>zp(),refetchInterval:3e4,staleTime:15e3})}function Jw(){const n=Ct(),{lock:s,currentAccount:i}=Bt(),{data:l,isLoading:c}=Pu(i?.address),{data:f,isLoading:h}=Up(i?.address),{data:p,isLoading:y}=Bp(i?.address,3),{data:g,isLoading:v,isError:w}=Zw(),[k,_]=S.useState(!1),R=async()=>{i?.address&&(await navigator.clipboard.writeText(i.address),_(!0),setTimeout(()=>_(!1),2e3))},E=()=>{s(),n("/unlock")},P=A=>`${A.slice(0,12)}...${A.slice(-8)}`,T=A=>A?De.formatSLTN(A):"0.00",I=Number(T(l?.available))+Number(T(f?.staked));return d.jsxs("div",{className:"dashboard-screen",children:[d.jsxs("header",{className:"dashboard-header",children:[d.jsxs("div",{className:"account-selector",children:[d.jsx("span",{className:"account-name",children:i?.name||"Account 1"}),d.jsxs("span",{className:"account-address",onClick:R,children:[i?.address?P(i.address):"...",k&&d.jsx("span",{className:"copied-badge",children:"Copied!"})]})]}),d.jsxs("div",{className:"header-right",children:[d.jsxs("div",{className:`network-status ${w?"error":v?"loading":"connected"}`,title:g?`Block #${g.blockHeight.toLocaleString()}`:"Connecting...",children:[d.jsx("span",{className:"network-dot"}),d.jsx("span",{className:"network-name",children:"Sultan"})]}),d.jsx("button",{className:"btn-icon",onClick:E,title:"Lock Wallet",children:"ğŸ”’"})]})]}),d.jsxs("main",{className:"dashboard-main fade-in",children:[d.jsxs("div",{className:"balance-card",children:[d.jsx("span",{className:"balance-label",children:"Total Balance"}),d.jsx("h1",{className:"balance-amount",children:c||h?d.jsx("span",{className:"loading-shimmer",children:"Loading..."}):d.jsxs(d.Fragment,{children:[I.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4}),d.jsx("span",{className:"balance-currency",children:" SLTN"})]})}),d.jsxs("div",{className:"balance-breakdown",children:[d.jsxs("div",{className:"breakdown-item",children:[d.jsx("span",{children:"Available"}),d.jsxs("span",{children:[T(l?.available)," SLTN"]})]}),d.jsxs("div",{className:"breakdown-item",children:[d.jsx("span",{children:"Staked"}),d.jsxs("span",{children:[T(f?.staked)," SLTN"]})]})]})]}),d.jsxs("div",{className:"quick-actions",children:[d.jsxs("button",{className:"action-btn",onClick:()=>n("/send"),children:[d.jsx("span",{className:"action-icon",children:"â†‘"}),d.jsx("span",{children:"Send"})]}),d.jsxs("button",{className:"action-btn",onClick:()=>n("/receive"),children:[d.jsx("span",{className:"action-icon",children:"â†“"}),d.jsx("span",{children:"Receive"})]}),d.jsxs("button",{className:"action-btn",onClick:()=>n("/stake"),children:[d.jsx("span",{className:"action-icon",children:"ğŸ’"}),d.jsx("span",{children:"Stake"})]})]}),f&&f.staked!=="0"&&d.jsxs("div",{className:"staking-summary",children:[d.jsx("h3",{children:"Staking Rewards"}),d.jsxs("div",{className:"staking-info",children:[d.jsxs("div",{className:"staking-stat",children:[d.jsx("span",{className:"stat-label",children:"APY"}),d.jsx("span",{className:"stat-value accent",children:"13.33%"})]}),d.jsxs("div",{className:"staking-stat",children:[d.jsx("span",{className:"stat-label",children:"Pending Rewards"}),d.jsxs("span",{className:"stat-value",children:[T(f.pendingRewards)," SLTN"]})]})]})]}),d.jsxs("div",{className:"activity-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h3",{children:"Recent Activity"}),d.jsx("button",{className:"btn-link",onClick:()=>n("/activity"),children:"See All"})]}),y?d.jsx("div",{className:"empty-activity",children:d.jsx("div",{className:"spinner"})}):p&&p.length>0?d.jsx("div",{className:"recent-transactions",children:p.map(A=>{const F=A.from===i?.address;return d.jsxs("div",{className:"tx-preview",children:[d.jsx("span",{className:`tx-icon ${F?"sent":"received"}`,children:F?"â†‘":"â†“"}),d.jsxs("div",{className:"tx-details",children:[d.jsx("span",{className:"tx-type",children:F?"Sent":"Received"}),d.jsx("span",{className:"tx-address",children:F?A.to.slice(0,10)+"...":A.from.slice(0,10)+"..."})]}),d.jsxs("span",{className:`tx-amount ${F?"sent":"received"}`,children:[F?"-":"+",T(A.amount)," SLTN"]})]},A.hash)})}):d.jsx("div",{className:"empty-activity",children:d.jsx("p",{className:"text-muted",children:"No recent transactions"})})]})]}),d.jsxs("nav",{className:"dashboard-nav",children:[d.jsxs("button",{className:"nav-item active",children:[d.jsx("span",{className:"nav-icon",children:"ğŸ "}),d.jsx("span",{children:"Home"})]}),d.jsxs("button",{className:"nav-item",onClick:()=>n("/activity"),children:[d.jsx("span",{className:"nav-icon",children:"ğŸ“œ"}),d.jsx("span",{children:"Activity"})]}),d.jsxs("button",{className:"nav-item",onClick:()=>n("/stake"),children:[d.jsx("span",{className:"nav-icon",children:"ğŸ’"}),d.jsx("span",{children:"Stake"})]}),d.jsxs("button",{className:"nav-item",onClick:()=>n("/settings"),children:[d.jsx("span",{className:"nav-icon",children:"âš™ï¸"}),d.jsx("span",{children:"Settings"})]})]})]})}function ex(){const n=Ct(),{wallet:s,currentAccount:i}=Bt(),{data:l}=Pu(i?.address),[c,f]=S.useState("form"),[h,p]=S.useState(""),[y,g]=S.useState(""),[v,w]=S.useState(""),[k,_]=S.useState(""),[R,E]=S.useState(!1),[P,T]=S.useState(""),I=De.formatSLTN(l?.available||"0"),A=()=>{g(I)},F=()=>{_("");const W=cw(h);if(!W.valid)return _(W.error||"Invalid recipient address"),!1;const $=eu(y,I);return $.valid?!0:(_($.error||"Invalid amount"),!1)},D=()=>{F()&&f("confirm")},K=async()=>{if(!(!s||!i)){E(!0),_("");try{const W=De.parseSLTN(y),$={from:i.address,to:h,amount:W,memo:v,timestamp:Date.now()},V=await s.signTransaction($,i.index),te=await lo.broadcastTransaction({...$,signature:V,publicKey:i.publicKey});T(te.hash),f("success")}catch(W){_(W instanceof Error?W.message:"Transaction failed")}finally{E(!1)}}};return c==="success"?d.jsx("div",{className:"send-screen",children:d.jsxs("div",{className:"send-content fade-in",children:[d.jsx("div",{className:"success-icon",children:"âœ“"}),d.jsx("h2",{children:"Transaction Sent!"}),d.jsx("p",{className:"text-muted mb-lg",children:"Your transaction has been broadcast to the network"}),d.jsxs("div",{className:"tx-details",children:[d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"Amount"}),d.jsxs("span",{children:[y," SLTN"]})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"To"}),d.jsxs("span",{className:"address",children:[h.slice(0,16),"..."]})]}),P&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"TX Hash"}),d.jsxs("span",{className:"address",children:[P.slice(0,16),"..."]})]})]}),d.jsx("button",{className:"btn btn-primary mt-lg",onClick:()=>n("/dashboard"),children:"Done"})]})}):c==="confirm"?d.jsx("div",{className:"send-screen",children:d.jsxs("div",{className:"send-content fade-in",children:[d.jsx("h2",{children:"Confirm Transaction"}),d.jsxs("div",{className:"confirm-card",children:[d.jsxs("div",{className:"confirm-amount",children:[d.jsx("span",{className:"amount-value",children:y}),d.jsx("span",{className:"amount-currency",children:"SLTN"})]}),d.jsxs("div",{className:"confirm-details",children:[d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"From"}),d.jsxs("span",{className:"address",children:[i?.address.slice(0,16),"..."]})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"To"}),d.jsxs("span",{className:"address",children:[h.slice(0,16),"..."]})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"Network Fee"}),d.jsx("span",{className:"fee-zero",children:"0 SLTN (Zero Fee)"})]}),v&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{children:"Memo"}),d.jsx("span",{children:v})]})]})]}),k&&d.jsx("p",{className:"text-error mt-md",children:k}),d.jsxs("div",{className:"button-row mt-lg",children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>f("form"),disabled:R,children:"Back"}),d.jsx("button",{className:"btn btn-primary",onClick:K,disabled:R,children:R?"Sending...":"Confirm & Send"})]})]})}):d.jsxs("div",{className:"send-screen",children:[d.jsxs("header",{className:"screen-header",children:[d.jsx("button",{className:"btn-back",onClick:()=>n("/dashboard"),children:"â†"}),d.jsx("h2",{children:"Send SLTN"}),d.jsx("div",{style:{width:40}})]}),d.jsxs("div",{className:"send-content fade-in",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Recipient Address"}),d.jsx("input",{type:"text",className:"input",placeholder:"sultan1...",value:h,onChange:W=>p(W.target.value),autoComplete:"off"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"label-row",children:[d.jsx("label",{children:"Amount"}),d.jsxs("span",{className:"balance-hint",children:["Available: ",I," SLTN"]})]}),d.jsxs("div",{className:"amount-input-wrapper",children:[d.jsx("input",{type:"number",className:"input amount-input",placeholder:"0.00",value:y,onChange:W=>g(W.target.value),step:"0.000000001",min:"0"}),d.jsx("button",{className:"max-btn",onClick:A,children:"MAX"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Memo (Optional)"}),d.jsx("input",{type:"text",className:"input",placeholder:"Add a note...",value:v,onChange:W=>w(W.target.value),maxLength:256})]}),d.jsxs("div",{className:"fee-notice",children:[d.jsx("span",{className:"fee-badge",children:"ğŸ‰ Zero Fee"}),d.jsx("span",{className:"text-muted",children:"Sultan Network has no transaction fees"})]}),k&&d.jsx("p",{className:"text-error mt-md",children:k}),d.jsx("button",{className:"btn btn-primary mt-lg",onClick:D,children:"Continue"})]})]})}function tx({address:n,size:s=200}){const i=S.useRef(null);return S.useEffect(()=>{if(!n||!i.current)return;const l=i.current,c=l.getContext("2d");if(!c)return;const f=Math.floor(s/25),h=25;l.width=s,l.height=s,c.fillStyle="#FFFFFF",c.fillRect(0,0,s,s);const p=nx(n);c.fillStyle="#000000",Ml(c,0,0,f),Ml(c,(h-7)*f,0,f),Ml(c,0,(h-7)*f,f);for(let y=0;y<h;y++)for(let g=0;g<h;g++){if(rx(y,g,h))continue;const v=(y*h+g)%64;(p>>v%32&1||(y+g)%3===0)&&c.fillRect(g*f,y*f,f,f)}},[n,s]),d.jsxs("div",{className:"address-qr",children:[d.jsx("canvas",{ref:i,className:"qr-canvas"}),d.jsx("p",{className:"qr-hint",children:"Scan to receive SLTN"})]})}function nx(n){let s=0;for(let i=0;i<n.length;i++){const l=n.charCodeAt(i);s=(s<<5)-s+l,s=s&s}return Math.abs(s)}function Ml(n,s,i,l){n.fillRect(s,i,7*l,7*l),n.fillStyle="#FFFFFF",n.fillRect(s+l,i+l,5*l,5*l),n.fillStyle="#000000",n.fillRect(s+2*l,i+2*l,3*l,3*l)}function rx(n,s,i){return n<8&&s<8||n<8&&s>=i-8||n>=i-8&&s<8}function sx(){const n=Ct(),{currentAccount:s}=Bt(),[i,l]=S.useState(!1),c=async()=>{s?.address&&(await navigator.clipboard.writeText(s.address),l(!0),setTimeout(()=>l(!1),2e3))},f=async()=>{if(s?.address&&navigator.share)try{await navigator.share({title:"My Sultan Wallet Address",text:s.address})}catch{}};return d.jsxs("div",{className:"receive-screen",children:[d.jsxs("header",{className:"screen-header",children:[d.jsx("button",{className:"btn-back",onClick:()=>n("/dashboard"),children:"â†"}),d.jsx("h2",{children:"Receive SLTN"}),d.jsx("div",{style:{width:40}})]}),d.jsxs("div",{className:"receive-content fade-in",children:[d.jsxs("div",{className:"receive-card",children:[d.jsx("p",{className:"text-muted mb-lg",children:"Scan this QR code or copy the address below to receive SLTN"}),d.jsx("div",{className:"qr-container",children:d.jsx(tx,{address:s?.address||"",size:200})}),d.jsx("div",{className:"address-display",children:d.jsx("span",{className:"address-text",children:s?.address||"No address"})}),d.jsxs("div",{className:"button-row mt-lg",children:[d.jsx("button",{className:"btn btn-secondary",onClick:c,children:i?"âœ“ Copied!":"ğŸ“‹ Copy"}),"share"in navigator&&d.jsx("button",{className:"btn btn-secondary",onClick:f,children:"ğŸ“¤ Share"})]})]}),d.jsxs("div",{className:"receive-info",children:[d.jsx("h3",{children:"ğŸ“Œ Important"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Only send SLTN to this address"}),d.jsx("li",{children:"Sending other assets may result in permanent loss"}),d.jsx("li",{children:"Double-check the address before sending"})]})]})]})]})}function ix(){const n=Ct(),{wallet:s,currentAccount:i}=Bt(),{data:l}=Pu(i?.address),{data:c,refetch:f}=Up(i?.address),{data:h}=Xw(),[p,y]=S.useState("stake"),[g,v]=S.useState(""),[w,k]=S.useState(null),[_,R]=S.useState(!1),[E,P]=S.useState(""),[T,I]=S.useState(""),A=De.formatSLTN(l?.available||"0"),F=De.formatSLTN(c?.staked||"0"),D=De.formatSLTN(c?.pendingRewards||"0");S.useEffect(()=>{h&&h.length>0&&!w&&k(h[0])},[h,w]);const K=async()=>{if(!s||!i||!w)return;const V=eu(g,A);if(!V.valid){P(V.error||"Invalid amount");return}R(!0),P(""),I("");try{const te=De.parseSLTN(g),ye={type:"stake",from:i.address,validatorAddress:w.address,amount:te,timestamp:Date.now()},ie=await s.signTransaction(ye,i.index);await lo.stake({delegatorAddress:i.address,validatorAddress:w.address,amount:te,signature:ie,publicKey:i.publicKey}),I(`Successfully staked ${g} SLTN!`),v(""),f()}catch(te){P(te instanceof Error?te.message:"Staking failed")}finally{R(!1)}},W=async()=>{if(!s||!i)return;const V=eu(g,F);if(!V.valid){P(V.error||"Invalid amount");return}R(!0),P(""),I("");try{const te=De.parseSLTN(g),ye={type:"unstake",from:i.address,amount:te,timestamp:Date.now()},ie=await s.signTransaction(ye,i.index);await lo.unstake({delegatorAddress:i.address,amount:te,signature:ie,publicKey:i.publicKey}),I(`Unstaking ${g} SLTN initiated. 21-day unbonding period.`),v(""),f()}catch(te){P(te instanceof Error?te.message:"Unstaking failed")}finally{R(!1)}},$=async()=>{if(!(!s||!i)){R(!0),P("");try{const V={type:"claim_rewards",from:i.address,timestamp:Date.now()},te=await s.signTransaction(V,i.index);await lo.claimRewards({delegatorAddress:i.address,signature:te,publicKey:i.publicKey}),I("Rewards claimed successfully!"),f()}catch(V){P(V instanceof Error?V.message:"Claiming failed")}finally{R(!1)}}};return d.jsxs("div",{className:"stake-screen",children:[d.jsxs("header",{className:"screen-header",children:[d.jsx("button",{className:"btn-back",onClick:()=>n("/dashboard"),children:"â†"}),d.jsx("h2",{children:"Staking"}),d.jsx("div",{style:{width:40}})]}),d.jsxs("div",{className:"stake-content fade-in",children:[d.jsxs("div",{className:"staking-overview",children:[d.jsxs("div",{className:"overview-card",children:[d.jsx("span",{className:"overview-label",children:"APY"}),d.jsx("span",{className:"overview-value accent",children:"13.33%"})]}),d.jsxs("div",{className:"overview-card",children:[d.jsx("span",{className:"overview-label",children:"Staked"}),d.jsxs("span",{className:"overview-value",children:[F," SLTN"]})]}),d.jsxs("div",{className:"overview-card",children:[d.jsx("span",{className:"overview-label",children:"Rewards"}),d.jsxs("span",{className:"overview-value",children:[D," SLTN"]})]})]}),Number(D)>0&&d.jsxs("button",{className:"btn btn-secondary claim-btn",onClick:$,disabled:_,children:["ğŸ Claim ",D," SLTN Rewards"]}),d.jsxs("div",{className:"tab-bar",children:[d.jsx("button",{className:`tab ${p==="stake"?"active":""}`,onClick:()=>y("stake"),children:"Stake"}),d.jsx("button",{className:`tab ${p==="unstake"?"active":""}`,onClick:()=>y("unstake"),children:"Unstake"}),d.jsx("button",{className:`tab ${p==="validators"?"active":""}`,onClick:()=>y("validators"),children:"Validators"})]}),(p==="stake"||p==="unstake")&&d.jsxs("div",{className:"stake-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("div",{className:"label-row",children:[d.jsx("label",{children:"Amount"}),d.jsxs("span",{className:"balance-hint",children:[p==="stake"?`Available: ${A}`:`Staked: ${F}`," SLTN"]})]}),d.jsxs("div",{className:"amount-input-wrapper",children:[d.jsx("input",{type:"number",className:"input amount-input",placeholder:"0.00",value:g,onChange:V=>v(V.target.value),step:"0.000000001",min:"0"}),d.jsx("button",{className:"max-btn",onClick:()=>v(p==="stake"?A:F),children:"MAX"})]})]}),p==="stake"&&w&&d.jsxs("div",{className:"selected-validator",children:[d.jsx("span",{className:"text-muted",children:"Staking with:"}),d.jsx("span",{className:"validator-name",children:w.name})]}),p==="unstake"&&d.jsx("div",{className:"unstake-notice",children:"â±ï¸ 21-day unbonding period applies"}),E&&d.jsx("p",{className:"text-error mt-md",children:E}),T&&d.jsx("p",{className:"text-success mt-md",children:T}),d.jsx("button",{className:"btn btn-primary mt-lg",onClick:p==="stake"?K:W,disabled:_||!g||Number(g)<=0,children:_?"Processing...":p==="stake"?"Stake SLTN":"Unstake SLTN"})]}),p==="validators"&&d.jsxs("div",{className:"validators-list",children:[h?.map(V=>d.jsxs("div",{className:`validator-card ${w?.address===V.address?"selected":""}`,onClick:()=>{k(V),y("stake")},children:[d.jsxs("div",{className:"validator-info",children:[d.jsx("span",{className:"validator-name",children:V.name}),d.jsxs("span",{className:"validator-address",children:[V.address.slice(0,16),"..."]})]}),d.jsxs("div",{className:"validator-stats",children:[d.jsxs("div",{className:"stat",children:[d.jsx("span",{className:"stat-label",children:"Commission"}),d.jsxs("span",{className:"stat-value",children:[V.commission,"%"]})]}),d.jsxs("div",{className:"stat",children:[d.jsx("span",{className:"stat-label",children:"Staked"}),d.jsx("span",{className:"stat-value",children:De.formatSLTN(V.totalStaked)})]})]})]},V.address)),(!h||h.length===0)&&d.jsx("p",{className:"text-muted text-center",children:"No validators available"})]})]})]})}const ox="modulepreload",ax=function(n){return"/"+n},wh={},lx=function(s,i,l){let c=Promise.resolve();if(i&&i.length>0){let h=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");c=h(i.map(g=>{if(g=ax(g),g in wh)return;wh[g]=!0;const v=g.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":ox,v||(k.as="script"),k.crossOrigin="",k.href=g,y&&k.setAttribute("nonce",y),document.head.appendChild(k),v)return new Promise((_,R)=>{k.addEventListener("load",_),k.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${g}`)))})}))}function f(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return c.then(h=>{for(const p of h||[])p.status==="rejected"&&f(p.reason);return s().catch(f)})};function ux({accountName:n,onClose:s}){const[i,l]=S.useState(bu()?"disable":"intro"),[c,f]=S.useState(""),[h,p]=S.useState([]),[y,g]=S.useState(""),[v,w]=S.useState(""),[k,_]=S.useState(!1),[R,E]=S.useState(""),[P,T]=S.useState(!1);S.useEffect(()=>{if(c&&i==="scan"){const $=Hw(c,n);cx($).then(E)}},[c,n,i]);const I=()=>{const $=Vw();f($.secret),p($.backupCodes),l("scan")},A=async()=>{w(""),_(!0);try{await Ip(y)?l("backup"):(w("Invalid code. Please try again."),g(""))}catch{w("Verification failed. Please try again.")}finally{_(!1)}},F=()=>{Qw(),s()},D=()=>{const $=h.join(`
-`);navigator.clipboard.writeText($),T(!0),setTimeout(()=>T(!1),2e3)},K=()=>{const $=Is();if($){const V=_p();$.backupCodes=V,Co($),p(V)}},W=$=>$.match(/.{1,4}/g)?.join(" ")??$;return d.jsxs("div",{className:"totp-setup",children:[i==="intro"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("div",{className:"totp-icon",children:"ğŸ”"}),d.jsx("h3",{children:"Enable 2FA"}),d.jsx("p",{className:"text-muted mb-md",children:"Add an extra layer of security to your wallet using an authenticator app like Google Authenticator, Authy, or 1Password."}),d.jsxs("div",{className:"totp-benefits",children:[d.jsxs("div",{className:"benefit-item",children:[d.jsx("span",{className:"benefit-icon",children:"âœ“"}),d.jsx("span",{children:"Required at login only"})]}),d.jsxs("div",{className:"benefit-item",children:[d.jsx("span",{className:"benefit-icon",children:"âœ“"}),d.jsx("span",{children:"Works offline"})]}),d.jsxs("div",{className:"benefit-item",children:[d.jsx("span",{className:"benefit-icon",children:"âœ“"}),d.jsx("span",{children:"Backup codes provided"})]})]}),d.jsx("button",{className:"btn btn-primary",onClick:I,children:"Set Up 2FA"}),d.jsx("button",{className:"btn btn-secondary mt-sm",onClick:s,children:"Cancel"})]}),i==="scan"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("h3",{children:"Scan QR Code"}),d.jsx("p",{className:"text-muted mb-md",children:"Open your authenticator app and scan this QR code:"}),d.jsx("div",{className:"qr-container",children:R?d.jsx("img",{src:R,alt:"TOTP QR Code",className:"qr-code"}):d.jsx("div",{className:"qr-placeholder",children:d.jsx("div",{className:"spinner"})})}),d.jsxs("div",{className:"manual-entry",children:[d.jsx("p",{className:"text-muted text-sm",children:"Can't scan? Enter this code manually:"}),d.jsx("code",{className:"secret-code",children:W(c)})]}),d.jsx("button",{className:"btn btn-primary",onClick:()=>l("verify"),children:"Next: Verify Code"})]}),i==="verify"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("h3",{children:"Verify Setup"}),d.jsx("p",{className:"text-muted mb-md",children:"Enter the 6-digit code from your authenticator app:"}),d.jsx("input",{type:"text",className:"totp-input",value:y,onChange:$=>{const V=$.target.value.replace(/\D/g,"").slice(0,6);g(V)},placeholder:"000000",maxLength:6,autoFocus:!0}),v&&d.jsx("p",{className:"text-error mt-sm",children:v}),d.jsx("button",{className:"btn btn-primary mt-md",onClick:A,disabled:y.length!==6||k,children:k?"Verifying...":"Verify & Enable"}),d.jsx("button",{className:"btn btn-secondary mt-sm",onClick:()=>l("scan"),children:"Back"})]}),i==="backup"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("h3",{children:"Save Backup Codes"}),d.jsx("p",{className:"text-muted mb-md",children:"Save these codes somewhere safe. Use them to access your wallet if you lose your authenticator."}),d.jsx("div",{className:"backup-codes-grid",children:h.map(($,V)=>d.jsx("div",{className:"backup-code",children:$},V))}),d.jsx("div",{className:"backup-actions",children:d.jsx("button",{className:"btn btn-secondary",onClick:D,children:P?"âœ“ Copied!":"ğŸ“‹ Copy All"})}),d.jsx("div",{className:"warning-box mt-md",children:"âš ï¸ Each code can only be used once. Store them securely!"}),d.jsx("button",{className:"btn btn-primary mt-md",onClick:()=>l("complete"),children:"I've Saved My Codes"})]}),i==="complete"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("div",{className:"totp-icon success",children:"âœ“"}),d.jsx("h3",{children:"2FA Enabled!"}),d.jsx("p",{className:"text-muted mb-md",children:"Your wallet is now protected with two-factor authentication."}),d.jsx("p",{className:"text-muted text-sm mb-lg",children:"You'll need your authenticator code when logging in."}),d.jsx("button",{className:"btn btn-primary",onClick:s,children:"Done"})]}),i==="disable"&&d.jsxs("div",{className:"totp-step fade-in",children:[d.jsx("div",{className:"totp-icon",children:"ğŸ”"}),d.jsx("h3",{children:"2FA is Enabled"}),d.jsx("p",{className:"text-muted mb-md",children:"Two-factor authentication is currently active on your wallet."}),d.jsxs("div",{className:"totp-status",children:[d.jsxs("div",{className:"status-item",children:[d.jsx("span",{className:"status-label",children:"Status"}),d.jsx("span",{className:"status-value enabled",children:"Enabled"})]}),d.jsxs("div",{className:"status-item",children:[d.jsx("span",{className:"status-label",children:"Backup Codes"}),d.jsxs("span",{className:"status-value",children:[Is()?.backupCodes.length??0," remaining"]})]})]}),d.jsx("button",{className:"btn btn-secondary mb-sm",onClick:K,children:"Regenerate Backup Codes"}),d.jsx("button",{className:"btn btn-danger",onClick:F,children:"Disable 2FA"}),d.jsx("button",{className:"btn btn-secondary mt-sm",onClick:s,children:"Cancel"})]})]})}async function cx(n){try{return await(await lx(()=>import("./browser-OjRnDPg3.js").then(i=>i.b),[])).toDataURL(n,{width:200,margin:2,color:{dark:"#000000",light:"#ffffff"}})}catch{return dx()}}function dx(){return`data:image/svg+xml;base64,${btoa(`
-    <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200">
-      <rect width="200" height="200" fill="#ffffff"/>
-      <rect x="20" y="20" width="160" height="160" fill="none" stroke="#00d4aa" stroke-width="4" stroke-dasharray="10,5"/>
-      <text x="100" y="90" text-anchor="middle" font-family="system-ui" font-size="14" fill="#666">
-        Scan with
-      </text>
-      <text x="100" y="110" text-anchor="middle" font-family="system-ui" font-size="14" fill="#666">
-        Authenticator App
-      </text>
-      <text x="100" y="140" text-anchor="middle" font-family="system-ui" font-size="11" fill="#999">
-        or enter code manually
-      </text>
-    </svg>
-  `)}`}function fx(){const n=Ct(),{lock:s,deriveNewAccount:i,accounts:l,currentAccount:c,switchAccount:f}=Bt(),{theme:h,setTheme:p}=Rw(),[y,g]=S.useState("none"),[v,w]=S.useState(!1),[k,_]=S.useState(""),[R,E]=S.useState(""),[P,T]=S.useState(!1),[I,A]=S.useState(""),[,F]=S.useState(0),D=bu(),K=()=>{w(!0),g("backup")},W=()=>{g("none"),F(ie=>ie+1)},$=async ie=>{try{const Te=await gh.getMnemonic(ie);Te&&(_(Te),w(!1))}catch{}},V=async()=>{if(R==="DELETE"){T(!0);try{await gh.deleteWallet(),s(),n("/")}catch(ie){console.error("Failed to delete wallet:",ie)}finally{T(!1)}}},te=async()=>{I.trim()&&(await i(I.trim()),A(""),g("none"))},ye=()=>{s(),n("/unlock")};return d.jsxs("div",{className:"settings-screen",children:[d.jsxs("header",{className:"screen-header",children:[d.jsx("button",{className:"btn-back",onClick:()=>n("/dashboard"),children:"â†"}),d.jsx("h2",{children:"Settings"}),d.jsx("div",{style:{width:40}})]}),d.jsxs("div",{className:"settings-content fade-in",children:[d.jsxs("div",{className:"settings-section",children:[d.jsx("h3",{children:"Account"}),d.jsxs("div",{className:"setting-item",onClick:()=>g("accounts"),children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Manage Accounts"}),d.jsxs("span",{className:"setting-value",children:[l?.length||1," account(s)"]})]}),d.jsx("span",{className:"setting-arrow",children:"â†’"})]})]}),d.jsxs("div",{className:"settings-section",children:[d.jsx("h3",{children:"Appearance"}),d.jsxs("div",{className:"setting-item theme-selector",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Theme"}),d.jsx("span",{className:"setting-hint",children:"Choose your preferred appearance"})]}),d.jsxs("div",{className:"theme-options",children:[d.jsx("button",{className:`theme-btn ${h==="light"?"active":""}`,onClick:()=>p("light"),title:"Light",children:"â˜€ï¸"}),d.jsx("button",{className:`theme-btn ${h==="dark"?"active":""}`,onClick:()=>p("dark"),title:"Dark",children:"ğŸŒ™"}),d.jsx("button",{className:`theme-btn ${h==="system"?"active":""}`,onClick:()=>p("system"),title:"System",children:"ğŸ’»"})]})]})]}),d.jsxs("div",{className:"settings-section",children:[d.jsx("h3",{children:"Security"}),d.jsxs("div",{className:"setting-item",onClick:()=>g("totp"),children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Two-Factor Authentication"}),d.jsx("span",{className:"setting-hint",children:D?"Enabled - authenticator required at login":"Add extra security to your wallet"})]}),d.jsx("span",{className:`setting-badge ${D?"enabled":""}`,children:D?"âœ“ On":"Off"})]}),d.jsxs("div",{className:"setting-item",onClick:K,children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Backup Recovery Phrase"}),d.jsx("span",{className:"setting-hint",children:"View your 24-word phrase"})]}),d.jsx("span",{className:"setting-arrow",children:"â†’"})]}),d.jsxs("div",{className:"setting-item",onClick:ye,children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Lock Wallet"}),d.jsx("span",{className:"setting-hint",children:"Require PIN to access"})]}),d.jsx("span",{className:"setting-arrow",children:"ğŸ”’"})]}),d.jsxs("div",{className:"setting-item info",children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Auto-Lock"}),d.jsx("span",{className:"setting-hint",children:"Wallet locks after 5 minutes of inactivity"})]}),d.jsx("span",{className:"setting-value",children:"5 min"})]})]}),d.jsxs("div",{className:"settings-section",children:[d.jsx("h3",{children:"About"}),d.jsx("div",{className:"setting-item",children:d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Version"}),d.jsx("span",{className:"setting-value",children:"1.0.0"})]})}),d.jsx("div",{className:"setting-item",children:d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Network"}),d.jsx("span",{className:"setting-value",children:"Sultan Mainnet"})]})})]}),d.jsxs("div",{className:"settings-section danger-section",children:[d.jsx("h3",{children:"Danger Zone"}),d.jsxs("div",{className:"setting-item danger",onClick:()=>g("delete"),children:[d.jsxs("div",{className:"setting-info",children:[d.jsx("span",{className:"setting-label",children:"Delete Wallet"}),d.jsx("span",{className:"setting-hint",children:"Remove wallet from this device"})]}),d.jsx("span",{className:"setting-arrow",children:"âš ï¸"})]})]})]}),y==="backup"&&d.jsx("div",{className:"modal-overlay",onClick:()=>g("none"),children:d.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[d.jsx("h3",{children:"Backup Recovery Phrase"}),v?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-muted mb-lg",children:"Enter your PIN to view"}),d.jsx(Lr,{length:6,onComplete:$})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"warning-box mb-md",children:"âš ï¸ Never share your recovery phrase with anyone!"}),d.jsx(Tp,{mnemonic:k}),d.jsx("button",{className:"btn btn-secondary mt-lg",onClick:()=>{_(""),g("none")},children:"Done"})]})]})}),y==="delete"&&d.jsx("div",{className:"modal-overlay",onClick:()=>g("none"),children:d.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[d.jsx("h3",{className:"text-error",children:"Delete Wallet"}),d.jsx("p",{className:"text-muted mb-md",children:"This will permanently remove your wallet from this device. Make sure you have backed up your recovery phrase."}),d.jsxs("p",{className:"mb-md",children:["Type ",d.jsx("strong",{children:"DELETE"})," to confirm:"]}),d.jsx("input",{type:"text",className:"input mb-md",value:R,onChange:ie=>E(ie.target.value),placeholder:"Type DELETE"}),d.jsxs("div",{className:"button-row",children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>g("none"),children:"Cancel"}),d.jsx("button",{className:"btn btn-danger",onClick:V,disabled:R!=="DELETE"||P,children:P?"Deleting...":"Delete Wallet"})]})]})}),y==="accounts"&&d.jsx("div",{className:"modal-overlay",onClick:()=>g("none"),children:d.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[d.jsx("h3",{children:"Manage Accounts"}),d.jsx("div",{className:"accounts-list",children:l?.map(ie=>d.jsxs("div",{className:`account-item ${c?.address===ie.address?"active":""}`,onClick:()=>{f(ie.index),g("none")},children:[d.jsxs("div",{className:"account-info",children:[d.jsx("span",{className:"account-name",children:ie.name}),d.jsxs("span",{className:"account-address",children:[ie.address.slice(0,16),"..."]})]}),c?.address===ie.address&&d.jsx("span",{className:"active-badge",children:"Active"})]},ie.address))}),d.jsxs("div",{className:"add-account-form mt-lg",children:[d.jsx("input",{type:"text",className:"input",value:I,onChange:ie=>A(ie.target.value),placeholder:"New account name",maxLength:32}),d.jsx("button",{className:"btn btn-primary mt-sm",onClick:te,disabled:!I.trim(),children:"+ Add Account"})]}),d.jsx("button",{className:"btn btn-secondary mt-md",onClick:()=>g("none"),children:"Close"})]})}),y==="totp"&&d.jsx("div",{className:"modal-overlay",onClick:W,children:d.jsx("div",{className:"modal-content modal-lg",onClick:ie=>ie.stopPropagation(),children:d.jsx(ux,{accountName:c?.address?.slice(0,16)||"Sultan Wallet",onClose:W})})})]})}function hx(){const n=Ct(),{currentAccount:s}=Bt(),{data:i,isLoading:l,error:c,refetch:f}=Bp(s?.address),[h,p]=S.useState("all"),y=w=>{const k=new Date(w),R=new Date().getTime()-k.getTime();if(R<864e5){const E=Math.floor(R/36e5);if(E===0){const P=Math.floor(R/6e4);return P<=1?"Just now":`${P} mins ago`}return E===1?"1 hour ago":`${E} hours ago`}if(R<6048e5){const E=Math.floor(R/864e5);return E===1?"Yesterday":`${E} days ago`}return k.toLocaleDateString()},g=i?.filter(w=>h==="all"?!0:h==="sent"?w.from===s?.address:h==="received"?w.to===s?.address:!0)||[],v=w=>`${w.slice(0,10)}...${w.slice(-6)}`;return d.jsxs("div",{className:"activity-screen",children:[d.jsxs("header",{className:"screen-header",children:[d.jsx("button",{className:"btn-back",onClick:()=>n("/dashboard"),children:"â†"}),d.jsx("h2",{children:"Activity"}),d.jsx("button",{className:"btn-icon",onClick:()=>f(),children:"â†»"})]}),d.jsxs("div",{className:"activity-filters",children:[d.jsx("button",{className:`filter-btn ${h==="all"?"active":""}`,onClick:()=>p("all"),children:"All"}),d.jsx("button",{className:`filter-btn ${h==="sent"?"active":""}`,onClick:()=>p("sent"),children:"Sent"}),d.jsx("button",{className:`filter-btn ${h==="received"?"active":""}`,onClick:()=>p("received"),children:"Received"})]}),d.jsx("div",{className:"activity-list fade-in",children:l?d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Loading transactions..."})]}):c?d.jsxs("div",{className:"error-state",children:[d.jsx("p",{children:"Failed to load transactions"}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>f(),children:"Try Again"})]}):g.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:"ğŸ“œ"}),d.jsx("p",{children:"No transactions yet"}),d.jsx("p",{className:"text-muted",children:"Your transaction history will appear here"})]}):g.map(w=>{const k=w.from===s?.address,_=De.formatSLTN(w.amount);return d.jsxs("div",{className:"tx-item",children:[d.jsx("div",{className:`tx-icon ${k?"sent":"received"}`,children:k?"â†‘":"â†“"}),d.jsxs("div",{className:"tx-details",children:[d.jsxs("div",{className:"tx-primary",children:[d.jsx("span",{className:"tx-type",children:k?"Sent":"Received"}),d.jsxs("span",{className:`tx-amount ${k?"sent":"received"}`,children:[k?"-":"+",_," SLTN"]})]}),d.jsxs("div",{className:"tx-secondary",children:[d.jsx("span",{className:"tx-address",children:k?`To: ${v(w.to)}`:`From: ${v(w.from)}`}),d.jsx("span",{className:"tx-time",children:y(w.timestamp)})]})]}),d.jsxs("div",{className:`tx-status ${w.status}`,children:[w.status==="confirmed"&&"âœ“",w.status==="pending"&&"â³",w.status==="failed"&&"âœ—"]})]},w.hash)})})]})}function px(){const{isInitialized:n,isLocked:s,isLoading:i}=Bt();return i?d.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:d.jsx("div",{className:"spinner"})}):d.jsxs(Ug,{children:[d.jsx(gt,{path:"/",element:n?s?d.jsx(Yt,{to:"/unlock",replace:!0}):d.jsx(Yt,{to:"/dashboard",replace:!0}):d.jsx(Tw,{})}),d.jsx(gt,{path:"/create",element:d.jsx(Aw,{})}),d.jsx(gt,{path:"/import",element:d.jsx(Lw,{})}),d.jsx(gt,{path:"/unlock",element:d.jsx(Gw,{})}),d.jsx(gt,{path:"/dashboard",element:n&&!s?d.jsx(Jw,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"/send",element:n&&!s?d.jsx(ex,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"/receive",element:n&&!s?d.jsx(sx,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"/stake",element:n&&!s?d.jsx(ix,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"/settings",element:n&&!s?d.jsx(fx,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"/activity",element:n&&!s?d.jsx(hx,{}):d.jsx(Yt,{to:"/",replace:!0})}),d.jsx(gt,{path:"*",element:d.jsx(Yt,{to:"/",replace:!0})})]})}const mx={"default-src":["'self'"],"script-src":["'self'"],"style-src":["'self'","'unsafe-inline'"],"img-src":["'self'","data:","blob:"],"font-src":["'self'"],"connect-src":["'self'","https://rpc.sltn.io","https://api.sltn.io","https://*.app.github.dev","wss://*.app.github.dev"],"frame-src":["'none'"],"frame-ancestors":["'none'"],"form-action":["'self'"],"base-uri":["'self'"],"object-src":["'none'"],"upgrade-insecure-requests":[]};function yx(){return Object.entries(mx).map(([n,s])=>s.length===0?n:`${n} ${s.join(" ")}`).join("; ")}yx();function gx(){const n=[];if(window.location.hostname.endsWith(".app.github.dev"))return{passed:!0,warnings:["Development mode - security checks skipped"]};window.isSecureContext||n.push("CRITICAL: Not running in secure context (HTTPS required)"),(!crypto||!crypto.subtle)&&n.push("CRITICAL: Web Crypto API not available"),indexedDB||n.push("CRITICAL: IndexedDB not available"),window.self!==window.top&&n.push("WARNING: Running inside an iframe - potential clickjacking risk");const s=/./;return s.toString=function(){return n.push("WARNING: Developer tools detected"),"devtools"},{passed:n.filter(i=>i.startsWith("CRITICAL")).length===0,warnings:n}}function vx(){document.addEventListener("contextmenu",n=>{n.preventDefault()}),setInterval(()=>{console.clear()},3e4)}const xh=gx();if(!xh.passed)throw console.error("Security checks failed:",xh.warnings),document.body.innerHTML=`
-      <div style="display:flex;align-items:center;justify-content:center;height:100vh;background:#1a1a2e;color:#fff;font-family:sans-serif;text-align:center;padding:20px;">
-        <div>
-          <h1>Security Error</h1>
-          <p>Sultan Wallet requires a secure environment (HTTPS) to operate.</p>
-          <p>Please access this wallet via https://wallet.sltn.io</p>
-        </div>
-      </div>
-    `,new Error("Security requirements not met");vx();const wx=new Hv({defaultOptions:{queries:{staleTime:1e4,retry:2}}});qy.createRoot(document.getElementById("root")).render(d.jsx(By.StrictMode,{children:d.jsx(Pw,{children:d.jsx(Wv,{client:wx,children:d.jsx(Ew,{children:d.jsx(uv,{children:d.jsx(px,{})})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});export{kh as g};
diff --git a/wallet-extension/dist/index.html b/wallet-extension/dist/index.html
index a49468d2..cd6f83cf 100644
--- a/wallet-extension/dist/index.html
+++ b/wallet-extension/dist/index.html
@@ -30,8 +30,8 @@
     <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
     <link rel="manifest" href="/manifest.webmanifest" />
     <title>Sultan Wallet</title>
-    <script type="module" crossorigin src="/assets/index-CN6WsqyE.js"></script>
-    <link rel="stylesheet" crossorigin href="/assets/index-BxHAb2uV.css">
+    <script type="module" crossorigin src="/assets/index-CnNWDSbk.js"></script>
+    <link rel="stylesheet" crossorigin href="/assets/index-DI-keiVh.css">
   <link rel="manifest" href="/manifest.webmanifest"><script id="vite-plugin-pwa:register-sw" src="/registerSW.js"></script></head>
   <body>
     <div id="root"></div>
diff --git a/wallet-extension/dist/pwa-192x192.svg b/wallet-extension/dist/pwa-192x192.svg
index e70453df..d82315af 100644
--- a/wallet-extension/dist/pwa-192x192.svg
+++ b/wallet-extension/dist/pwa-192x192.svg
@@ -5,6 +5,8 @@
       <stop offset="100%" style="stop-color:#00e5cc;stop-opacity:1" />
     </linearGradient>
   </defs>
-  <circle cx="96" cy="96" r="90" fill="url(#sultanGradient)"/>
-  <text x="96" y="120" text-anchor="middle" font-size="100" font-weight="bold" fill="#000000" font-family="Arial, sans-serif">S</text>
+  <!-- Background circle -->
+  <circle cx="96" cy="96" r="90" fill="#0a0a0f"/>
+  <!-- Sultan Crown Logo -->
+  <path d="M30 135 L30 75 L58 105 L96 45 L134 105 L162 75 L162 135 L96 165 Z" fill="none" stroke="url(#sultanGradient)" stroke-width="10" stroke-linejoin="miter"/>
 </svg>
diff --git a/wallet-extension/dist/pwa-512x512.svg b/wallet-extension/dist/pwa-512x512.svg
index b3c6e8b3..8427bbbf 100644
--- a/wallet-extension/dist/pwa-512x512.svg
+++ b/wallet-extension/dist/pwa-512x512.svg
@@ -5,6 +5,8 @@
       <stop offset="100%" style="stop-color:#00e5cc;stop-opacity:1" />
     </linearGradient>
   </defs>
-  <circle cx="256" cy="256" r="240" fill="url(#sultanGradient)"/>
-  <text x="256" y="320" text-anchor="middle" font-size="260" font-weight="bold" fill="#000000" font-family="Arial, sans-serif">S</text>
+  <!-- Background circle -->
+  <circle cx="256" cy="256" r="240" fill="#0a0a0f"/>
+  <!-- Sultan Crown Logo -->
+  <path d="M76 360 L76 200 L156 280 L256 120 L356 280 L436 200 L436 360 L256 440 Z" fill="none" stroke="url(#sultanGradient)" stroke-width="28" stroke-linejoin="miter"/>
 </svg>
diff --git a/wallet-extension/dist/sultan-logo-dark.png b/wallet-extension/dist/sultan-logo-dark.png
new file mode 100644
index 00000000..55a332a2
Binary files /dev/null and b/wallet-extension/dist/sultan-logo-dark.png differ
diff --git a/wallet-extension/dist/sultan-logo-light.png b/wallet-extension/dist/sultan-logo-light.png
new file mode 100644
index 00000000..518d84bc
Binary files /dev/null and b/wallet-extension/dist/sultan-logo-light.png differ
diff --git a/wallet-extension/dist/sw.js b/wallet-extension/dist/sw.js
index 0f92a54a..e195239d 100644
--- a/wallet-extension/dist/sw.js
+++ b/wallet-extension/dist/sw.js
@@ -1 +1 @@
-if(!self.define){let e,s={};const i=(i,n)=>(i=new URL(i+".js",n).href,s[i]||new Promise(s=>{if("document"in self){const e=document.createElement("script");e.src=i,e.onload=s,document.head.appendChild(e)}else e=i,importScripts(i),s()}).then(()=>{let e=s[i];if(!e)throw new Error(`Module ${i} didnâ€™t register its module`);return e}));self.define=(n,r)=>{const c=e||("document"in self?document.currentScript.src:"")||location.href;if(s[c])return;let t={};const o=e=>i(e,c),l={module:{uri:c},exports:t,require:o};s[c]=Promise.all(n.map(e=>l[e]||o(e))).then(e=>(r(...e),t))}}define(["./workbox-3896e580"],function(e){"use strict";self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:"registerSW.js",revision:"1872c500de691dce40960bb85481de07"},{url:"pwa-512x512.svg",revision:"41a95ccdbe63923f65934c98014cbd35"},{url:"pwa-192x192.svg",revision:"7d781284618a6fb4f3277f32f27a6604"},{url:"index.html",revision:"cfba28ab2ec6c27984a641195c545ebc"},{url:"assets/index-CN6WsqyE.js",revision:null},{url:"assets/index-BxHAb2uV.css",revision:null},{url:"assets/browser-OjRnDPg3.js",revision:null},{url:"pwa-192x192.svg",revision:"7d781284618a6fb4f3277f32f27a6604"},{url:"pwa-512x512.svg",revision:"41a95ccdbe63923f65934c98014cbd35"},{url:"manifest.webmanifest",revision:"ba105cafb33fe3e365221c1e7b098c1c"}],{}),e.cleanupOutdatedCaches(),e.registerRoute(new e.NavigationRoute(e.createHandlerBoundToURL("index.html"))),e.registerRoute(/^https:\/\/rpc\.sltn\.io\/.*/i,new e.NetworkFirst({cacheName:"sultan-rpc-cache",plugins:[new e.ExpirationPlugin({maxEntries:50,maxAgeSeconds:60}),new e.CacheableResponsePlugin({statuses:[0,200]})]}),"GET")});
+if(!self.define){let e,s={};const i=(i,n)=>(i=new URL(i+".js",n).href,s[i]||new Promise(s=>{if("document"in self){const e=document.createElement("script");e.src=i,e.onload=s,document.head.appendChild(e)}else e=i,importScripts(i),s()}).then(()=>{let e=s[i];if(!e)throw new Error(`Module ${i} didnâ€™t register its module`);return e}));self.define=(n,r)=>{const t=e||("document"in self?document.currentScript.src:"")||location.href;if(s[t])return;let o={};const c=e=>i(e,t),l={module:{uri:t},exports:o,require:c};s[t]=Promise.all(n.map(e=>l[e]||c(e))).then(e=>(r(...e),o))}}define(["./workbox-3896e580"],function(e){"use strict";self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:"sultan-logo-light.png",revision:"3aefd4afd6c4b8e76134721d0ea75687"},{url:"sultan-logo-dark.png",revision:"5d3bf165e94f8e6b8633c6283053d0e2"},{url:"registerSW.js",revision:"1872c500de691dce40960bb85481de07"},{url:"pwa-512x512.svg",revision:"32e2e7abb756719e99b188ba4306786f"},{url:"pwa-192x192.svg",revision:"7d6dec66bbeacd7afd96d45b4ccf02a8"},{url:"index.html",revision:"d727d225acbfe50ba264c286f0963e04"},{url:"assets/index-DI-keiVh.css",revision:null},{url:"assets/index-CnNWDSbk.js",revision:null},{url:"assets/browser-DpIOQwkc.js",revision:null},{url:"pwa-192x192.svg",revision:"7d6dec66bbeacd7afd96d45b4ccf02a8"},{url:"pwa-512x512.svg",revision:"32e2e7abb756719e99b188ba4306786f"},{url:"manifest.webmanifest",revision:"ba105cafb33fe3e365221c1e7b098c1c"}],{}),e.cleanupOutdatedCaches(),e.registerRoute(new e.NavigationRoute(e.createHandlerBoundToURL("index.html"))),e.registerRoute(/^https:\/\/rpc\.sltn\.io\/.*/i,new e.NetworkFirst({cacheName:"sultan-rpc-cache",plugins:[new e.ExpirationPlugin({maxEntries:50,maxAgeSeconds:60}),new e.CacheableResponsePlugin({statuses:[0,200]})]}),"GET")});
diff --git a/wallet-extension/package-lock.json b/wallet-extension/package-lock.json
index 615728e1..87d294af 100644
--- a/wallet-extension/package-lock.json
+++ b/wallet-extension/package-lock.json
@@ -19,11 +19,15 @@
         "react-router-dom": "^7.1.0"
       },
       "devDependencies": {
+        "@testing-library/jest-dom": "^6.9.1",
+        "@testing-library/react": "^16.3.1",
         "@types/node": "^25.0.2",
         "@types/qrcode": "^1.5.6",
         "@types/react": "^18.3.18",
         "@types/react-dom": "^18.3.5",
         "@vitejs/plugin-react": "^4.3.4",
+        "@vitest/coverage-v8": "^2.1.9",
+        "jsdom": "^27.3.0",
         "typescript": "~5.6.2",
         "vite": "^6.0.5",
         "vite-plugin-pwa": "^0.21.1",
@@ -31,6 +35,31 @@
         "workbox-window": "^7.3.0"
       }
     },
+    "node_modules/@acemir/cssom": {
+      "version": "0.9.29",
+      "resolved": "https://registry.npmjs.org/@acemir/cssom/-/cssom-0.9.29.tgz",
+      "integrity": "sha512-G90x0VW+9nW4dFajtjCoT+NM0scAfH9Mb08IcjgFHYbfiL/lU04dTF9JuVOi3/OH+DJCQdcIseSXkdCB9Ky6JA==",
+      "dev": true
+    },
+    "node_modules/@adobe/css-tools": {
+      "version": "4.4.4",
+      "resolved": "https://registry.npmjs.org/@adobe/css-tools/-/css-tools-4.4.4.tgz",
+      "integrity": "sha512-Elp+iwUx5rN5+Y8xLt5/GRoG20WGoDCQ/1Fb+1LiGtvwbDavuSk0jhD/eZdckHAuzcDzccnkv+rEjyWfRx18gg==",
+      "dev": true
+    },
+    "node_modules/@ampproject/remapping": {
+      "version": "2.3.0",
+      "resolved": "https://registry.npmjs.org/@ampproject/remapping/-/remapping-2.3.0.tgz",
+      "integrity": "sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==",
+      "dev": true,
+      "dependencies": {
+        "@jridgewell/gen-mapping": "^0.3.5",
+        "@jridgewell/trace-mapping": "^0.3.24"
+      },
+      "engines": {
+        "node": ">=6.0.0"
+      }
+    },
     "node_modules/@apideck/better-ajv-errors": {
       "version": "0.3.6",
       "resolved": "https://registry.npmjs.org/@apideck/better-ajv-errors/-/better-ajv-errors-0.3.6.tgz",
@@ -48,6 +77,56 @@
         "ajv": ">=8"
       }
     },
+    "node_modules/@asamuzakjp/css-color": {
+      "version": "4.1.1",
+      "resolved": "https://registry.npmjs.org/@asamuzakjp/css-color/-/css-color-4.1.1.tgz",
+      "integrity": "sha512-B0Hv6G3gWGMn0xKJ0txEi/jM5iFpT3MfDxmhZFb4W047GvytCf1DHQ1D69W3zHI4yWe2aTZAA0JnbMZ7Xc8DuQ==",
+      "dev": true,
+      "dependencies": {
+        "@csstools/css-calc": "^2.1.4",
+        "@csstools/css-color-parser": "^3.1.0",
+        "@csstools/css-parser-algorithms": "^3.0.5",
+        "@csstools/css-tokenizer": "^3.0.4",
+        "lru-cache": "^11.2.4"
+      }
+    },
+    "node_modules/@asamuzakjp/css-color/node_modules/lru-cache": {
+      "version": "11.2.4",
+      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-11.2.4.tgz",
+      "integrity": "sha512-B5Y16Jr9LB9dHVkh6ZevG+vAbOsNOYCX+sXvFWFu7B3Iz5mijW3zdbMyhsh8ANd2mSWBYdJgnqi+mL7/LrOPYg==",
+      "dev": true,
+      "engines": {
+        "node": "20 || >=22"
+      }
+    },
+    "node_modules/@asamuzakjp/dom-selector": {
+      "version": "6.7.6",
+      "resolved": "https://registry.npmjs.org/@asamuzakjp/dom-selector/-/dom-selector-6.7.6.tgz",
+      "integrity": "sha512-hBaJER6A9MpdG3WgdlOolHmbOYvSk46y7IQN/1+iqiCuUu6iWdQrs9DGKF8ocqsEqWujWf/V7b7vaDgiUmIvUg==",
+      "dev": true,
+      "dependencies": {
+        "@asamuzakjp/nwsapi": "^2.3.9",
+        "bidi-js": "^1.0.3",
+        "css-tree": "^3.1.0",
+        "is-potential-custom-element-name": "^1.0.1",
+        "lru-cache": "^11.2.4"
+      }
+    },
+    "node_modules/@asamuzakjp/dom-selector/node_modules/lru-cache": {
+      "version": "11.2.4",
+      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-11.2.4.tgz",
+      "integrity": "sha512-B5Y16Jr9LB9dHVkh6ZevG+vAbOsNOYCX+sXvFWFu7B3Iz5mijW3zdbMyhsh8ANd2mSWBYdJgnqi+mL7/LrOPYg==",
+      "dev": true,
+      "engines": {
+        "node": "20 || >=22"
+      }
+    },
+    "node_modules/@asamuzakjp/nwsapi": {
+      "version": "2.3.9",
+      "resolved": "https://registry.npmjs.org/@asamuzakjp/nwsapi/-/nwsapi-2.3.9.tgz",
+      "integrity": "sha512-n8GuYSrI9bF7FFZ/SjhwevlHc8xaVlb/7HmHelnc/PZXBD2ZR49NnN9sMMuDdEGPeeRQ5d0hqlSlEpgCX3Wl0Q==",
+      "dev": true
+    },
     "node_modules/@babel/code-frame": {
       "version": "7.27.1",
       "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
@@ -1512,6 +1591,141 @@
         "node": ">=6.9.0"
       }
     },
+    "node_modules/@bcoe/v8-coverage": {
+      "version": "0.2.3",
+      "resolved": "https://registry.npmjs.org/@bcoe/v8-coverage/-/v8-coverage-0.2.3.tgz",
+      "integrity": "sha512-0hYQ8SB4Db5zvZB4axdMHGwEaQjkZzFjQiN9LVYvIFB2nSUHW9tYpxWriPrWDASIxiaXax83REcLxuSdnGPZtw==",
+      "dev": true
+    },
+    "node_modules/@csstools/color-helpers": {
+      "version": "5.1.0",
+      "resolved": "https://registry.npmjs.org/@csstools/color-helpers/-/color-helpers-5.1.0.tgz",
+      "integrity": "sha512-S11EXWJyy0Mz5SYvRmY8nJYTFFd1LCNV+7cXyAgQtOOuzb4EsgfqDufL+9esx72/eLhsRdGZwaldu/h+E4t4BA==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/@csstools/css-calc": {
+      "version": "2.1.4",
+      "resolved": "https://registry.npmjs.org/@csstools/css-calc/-/css-calc-2.1.4.tgz",
+      "integrity": "sha512-3N8oaj+0juUw/1H3YwmDDJXCgTB1gKU6Hc/bB502u9zR0q2vd786XJH9QfrKIEgFlZmhZiq6epXl4rHqhzsIgQ==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "engines": {
+        "node": ">=18"
+      },
+      "peerDependencies": {
+        "@csstools/css-parser-algorithms": "^3.0.5",
+        "@csstools/css-tokenizer": "^3.0.4"
+      }
+    },
+    "node_modules/@csstools/css-color-parser": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/@csstools/css-color-parser/-/css-color-parser-3.1.0.tgz",
+      "integrity": "sha512-nbtKwh3a6xNVIp/VRuXV64yTKnb1IjTAEEh3irzS+HkKjAOYLTGNb9pmVNntZ8iVBHcWDA2Dof0QtPgFI1BaTA==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "dependencies": {
+        "@csstools/color-helpers": "^5.1.0",
+        "@csstools/css-calc": "^2.1.4"
+      },
+      "engines": {
+        "node": ">=18"
+      },
+      "peerDependencies": {
+        "@csstools/css-parser-algorithms": "^3.0.5",
+        "@csstools/css-tokenizer": "^3.0.4"
+      }
+    },
+    "node_modules/@csstools/css-parser-algorithms": {
+      "version": "3.0.5",
+      "resolved": "https://registry.npmjs.org/@csstools/css-parser-algorithms/-/css-parser-algorithms-3.0.5.tgz",
+      "integrity": "sha512-DaDeUkXZKjdGhgYaHNJTV9pV7Y9B3b644jCLs9Upc3VeNGg6LWARAT6O+Q+/COo+2gg/bM5rhpMAtf70WqfBdQ==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "engines": {
+        "node": ">=18"
+      },
+      "peerDependencies": {
+        "@csstools/css-tokenizer": "^3.0.4"
+      }
+    },
+    "node_modules/@csstools/css-syntax-patches-for-csstree": {
+      "version": "1.0.21",
+      "resolved": "https://registry.npmjs.org/@csstools/css-syntax-patches-for-csstree/-/css-syntax-patches-for-csstree-1.0.21.tgz",
+      "integrity": "sha512-plP8N8zKfEZ26figX4Nvajx8DuzfuRpLTqglQ5d0chfnt35Qt3X+m6ASZ+rG0D0kxe/upDVNwSIVJP5n4FuNfw==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/@csstools/css-tokenizer": {
+      "version": "3.0.4",
+      "resolved": "https://registry.npmjs.org/@csstools/css-tokenizer/-/css-tokenizer-3.0.4.tgz",
+      "integrity": "sha512-Vd/9EVDiu6PPJt9yAh6roZP6El1xHrdvIVGjyBsHR0RYwNHgL7FJPyIIW4fANJNG6FtyZfvlRPpFI4ZM/lubvw==",
+      "dev": true,
+      "funding": [
+        {
+          "type": "github",
+          "url": "https://github.com/sponsors/csstools"
+        },
+        {
+          "type": "opencollective",
+          "url": "https://opencollective.com/csstools"
+        }
+      ],
+      "engines": {
+        "node": ">=18"
+      }
+    },
     "node_modules/@esbuild/aix-ppc64": {
       "version": "0.25.12",
       "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.12.tgz",
@@ -1966,6 +2180,15 @@
         "node": ">=12"
       }
     },
+    "node_modules/@istanbuljs/schema": {
+      "version": "0.1.3",
+      "resolved": "https://registry.npmjs.org/@istanbuljs/schema/-/schema-0.1.3.tgz",
+      "integrity": "sha512-ZXRY4jNvVgSVQ8DL3LTcakaAtXwTVUxE81hslsyD2AtoXW/wVob10HkOJ1X/pAlcI7D+2YoZKg5do8G/w6RYgA==",
+      "dev": true,
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/@jridgewell/gen-mapping": {
       "version": "0.3.13",
       "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
@@ -2040,6 +2263,16 @@
         "url": "https://paulmillr.com/funding/"
       }
     },
+    "node_modules/@pkgjs/parseargs": {
+      "version": "0.11.0",
+      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
+      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
+      "dev": true,
+      "optional": true,
+      "engines": {
+        "node": ">=14"
+      }
+    },
     "node_modules/@rolldown/pluginutils": {
       "version": "1.0.0-beta.27",
       "resolved": "https://registry.npmjs.org/@rolldown/pluginutils/-/pluginutils-1.0.0-beta.27.tgz",
@@ -2465,6 +2698,85 @@
         "react": "^18 || ^19"
       }
     },
+    "node_modules/@testing-library/dom": {
+      "version": "10.4.1",
+      "resolved": "https://registry.npmjs.org/@testing-library/dom/-/dom-10.4.1.tgz",
+      "integrity": "sha512-o4PXJQidqJl82ckFaXUeoAW+XysPLauYI43Abki5hABd853iMhitooc6znOnczgbTYmEP6U6/y1ZyKAIsvMKGg==",
+      "dev": true,
+      "peer": true,
+      "dependencies": {
+        "@babel/code-frame": "^7.10.4",
+        "@babel/runtime": "^7.12.5",
+        "@types/aria-query": "^5.0.1",
+        "aria-query": "5.3.0",
+        "dom-accessibility-api": "^0.5.9",
+        "lz-string": "^1.5.0",
+        "picocolors": "1.1.1",
+        "pretty-format": "^27.0.2"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/@testing-library/jest-dom": {
+      "version": "6.9.1",
+      "resolved": "https://registry.npmjs.org/@testing-library/jest-dom/-/jest-dom-6.9.1.tgz",
+      "integrity": "sha512-zIcONa+hVtVSSep9UT3jZ5rizo2BsxgyDYU7WFD5eICBE7no3881HGeb/QkGfsJs6JTkY1aQhT7rIPC7e+0nnA==",
+      "dev": true,
+      "dependencies": {
+        "@adobe/css-tools": "^4.4.0",
+        "aria-query": "^5.0.0",
+        "css.escape": "^1.5.1",
+        "dom-accessibility-api": "^0.6.3",
+        "picocolors": "^1.1.1",
+        "redent": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=14",
+        "npm": ">=6",
+        "yarn": ">=1"
+      }
+    },
+    "node_modules/@testing-library/jest-dom/node_modules/dom-accessibility-api": {
+      "version": "0.6.3",
+      "resolved": "https://registry.npmjs.org/dom-accessibility-api/-/dom-accessibility-api-0.6.3.tgz",
+      "integrity": "sha512-7ZgogeTnjuHbo+ct10G9Ffp0mif17idi0IyWNVA/wcwcm7NPOD/WEHVP3n7n3MhXqxoIYm8d6MuZohYWIZ4T3w==",
+      "dev": true
+    },
+    "node_modules/@testing-library/react": {
+      "version": "16.3.1",
+      "resolved": "https://registry.npmjs.org/@testing-library/react/-/react-16.3.1.tgz",
+      "integrity": "sha512-gr4KtAWqIOQoucWYD/f6ki+j5chXfcPc74Col/6poTyqTmn7zRmodWahWRCp8tYd+GMqBonw6hstNzqjbs6gjw==",
+      "dev": true,
+      "dependencies": {
+        "@babel/runtime": "^7.12.5"
+      },
+      "engines": {
+        "node": ">=18"
+      },
+      "peerDependencies": {
+        "@testing-library/dom": "^10.0.0",
+        "@types/react": "^18.0.0 || ^19.0.0",
+        "@types/react-dom": "^18.0.0 || ^19.0.0",
+        "react": "^18.0.0 || ^19.0.0",
+        "react-dom": "^18.0.0 || ^19.0.0"
+      },
+      "peerDependenciesMeta": {
+        "@types/react": {
+          "optional": true
+        },
+        "@types/react-dom": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@types/aria-query": {
+      "version": "5.0.4",
+      "resolved": "https://registry.npmjs.org/@types/aria-query/-/aria-query-5.0.4.tgz",
+      "integrity": "sha512-rfT93uj5s0PRL7EzccGMs3brplhcrghnDoV26NqKhCAS1hVo+WdNsPvE/yb6ilfr5hi2MEk6d5EWJTKdxg8jVw==",
+      "dev": true,
+      "peer": true
+    },
     "node_modules/@types/babel__core": {
       "version": "7.20.5",
       "resolved": "https://registry.npmjs.org/@types/babel__core/-/babel__core-7.20.5.tgz",
@@ -2587,6 +2899,38 @@
         "vite": "^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0"
       }
     },
+    "node_modules/@vitest/coverage-v8": {
+      "version": "2.1.9",
+      "resolved": "https://registry.npmjs.org/@vitest/coverage-v8/-/coverage-v8-2.1.9.tgz",
+      "integrity": "sha512-Z2cOr0ksM00MpEfyVE8KXIYPEcBFxdbLSs56L8PO0QQMxt/6bDj45uQfxoc96v05KW3clk7vvgP0qfDit9DmfQ==",
+      "dev": true,
+      "dependencies": {
+        "@ampproject/remapping": "^2.3.0",
+        "@bcoe/v8-coverage": "^0.2.3",
+        "debug": "^4.3.7",
+        "istanbul-lib-coverage": "^3.2.2",
+        "istanbul-lib-report": "^3.0.1",
+        "istanbul-lib-source-maps": "^5.0.6",
+        "istanbul-reports": "^3.1.7",
+        "magic-string": "^0.30.12",
+        "magicast": "^0.3.5",
+        "std-env": "^3.8.0",
+        "test-exclude": "^7.0.1",
+        "tinyrainbow": "^1.2.0"
+      },
+      "funding": {
+        "url": "https://opencollective.com/vitest"
+      },
+      "peerDependencies": {
+        "@vitest/browser": "2.1.9",
+        "vitest": "2.1.9"
+      },
+      "peerDependenciesMeta": {
+        "@vitest/browser": {
+          "optional": true
+        }
+      }
+    },
     "node_modules/@vitest/expect": {
       "version": "2.1.9",
       "resolved": "https://registry.npmjs.org/@vitest/expect/-/expect-2.1.9.tgz",
@@ -2679,6 +3023,15 @@
         "node": ">=0.4.0"
       }
     },
+    "node_modules/agent-base": {
+      "version": "7.1.4",
+      "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
+      "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
+      "dev": true,
+      "engines": {
+        "node": ">= 14"
+      }
+    },
     "node_modules/ajv": {
       "version": "8.17.1",
       "resolved": "https://registry.npmjs.org/ajv/-/ajv-8.17.1.tgz",
@@ -2719,6 +3072,15 @@
         "url": "https://github.com/chalk/ansi-styles?sponsor=1"
       }
     },
+    "node_modules/aria-query": {
+      "version": "5.3.0",
+      "resolved": "https://registry.npmjs.org/aria-query/-/aria-query-5.3.0.tgz",
+      "integrity": "sha512-b0P0sZPKtyu8HkeRAfCq0IfURZK+SuwMjY1UXGBU27wpAiTwQAIlq56IbIO+ytk/JjS1fMR14ee5WBBfKi5J6A==",
+      "dev": true,
+      "dependencies": {
+        "dequal": "^2.0.3"
+      }
+    },
     "node_modules/array-buffer-byte-length": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/array-buffer-byte-length/-/array-buffer-byte-length-1.0.2.tgz",
@@ -2863,6 +3225,15 @@
       "resolved": "https://registry.npmjs.org/bech32/-/bech32-2.0.0.tgz",
       "integrity": "sha512-LcknSilhIGatDAsY1ak2I8VtGaHNhgMSYVxFrGLXv+xLHytaKZKcaUJJUE7qmBr7h33o5YQwP55pMI0xmkpJwg=="
     },
+    "node_modules/bidi-js": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/bidi-js/-/bidi-js-1.0.3.tgz",
+      "integrity": "sha512-RKshQI1R3YQ+n9YJz2QQ147P66ELpa1FQEg20Dk8oW9t2KgLbpDLLp9aGZ7y8WHSshDknG0bknqGw5/tyCs5tw==",
+      "dev": true,
+      "dependencies": {
+        "require-from-string": "^2.0.2"
+      }
+    },
     "node_modules/brace-expansion": {
       "version": "2.0.2",
       "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
@@ -3179,12 +3550,92 @@
         "node": ">=8"
       }
     },
+    "node_modules/css-tree": {
+      "version": "3.1.0",
+      "resolved": "https://registry.npmjs.org/css-tree/-/css-tree-3.1.0.tgz",
+      "integrity": "sha512-0eW44TGN5SQXU1mWSkKwFstI/22X2bG1nYzZTYMAWjylYURhse752YgbE4Cx46AC+bAvI+/dYTPRk1LqSUnu6w==",
+      "dev": true,
+      "dependencies": {
+        "mdn-data": "2.12.2",
+        "source-map-js": "^1.0.1"
+      },
+      "engines": {
+        "node": "^10 || ^12.20.0 || ^14.13.0 || >=15.0.0"
+      }
+    },
+    "node_modules/css.escape": {
+      "version": "1.5.1",
+      "resolved": "https://registry.npmjs.org/css.escape/-/css.escape-1.5.1.tgz",
+      "integrity": "sha512-YUifsXXuknHlUsmlgyY0PKzgPOr7/FjCePfHNt0jxm83wHZi44VDMQ7/fGNkjY3/jV1MC+1CmZbaHzugyeRtpg==",
+      "dev": true
+    },
+    "node_modules/cssstyle": {
+      "version": "5.3.5",
+      "resolved": "https://registry.npmjs.org/cssstyle/-/cssstyle-5.3.5.tgz",
+      "integrity": "sha512-GlsEptulso7Jg0VaOZ8BXQi3AkYM5BOJKEO/rjMidSCq70FkIC5y0eawrCXeYzxgt3OCf4Ls+eoxN+/05vN0Ag==",
+      "dev": true,
+      "dependencies": {
+        "@asamuzakjp/css-color": "^4.1.1",
+        "@csstools/css-syntax-patches-for-csstree": "^1.0.21",
+        "css-tree": "^3.1.0"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
     "node_modules/csstype": {
       "version": "3.2.3",
       "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
       "integrity": "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ==",
       "dev": true
     },
+    "node_modules/data-urls": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/data-urls/-/data-urls-6.0.0.tgz",
+      "integrity": "sha512-BnBS08aLUM+DKamupXs3w2tJJoqU+AkaE/+6vQxi/G/DPmIZFJJp9Dkb1kM03AZx8ADehDUZgsNxju3mPXZYIA==",
+      "dev": true,
+      "dependencies": {
+        "whatwg-mimetype": "^4.0.0",
+        "whatwg-url": "^15.0.0"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
+    "node_modules/data-urls/node_modules/tr46": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/tr46/-/tr46-6.0.0.tgz",
+      "integrity": "sha512-bLVMLPtstlZ4iMQHpFHTR7GAGj2jxi8Dg0s2h2MafAE4uSWF98FC/3MomU51iQAMf8/qDUbKWf5GxuvvVcXEhw==",
+      "dev": true,
+      "dependencies": {
+        "punycode": "^2.3.1"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
+    "node_modules/data-urls/node_modules/webidl-conversions": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-8.0.0.tgz",
+      "integrity": "sha512-n4W4YFyz5JzOfQeA8oN7dUYpR+MBP3PIUsn2jLjWXwK5ASUzt0Jc/A5sAUZoCYFJRGF0FBKJ+1JjN43rNdsQzA==",
+      "dev": true,
+      "engines": {
+        "node": ">=20"
+      }
+    },
+    "node_modules/data-urls/node_modules/whatwg-url": {
+      "version": "15.1.0",
+      "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-15.1.0.tgz",
+      "integrity": "sha512-2ytDk0kiEj/yu90JOAp44PVPUkO9+jVhyf+SybKlRHSDlvOOZhdPIrr7xTH64l4WixO2cP+wQIcgujkGBPPz6g==",
+      "dev": true,
+      "dependencies": {
+        "tr46": "^6.0.0",
+        "webidl-conversions": "^8.0.0"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
     "node_modules/data-view-buffer": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/data-view-buffer/-/data-view-buffer-1.0.2.tgz",
@@ -3261,6 +3712,12 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/decimal.js": {
+      "version": "10.6.0",
+      "resolved": "https://registry.npmjs.org/decimal.js/-/decimal.js-10.6.0.tgz",
+      "integrity": "sha512-YpgQiITW3JXGntzdUmyUR1V812Hn8T1YVXhCu+wO3OpS4eU9l4YdD3qjyiKdV6mvV29zapkMeD390UVEf2lkUg==",
+      "dev": true
+    },
     "node_modules/deep-eql": {
       "version": "5.0.2",
       "resolved": "https://registry.npmjs.org/deep-eql/-/deep-eql-5.0.2.tgz",
@@ -3313,11 +3770,27 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/dequal": {
+      "version": "2.0.3",
+      "resolved": "https://registry.npmjs.org/dequal/-/dequal-2.0.3.tgz",
+      "integrity": "sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==",
+      "dev": true,
+      "engines": {
+        "node": ">=6"
+      }
+    },
     "node_modules/dijkstrajs": {
       "version": "1.0.3",
       "resolved": "https://registry.npmjs.org/dijkstrajs/-/dijkstrajs-1.0.3.tgz",
       "integrity": "sha512-qiSlmBq9+BCdCA/L46dw8Uy93mloxsPSbwnm5yrKn2vMPiy8KyAskTF6zuV/j5BMsmOGZDPs7KjU+mjb670kfA=="
     },
+    "node_modules/dom-accessibility-api": {
+      "version": "0.5.16",
+      "resolved": "https://registry.npmjs.org/dom-accessibility-api/-/dom-accessibility-api-0.5.16.tgz",
+      "integrity": "sha512-X7BJ2yElsnOJ30pZF4uIIDfBEVgF4XEBxL9Bxhy6dnrm5hkzqmsWHGTiHqRiITNhMyFLyAiWndIJP7Z1NTteDg==",
+      "dev": true,
+      "peer": true
+    },
     "node_modules/dunder-proto": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
@@ -3365,6 +3838,18 @@
       "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
       "dev": true
     },
+    "node_modules/entities": {
+      "version": "6.0.1",
+      "resolved": "https://registry.npmjs.org/entities/-/entities-6.0.1.tgz",
+      "integrity": "sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g==",
+      "dev": true,
+      "engines": {
+        "node": ">=0.12"
+      },
+      "funding": {
+        "url": "https://github.com/fb55/entities?sponsor=1"
+      }
+    },
     "node_modules/es-abstract": {
       "version": "1.24.1",
       "resolved": "https://registry.npmjs.org/es-abstract/-/es-abstract-1.24.1.tgz",
@@ -3906,6 +4391,15 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/has-flag": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
+      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
+      "dev": true,
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/has-property-descriptors": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz",
@@ -3972,12 +4466,77 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/html-encoding-sniffer": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/html-encoding-sniffer/-/html-encoding-sniffer-4.0.0.tgz",
+      "integrity": "sha512-Y22oTqIU4uuPgEemfz7NDJz6OeKf12Lsu+QC+s3BVpda64lTiMYCyGwg5ki4vFxkMwQdeZDl2adZoqUgdFuTgQ==",
+      "dev": true,
+      "dependencies": {
+        "whatwg-encoding": "^3.1.1"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/html-escaper": {
+      "version": "2.0.2",
+      "resolved": "https://registry.npmjs.org/html-escaper/-/html-escaper-2.0.2.tgz",
+      "integrity": "sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==",
+      "dev": true
+    },
+    "node_modules/http-proxy-agent": {
+      "version": "7.0.2",
+      "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-7.0.2.tgz",
+      "integrity": "sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==",
+      "dev": true,
+      "dependencies": {
+        "agent-base": "^7.1.0",
+        "debug": "^4.3.4"
+      },
+      "engines": {
+        "node": ">= 14"
+      }
+    },
+    "node_modules/https-proxy-agent": {
+      "version": "7.0.6",
+      "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
+      "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
+      "dev": true,
+      "dependencies": {
+        "agent-base": "^7.1.2",
+        "debug": "4"
+      },
+      "engines": {
+        "node": ">= 14"
+      }
+    },
+    "node_modules/iconv-lite": {
+      "version": "0.6.3",
+      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz",
+      "integrity": "sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==",
+      "dev": true,
+      "dependencies": {
+        "safer-buffer": ">= 2.1.2 < 3.0.0"
+      },
+      "engines": {
+        "node": ">=0.10.0"
+      }
+    },
     "node_modules/idb": {
       "version": "7.1.1",
       "resolved": "https://registry.npmjs.org/idb/-/idb-7.1.1.tgz",
       "integrity": "sha512-gchesWBzyvGHRO9W8tzUWFDycow5gwjvFKfyV9FF32Y7F50yZMp7mP+T2mJIWFx49zicqyC4uefHM17o6xKIVQ==",
       "dev": true
     },
+    "node_modules/indent-string": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/indent-string/-/indent-string-4.0.0.tgz",
+      "integrity": "sha512-EdDDZu4A2OyIK7Lr/2zG+w5jmbuk1DVBnEwREQvBzspBJkCEbRa8GxU1lghYcaGJCnRWibjDXlq779X1/y5xwg==",
+      "dev": true,
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/internal-slot": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/internal-slot/-/internal-slot-1.1.0.tgz",
@@ -4216,6 +4775,12 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/is-potential-custom-element-name": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/is-potential-custom-element-name/-/is-potential-custom-element-name-1.0.1.tgz",
+      "integrity": "sha512-bCYeRA2rVibKZd+s2625gGnGF/t7DSqDs4dP7CrLA1m7jKWz6pps0LpYLJN8Q64HtmPKJ1hrN3nzPNKFEKOUiQ==",
+      "dev": true
+    },
     "node_modules/is-regex": {
       "version": "1.2.1",
       "resolved": "https://registry.npmjs.org/is-regex/-/is-regex-1.2.1.tgz",
@@ -4367,24 +4932,74 @@
         "get-intrinsic": "^1.2.6"
       },
       "engines": {
-        "node": ">= 0.4"
-      },
-      "funding": {
-        "url": "https://github.com/sponsors/ljharb"
+        "node": ">= 0.4"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/ljharb"
+      }
+    },
+    "node_modules/isarray": {
+      "version": "2.0.5",
+      "resolved": "https://registry.npmjs.org/isarray/-/isarray-2.0.5.tgz",
+      "integrity": "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==",
+      "dev": true
+    },
+    "node_modules/isexe": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
+      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
+      "dev": true
+    },
+    "node_modules/istanbul-lib-coverage": {
+      "version": "3.2.2",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-coverage/-/istanbul-lib-coverage-3.2.2.tgz",
+      "integrity": "sha512-O8dpsF+r0WV/8MNRKfnmrtCWhuKjxrq2w+jpzBL5UZKTi2LeVWnWOmWRxFlesJONmc+wLAGvKQZEOanko0LFTg==",
+      "dev": true,
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/istanbul-lib-report": {
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-report/-/istanbul-lib-report-3.0.1.tgz",
+      "integrity": "sha512-GCfE1mtsHGOELCU8e/Z7YWzpmybrx/+dSTfLrvY8qRmaY6zXTKWn6WQIjaAFw069icm6GVMNkgu0NzI4iPZUNw==",
+      "dev": true,
+      "dependencies": {
+        "istanbul-lib-coverage": "^3.0.0",
+        "make-dir": "^4.0.0",
+        "supports-color": "^7.1.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/istanbul-lib-source-maps": {
+      "version": "5.0.6",
+      "resolved": "https://registry.npmjs.org/istanbul-lib-source-maps/-/istanbul-lib-source-maps-5.0.6.tgz",
+      "integrity": "sha512-yg2d+Em4KizZC5niWhQaIomgf5WlL4vOOjZ5xGCmF8SnPE/mDWWXgvRExdcpCgh9lLRRa1/fSYp2ymmbJ1pI+A==",
+      "dev": true,
+      "dependencies": {
+        "@jridgewell/trace-mapping": "^0.3.23",
+        "debug": "^4.1.1",
+        "istanbul-lib-coverage": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
+    "node_modules/istanbul-reports": {
+      "version": "3.2.0",
+      "resolved": "https://registry.npmjs.org/istanbul-reports/-/istanbul-reports-3.2.0.tgz",
+      "integrity": "sha512-HGYWWS/ehqTV3xN10i23tkPkpH46MLCIMFNCaaKNavAXTF1RkqxawEPtnjnGZ6XKSInBKkiOA5BKS+aZiY3AvA==",
+      "dev": true,
+      "dependencies": {
+        "html-escaper": "^2.0.0",
+        "istanbul-lib-report": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=8"
       }
     },
-    "node_modules/isarray": {
-      "version": "2.0.5",
-      "resolved": "https://registry.npmjs.org/isarray/-/isarray-2.0.5.tgz",
-      "integrity": "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==",
-      "dev": true
-    },
-    "node_modules/isexe": {
-      "version": "2.0.0",
-      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
-      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
-      "dev": true
-    },
     "node_modules/jackspeak": {
       "version": "4.1.1",
       "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-4.1.1.tgz",
@@ -4422,6 +5037,79 @@
       "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
       "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ=="
     },
+    "node_modules/jsdom": {
+      "version": "27.3.0",
+      "resolved": "https://registry.npmjs.org/jsdom/-/jsdom-27.3.0.tgz",
+      "integrity": "sha512-GtldT42B8+jefDUC4yUKAvsaOrH7PDHmZxZXNgF2xMmymjUbRYJvpAybZAKEmXDGTM0mCsz8duOa4vTm5AY2Kg==",
+      "dev": true,
+      "dependencies": {
+        "@acemir/cssom": "^0.9.28",
+        "@asamuzakjp/dom-selector": "^6.7.6",
+        "cssstyle": "^5.3.4",
+        "data-urls": "^6.0.0",
+        "decimal.js": "^10.6.0",
+        "html-encoding-sniffer": "^4.0.0",
+        "http-proxy-agent": "^7.0.2",
+        "https-proxy-agent": "^7.0.6",
+        "is-potential-custom-element-name": "^1.0.1",
+        "parse5": "^8.0.0",
+        "saxes": "^6.0.0",
+        "symbol-tree": "^3.2.4",
+        "tough-cookie": "^6.0.0",
+        "w3c-xmlserializer": "^5.0.0",
+        "webidl-conversions": "^8.0.0",
+        "whatwg-encoding": "^3.1.1",
+        "whatwg-mimetype": "^4.0.0",
+        "whatwg-url": "^15.1.0",
+        "ws": "^8.18.3",
+        "xml-name-validator": "^5.0.0"
+      },
+      "engines": {
+        "node": "^20.19.0 || ^22.12.0 || >=24.0.0"
+      },
+      "peerDependencies": {
+        "canvas": "^3.0.0"
+      },
+      "peerDependenciesMeta": {
+        "canvas": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/jsdom/node_modules/tr46": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/tr46/-/tr46-6.0.0.tgz",
+      "integrity": "sha512-bLVMLPtstlZ4iMQHpFHTR7GAGj2jxi8Dg0s2h2MafAE4uSWF98FC/3MomU51iQAMf8/qDUbKWf5GxuvvVcXEhw==",
+      "dev": true,
+      "dependencies": {
+        "punycode": "^2.3.1"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
+    "node_modules/jsdom/node_modules/webidl-conversions": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-8.0.0.tgz",
+      "integrity": "sha512-n4W4YFyz5JzOfQeA8oN7dUYpR+MBP3PIUsn2jLjWXwK5ASUzt0Jc/A5sAUZoCYFJRGF0FBKJ+1JjN43rNdsQzA==",
+      "dev": true,
+      "engines": {
+        "node": ">=20"
+      }
+    },
+    "node_modules/jsdom/node_modules/whatwg-url": {
+      "version": "15.1.0",
+      "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-15.1.0.tgz",
+      "integrity": "sha512-2ytDk0kiEj/yu90JOAp44PVPUkO9+jVhyf+SybKlRHSDlvOOZhdPIrr7xTH64l4WixO2cP+wQIcgujkGBPPz6g==",
+      "dev": true,
+      "dependencies": {
+        "tr46": "^6.0.0",
+        "webidl-conversions": "^8.0.0"
+      },
+      "engines": {
+        "node": ">=20"
+      }
+    },
     "node_modules/jsesc": {
       "version": "3.1.0",
       "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
@@ -4543,6 +5231,16 @@
         "yallist": "^3.0.2"
       }
     },
+    "node_modules/lz-string": {
+      "version": "1.5.0",
+      "resolved": "https://registry.npmjs.org/lz-string/-/lz-string-1.5.0.tgz",
+      "integrity": "sha512-h5bgJWpxJNswbU7qCrV0tIKQCaS3blPDrqKWx+QxzuzL1zGUzij9XCWLrSLsJPu5t+eWA/ycetzYAO5IOMcWAQ==",
+      "dev": true,
+      "peer": true,
+      "bin": {
+        "lz-string": "bin/bin.js"
+      }
+    },
     "node_modules/magic-string": {
       "version": "0.30.21",
       "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
@@ -4552,6 +5250,44 @@
         "@jridgewell/sourcemap-codec": "^1.5.5"
       }
     },
+    "node_modules/magicast": {
+      "version": "0.3.5",
+      "resolved": "https://registry.npmjs.org/magicast/-/magicast-0.3.5.tgz",
+      "integrity": "sha512-L0WhttDl+2BOsybvEOLK7fW3UA0OQ0IQ2d6Zl2x/a6vVRs3bAY0ECOSHHeL5jD+SbOpOCUEi0y1DgHEn9Qn1AQ==",
+      "dev": true,
+      "dependencies": {
+        "@babel/parser": "^7.25.4",
+        "@babel/types": "^7.25.4",
+        "source-map-js": "^1.2.0"
+      }
+    },
+    "node_modules/make-dir": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/make-dir/-/make-dir-4.0.0.tgz",
+      "integrity": "sha512-hXdUTZYIVOt1Ex//jAQi+wTZZpUpwBj/0QsOzqegb3rGMMeJiSEu5xLHnYfBrRV4RH2+OCSOO95Is/7x1WJ4bw==",
+      "dev": true,
+      "dependencies": {
+        "semver": "^7.5.3"
+      },
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/sindresorhus"
+      }
+    },
+    "node_modules/make-dir/node_modules/semver": {
+      "version": "7.7.3",
+      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.3.tgz",
+      "integrity": "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==",
+      "dev": true,
+      "bin": {
+        "semver": "bin/semver.js"
+      },
+      "engines": {
+        "node": ">=10"
+      }
+    },
     "node_modules/math-intrinsics": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
@@ -4561,6 +5297,21 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/mdn-data": {
+      "version": "2.12.2",
+      "resolved": "https://registry.npmjs.org/mdn-data/-/mdn-data-2.12.2.tgz",
+      "integrity": "sha512-IEn+pegP1aManZuckezWCO+XZQDplx1366JoVhTpMpBB1sPey/SbveZQUosKiKiGYjg1wH4pMlNgXbCiYgihQA==",
+      "dev": true
+    },
+    "node_modules/min-indent": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/min-indent/-/min-indent-1.0.1.tgz",
+      "integrity": "sha512-I9jwMn07Sy/IwOj3zVkVik2JTvgpaykDZEigL6Rx6N9LbMywwUSMtxET+7lVoDLLd3O3IXwJwvuuns8UB/HeAg==",
+      "dev": true,
+      "engines": {
+        "node": ">=4"
+      }
+    },
     "node_modules/minimatch": {
       "version": "10.1.1",
       "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-10.1.1.tgz",
@@ -4712,6 +5463,18 @@
       "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
       "dev": true
     },
+    "node_modules/parse5": {
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/parse5/-/parse5-8.0.0.tgz",
+      "integrity": "sha512-9m4m5GSgXjL4AjumKzq1Fgfp3Z8rsvjRNbnkVwfu2ImRqE5D0LnY2QfDen18FSY9C573YU5XxSapdHZTZ2WolA==",
+      "dev": true,
+      "dependencies": {
+        "entities": "^6.0.0"
+      },
+      "funding": {
+        "url": "https://github.com/inikulin/parse5?sponsor=1"
+      }
+    },
     "node_modules/path-exists": {
       "version": "4.0.0",
       "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
@@ -4850,6 +5613,44 @@
         "url": "https://github.com/sponsors/sindresorhus"
       }
     },
+    "node_modules/pretty-format": {
+      "version": "27.5.1",
+      "resolved": "https://registry.npmjs.org/pretty-format/-/pretty-format-27.5.1.tgz",
+      "integrity": "sha512-Qb1gy5OrP5+zDf2Bvnzdl3jsTf1qXVMazbvCoKhtKqVs4/YK4ozX4gKQJJVyNe+cajNPn0KoC0MC3FUmaHWEmQ==",
+      "dev": true,
+      "peer": true,
+      "dependencies": {
+        "ansi-regex": "^5.0.1",
+        "ansi-styles": "^5.0.0",
+        "react-is": "^17.0.1"
+      },
+      "engines": {
+        "node": "^10.13.0 || ^12.13.0 || ^14.15.0 || >=15.0.0"
+      }
+    },
+    "node_modules/pretty-format/node_modules/ansi-regex": {
+      "version": "5.0.1",
+      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
+      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
+      "dev": true,
+      "peer": true,
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/pretty-format/node_modules/ansi-styles": {
+      "version": "5.2.0",
+      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-5.2.0.tgz",
+      "integrity": "sha512-Cxwpt2SfTzTtXcfOlzGEee8O+c+MmUgGrNiBcXnuWxuFJHe6a5Hz7qwhwe5OgaSYI0IJvkLqWX1ASG+cJOkEiA==",
+      "dev": true,
+      "peer": true,
+      "engines": {
+        "node": ">=10"
+      },
+      "funding": {
+        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
+      }
+    },
     "node_modules/punycode": {
       "version": "2.3.1",
       "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
@@ -4907,6 +5708,13 @@
         "react": "^18.3.1"
       }
     },
+    "node_modules/react-is": {
+      "version": "17.0.2",
+      "resolved": "https://registry.npmjs.org/react-is/-/react-is-17.0.2.tgz",
+      "integrity": "sha512-w2GsyukL62IJnlaff/nRegPQR94C/XXamvMWmSHRJ4y7Ts/4ocGRmTHvOs8PSE6pB3dWOrD/nueuU5sduBsQ4w==",
+      "dev": true,
+      "peer": true
+    },
     "node_modules/react-refresh": {
       "version": "0.17.0",
       "resolved": "https://registry.npmjs.org/react-refresh/-/react-refresh-0.17.0.tgz",
@@ -4952,6 +5760,19 @@
         "react-dom": ">=18"
       }
     },
+    "node_modules/redent": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/redent/-/redent-3.0.0.tgz",
+      "integrity": "sha512-6tDA8g98We0zd0GvVeMT9arEOnTw9qM03L9cJXaCjrip1OO764RDBLBfrB4cwzNGDj5OA5ioymC9GkizgWJDUg==",
+      "dev": true,
+      "dependencies": {
+        "indent-string": "^4.0.0",
+        "strip-indent": "^3.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/reflect.getprototypeof": {
       "version": "1.0.10",
       "resolved": "https://registry.npmjs.org/reflect.getprototypeof/-/reflect.getprototypeof-1.0.10.tgz",
@@ -5202,6 +6023,24 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/safer-buffer": {
+      "version": "2.1.2",
+      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
+      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
+      "dev": true
+    },
+    "node_modules/saxes": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/saxes/-/saxes-6.0.0.tgz",
+      "integrity": "sha512-xAg7SOnEhrm5zI3puOOKyy1OMcMlIJZYNJY7xLBwSze0UjhPLnWfj2GF2EpT0jmzaJKIWKHLsaSSajf35bcYnA==",
+      "dev": true,
+      "dependencies": {
+        "xmlchars": "^2.2.0"
+      },
+      "engines": {
+        "node": ">=v12.22.7"
+      }
+    },
     "node_modules/scheduler": {
       "version": "0.23.2",
       "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz",
@@ -5676,6 +6515,30 @@
         "node": ">=10"
       }
     },
+    "node_modules/strip-indent": {
+      "version": "3.0.0",
+      "resolved": "https://registry.npmjs.org/strip-indent/-/strip-indent-3.0.0.tgz",
+      "integrity": "sha512-laJTa3Jb+VQpaC6DseHhF7dXVqHTfJPCRDaEbid/drOhgitgYku/letMUqOXFoWV0zIIUbjpdH2t+tYj4bQMRQ==",
+      "dev": true,
+      "dependencies": {
+        "min-indent": "^1.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
+    "node_modules/supports-color": {
+      "version": "7.2.0",
+      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
+      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
+      "dev": true,
+      "dependencies": {
+        "has-flag": "^4.0.0"
+      },
+      "engines": {
+        "node": ">=8"
+      }
+    },
     "node_modules/supports-preserve-symlinks-flag": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
@@ -5688,6 +6551,12 @@
         "url": "https://github.com/sponsors/ljharb"
       }
     },
+    "node_modules/symbol-tree": {
+      "version": "3.2.4",
+      "resolved": "https://registry.npmjs.org/symbol-tree/-/symbol-tree-3.2.4.tgz",
+      "integrity": "sha512-9QNk5KwDF+Bvz+PyObkmSYjI5ksVUYtjW7AU22r2NKcfLJcXp96hkDWU3+XndOsUb+AQ9QhfzfCT2O+CNWT5Tw==",
+      "dev": true
+    },
     "node_modules/temp-dir": {
       "version": "2.0.0",
       "resolved": "https://registry.npmjs.org/temp-dir/-/temp-dir-2.0.0.tgz",
@@ -5733,6 +6602,92 @@
         "node": ">=10"
       }
     },
+    "node_modules/test-exclude": {
+      "version": "7.0.1",
+      "resolved": "https://registry.npmjs.org/test-exclude/-/test-exclude-7.0.1.tgz",
+      "integrity": "sha512-pFYqmTw68LXVjeWJMST4+borgQP2AyMNbg1BpZh9LbyhUeNkeaPF9gzfPGUAnSMV3qPYdWUwDIjjCLiSDOl7vg==",
+      "dev": true,
+      "dependencies": {
+        "@istanbuljs/schema": "^0.1.2",
+        "glob": "^10.4.1",
+        "minimatch": "^9.0.4"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/test-exclude/node_modules/glob": {
+      "version": "10.5.0",
+      "resolved": "https://registry.npmjs.org/glob/-/glob-10.5.0.tgz",
+      "integrity": "sha512-DfXN8DfhJ7NH3Oe7cFmu3NCu1wKbkReJ8TorzSAFbSKrlNaQSKfIzqYqVY8zlbs2NLBbWpRiU52GX2PbaBVNkg==",
+      "dev": true,
+      "dependencies": {
+        "foreground-child": "^3.1.0",
+        "jackspeak": "^3.1.2",
+        "minimatch": "^9.0.4",
+        "minipass": "^7.1.2",
+        "package-json-from-dist": "^1.0.0",
+        "path-scurry": "^1.11.1"
+      },
+      "bin": {
+        "glob": "dist/esm/bin.mjs"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
+    "node_modules/test-exclude/node_modules/jackspeak": {
+      "version": "3.4.3",
+      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
+      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
+      "dev": true,
+      "dependencies": {
+        "@isaacs/cliui": "^8.0.2"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      },
+      "optionalDependencies": {
+        "@pkgjs/parseargs": "^0.11.0"
+      }
+    },
+    "node_modules/test-exclude/node_modules/lru-cache": {
+      "version": "10.4.3",
+      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
+      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
+      "dev": true
+    },
+    "node_modules/test-exclude/node_modules/minimatch": {
+      "version": "9.0.5",
+      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
+      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
+      "dev": true,
+      "dependencies": {
+        "brace-expansion": "^2.0.1"
+      },
+      "engines": {
+        "node": ">=16 || 14 >=14.17"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
+    "node_modules/test-exclude/node_modules/path-scurry": {
+      "version": "1.11.1",
+      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
+      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
+      "dev": true,
+      "dependencies": {
+        "lru-cache": "^10.2.0",
+        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
+      },
+      "engines": {
+        "node": ">=16 || 14 >=14.18"
+      },
+      "funding": {
+        "url": "https://github.com/sponsors/isaacs"
+      }
+    },
     "node_modules/tinybench": {
       "version": "2.9.0",
       "resolved": "https://registry.npmjs.org/tinybench/-/tinybench-2.9.0.tgz",
@@ -5788,6 +6743,36 @@
         "node": ">=14.0.0"
       }
     },
+    "node_modules/tldts": {
+      "version": "7.0.19",
+      "resolved": "https://registry.npmjs.org/tldts/-/tldts-7.0.19.tgz",
+      "integrity": "sha512-8PWx8tvC4jDB39BQw1m4x8y5MH1BcQ5xHeL2n7UVFulMPH/3Q0uiamahFJ3lXA0zO2SUyRXuVVbWSDmstlt9YA==",
+      "dev": true,
+      "dependencies": {
+        "tldts-core": "^7.0.19"
+      },
+      "bin": {
+        "tldts": "bin/cli.js"
+      }
+    },
+    "node_modules/tldts-core": {
+      "version": "7.0.19",
+      "resolved": "https://registry.npmjs.org/tldts-core/-/tldts-core-7.0.19.tgz",
+      "integrity": "sha512-lJX2dEWx0SGH4O6p+7FPwYmJ/bu1JbcGJ8RLaG9b7liIgZ85itUVEPbMtWRVrde/0fnDPEPHW10ZsKW3kVsE9A==",
+      "dev": true
+    },
+    "node_modules/tough-cookie": {
+      "version": "6.0.0",
+      "resolved": "https://registry.npmjs.org/tough-cookie/-/tough-cookie-6.0.0.tgz",
+      "integrity": "sha512-kXuRi1mtaKMrsLUxz3sQYvVl37B0Ns6MzfrtV5DvJceE9bPyspOqk9xxv7XbZWcfLWbFmm997vl83qUWVJA64w==",
+      "dev": true,
+      "dependencies": {
+        "tldts": "^7.0.5"
+      },
+      "engines": {
+        "node": ">=16"
+      }
+    },
     "node_modules/tr46": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/tr46/-/tr46-1.0.1.tgz",
@@ -7177,12 +8162,45 @@
         }
       }
     },
+    "node_modules/w3c-xmlserializer": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/w3c-xmlserializer/-/w3c-xmlserializer-5.0.0.tgz",
+      "integrity": "sha512-o8qghlI8NZHU1lLPrpi2+Uq7abh4GGPpYANlalzWxyWteJOCsr/P+oPBA49TOLu5FTZO4d3F9MnWJfiMo4BkmA==",
+      "dev": true,
+      "dependencies": {
+        "xml-name-validator": "^5.0.0"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
     "node_modules/webidl-conversions": {
       "version": "4.0.2",
       "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-4.0.2.tgz",
       "integrity": "sha512-YQ+BmxuTgd6UXZW3+ICGfyqRyHXVlD5GtQr5+qjiNW7bF0cqrzX500HVXPBOvgXb5YnzDd+h0zqyv61KUD7+Sg==",
       "dev": true
     },
+    "node_modules/whatwg-encoding": {
+      "version": "3.1.1",
+      "resolved": "https://registry.npmjs.org/whatwg-encoding/-/whatwg-encoding-3.1.1.tgz",
+      "integrity": "sha512-6qN4hJdMwfYBtE3YBTTHhoeuUrDBPZmbQaxWAqSALV/MeEnR5z1xd8UKud2RAkFoPkmB+hli1TZSnyi84xz1vQ==",
+      "dev": true,
+      "dependencies": {
+        "iconv-lite": "0.6.3"
+      },
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/whatwg-mimetype": {
+      "version": "4.0.0",
+      "resolved": "https://registry.npmjs.org/whatwg-mimetype/-/whatwg-mimetype-4.0.0.tgz",
+      "integrity": "sha512-QaKxh0eNIi2mE9p2vEdzfagOKHCcj1pJ56EEHGQOVxp8r9/iszLUUV7v89x9O1p/T+NlTM5W7jW6+cz4Fq1YVg==",
+      "dev": true,
+      "engines": {
+        "node": ">=18"
+      }
+    },
     "node_modules/whatwg-url": {
       "version": "7.1.0",
       "resolved": "https://registry.npmjs.org/whatwg-url/-/whatwg-url-7.1.0.tgz",
@@ -7710,6 +8728,42 @@
         "node": ">=8"
       }
     },
+    "node_modules/ws": {
+      "version": "8.18.3",
+      "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.3.tgz",
+      "integrity": "sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==",
+      "dev": true,
+      "engines": {
+        "node": ">=10.0.0"
+      },
+      "peerDependencies": {
+        "bufferutil": "^4.0.1",
+        "utf-8-validate": ">=5.0.2"
+      },
+      "peerDependenciesMeta": {
+        "bufferutil": {
+          "optional": true
+        },
+        "utf-8-validate": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/xml-name-validator": {
+      "version": "5.0.0",
+      "resolved": "https://registry.npmjs.org/xml-name-validator/-/xml-name-validator-5.0.0.tgz",
+      "integrity": "sha512-EvGK8EJ3DhaHfbRlETOWAS5pO9MZITeauHKJyb8wyajUfQUenkIg2MvLDTZ4T/TgIcm3HU0TFBgWWboAZ30UHg==",
+      "dev": true,
+      "engines": {
+        "node": ">=18"
+      }
+    },
+    "node_modules/xmlchars": {
+      "version": "2.2.0",
+      "resolved": "https://registry.npmjs.org/xmlchars/-/xmlchars-2.2.0.tgz",
+      "integrity": "sha512-JZnDKK8B0RCDw84FNdDAIpZK+JuJw+s7Lz8nksI7SIuU3UXJJslUthsi+uWBUYOwPFwW7W7PRLRfUKpxjtjFCw==",
+      "dev": true
+    },
     "node_modules/y18n": {
       "version": "4.0.3",
       "resolved": "https://registry.npmjs.org/y18n/-/y18n-4.0.3.tgz",
diff --git a/wallet-extension/package.json b/wallet-extension/package.json
index 38173735..343ec92c 100644
--- a/wallet-extension/package.json
+++ b/wallet-extension/package.json
@@ -22,11 +22,15 @@
     "react-router-dom": "^7.1.0"
   },
   "devDependencies": {
+    "@testing-library/jest-dom": "^6.9.1",
+    "@testing-library/react": "^16.3.1",
     "@types/node": "^25.0.2",
     "@types/qrcode": "^1.5.6",
     "@types/react": "^18.3.18",
     "@types/react-dom": "^18.3.5",
     "@vitejs/plugin-react": "^4.3.4",
+    "@vitest/coverage-v8": "^2.1.9",
+    "jsdom": "^27.3.0",
     "typescript": "~5.6.2",
     "vite": "^6.0.5",
     "vite-plugin-pwa": "^0.21.1",
diff --git a/wallet-extension/src/App.tsx b/wallet-extension/src/App.tsx
index 390de756..88e4d300 100644
--- a/wallet-extension/src/App.tsx
+++ b/wallet-extension/src/App.tsx
@@ -10,9 +10,11 @@ import Dashboard from './screens/Dashboard';
 import Send from './screens/Send';
 import Receive from './screens/Receive';
 import Stake from './screens/Stake';
+import BecomeValidator from './screens/BecomeValidator';
 import Settings from './screens/Settings';
 import Activity from './screens/Activity';
 import Governance from './screens/Governance';
+import NFTs from './screens/NFTs';
 
 function App() {
   const { isInitialized, isLocked, isLoading } = useWallet();
@@ -62,6 +64,10 @@ function App() {
         path="/stake" 
         element={isInitialized && !isLocked ? <Stake /> : <Navigate to="/" replace />} 
       />
+      <Route 
+        path="/become-validator" 
+        element={isInitialized && !isLocked ? <BecomeValidator /> : <Navigate to="/" replace />} 
+      />
       <Route 
         path="/settings" 
         element={isInitialized && !isLocked ? <Settings /> : <Navigate to="/" replace />} 
@@ -74,6 +80,10 @@ function App() {
         path="/governance" 
         element={isInitialized && !isLocked ? <Governance /> : <Navigate to="/" replace />} 
       />
+      <Route 
+        path="/nfts" 
+        element={isInitialized && !isLocked ? <NFTs /> : <Navigate to="/" replace />} 
+      />
       
       {/* Fallback */}
       <Route path="*" element={<Navigate to="/" replace />} />
diff --git a/wallet-extension/src/__tests__/multichain.test.ts b/wallet-extension/src/__tests__/multichain.test.ts
new file mode 100644
index 00000000..0535a761
--- /dev/null
+++ b/wallet-extension/src/__tests__/multichain.test.ts
@@ -0,0 +1,196 @@
+/**
+ * Multi-chain Address Detection Tests
+ * 
+ * Verifies that the wallet correctly detects and validates
+ * addresses for Sultan, Ethereum, Bitcoin, Solana, and TON chains.
+ */
+
+import { describe, it, expect } from 'vitest';
+import { 
+  detectChainFromAddress, 
+  validateAddress, 
+  getChainInfo,
+  validateSultanOnlyAddress,
+  ChainType 
+} from '../core/security';
+
+describe('Multi-chain Address Detection', () => {
+  describe('detectChainFromAddress', () => {
+    it('should detect Sultan chain addresses', () => {
+      expect(detectChainFromAddress('sultan1qpzry9x8gf2tvdw0s3jn54khce6mua7lz')).toBe('sultan');
+      expect(detectChainFromAddress('sultan1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq')).toBe('sultan');
+    });
+
+    it('should detect Ethereum addresses', () => {
+      expect(detectChainFromAddress('0x742d35Cc6634C0532925a3b844Bc9e7595f8e2D0')).toBe('ethereum');
+      expect(detectChainFromAddress('0x0000000000000000000000000000000000000000')).toBe('ethereum');
+    });
+
+    it('should detect Bitcoin addresses', () => {
+      // Native SegWit (bc1)
+      expect(detectChainFromAddress('bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq')).toBe('bitcoin');
+      // Legacy P2PKH (starts with 1)
+      expect(detectChainFromAddress('1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa')).toBe('bitcoin');
+      // P2SH (starts with 3)
+      expect(detectChainFromAddress('3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy')).toBe('bitcoin');
+    });
+
+    it('should detect Solana addresses', () => {
+      expect(detectChainFromAddress('7EFvUvMvuqVGXpTPCHQJeXwkvGHKiYxdHk6bVPWfWS8m')).toBe('solana');
+      expect(detectChainFromAddress('So11111111111111111111111111111111111111112')).toBe('solana');
+    });
+
+    it('should detect TON addresses', () => {
+      expect(detectChainFromAddress('EQDtFpEwcFAEcRe5mLVh2N6C0x-_hJEM7W61_JLnSF74p4q2')).toBe('ton');
+      expect(detectChainFromAddress('UQDtFpEwcFAEcRe5mLVh2N6C0x-_hJEM7W61_JLnSF74p4q2')).toBe('ton');
+    });
+
+    it('should return null for invalid/unknown addresses', () => {
+      expect(detectChainFromAddress('')).toBeNull();
+      expect(detectChainFromAddress('invalid_address')).toBeNull();
+      expect(detectChainFromAddress('cosmos1...')).toBeNull();
+      expect(detectChainFromAddress('12345')).toBeNull();
+    });
+  });
+
+  describe('validateAddress', () => {
+    it('should validate Sultan addresses correctly', () => {
+      const result = validateAddress('sultan1qpzry9x8gf2tvdw0s3jn54khce6mua7lz');
+      expect(result.valid).toBe(true);
+      expect(result.chain).toBe('sultan');
+      expect(result.chainName).toBe('Sultan Chain');
+    });
+
+    it('should validate Ethereum addresses correctly', () => {
+      const result = validateAddress('0x742d35Cc6634C0532925a3b844Bc9e7595f8e2D0');
+      expect(result.valid).toBe(true);
+      expect(result.chain).toBe('ethereum');
+      expect(result.chainName).toBe('Ethereum');
+      expect(result.wrappedToken).toBe('sETH');
+    });
+
+    it('should validate Bitcoin bc1 addresses correctly', () => {
+      const result = validateAddress('bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq');
+      expect(result.valid).toBe(true);
+      expect(result.chain).toBe('bitcoin');
+      expect(result.chainName).toBe('Bitcoin');
+      expect(result.wrappedToken).toBe('sBTC');
+    });
+
+    it('should validate Solana addresses correctly', () => {
+      const result = validateAddress('7EFvUvMvuqVGXpTPCHQJeXwkvGHKiYxdHk6bVPWfWS8m');
+      expect(result.valid).toBe(true);
+      expect(result.chain).toBe('solana');
+      expect(result.chainName).toBe('Solana');
+      expect(result.wrappedToken).toBe('sSOL');
+    });
+
+    it('should validate TON addresses correctly', () => {
+      const result = validateAddress('EQDtFpEwcFAEcRe5mLVh2N6C0x-_hJEM7W61_JLnSF74p4q2');
+      expect(result.valid).toBe(true);
+      expect(result.chain).toBe('ton');
+      expect(result.chainName).toBe('TON');
+      expect(result.wrappedToken).toBe('sTON');
+    });
+
+    it('should reject invalid addresses with helpful error messages', () => {
+      const result = validateAddress('invalid_address_here');
+      expect(result.valid).toBe(false);
+      expect(result.error).toContain('Unknown address format');
+      expect(result.error).toContain('Supported');
+    });
+
+    it('should reject empty addresses', () => {
+      const result = validateAddress('');
+      expect(result.valid).toBe(false);
+      expect(result.error).toBe('Address is required');
+    });
+
+    it('should reject short Sultan addresses', () => {
+      const result = validateAddress('sultan1abc');
+      expect(result.valid).toBe(false);
+      expect(result.error).toContain('Invalid Sultan address length');
+    });
+  });
+
+  describe('getChainInfo', () => {
+    const chains: ChainType[] = ['sultan', 'ethereum', 'bitcoin', 'solana', 'ton'];
+    
+    it.each(chains)('should return valid info for %s', (chain) => {
+      const info = getChainInfo(chain);
+      expect(info.name).toBeDefined();
+      expect(info.symbol).toBeDefined();
+      expect(info.wrappedToken).toBeDefined();
+    });
+
+    it('should have correct wrapped tokens for bridges', () => {
+      expect(getChainInfo('ethereum').wrappedToken).toBe('sETH');
+      expect(getChainInfo('bitcoin').wrappedToken).toBe('sBTC');
+      expect(getChainInfo('solana').wrappedToken).toBe('sSOL');
+      expect(getChainInfo('ton').wrappedToken).toBe('sTON');
+      expect(getChainInfo('sultan').wrappedToken).toBe('SLTN');
+    });
+  });
+});
+
+describe('Cross-chain Transaction Flow', () => {
+  it('should identify cross-chain transfers correctly', () => {
+    // Native transfer (sultan to sultan)
+    const sultanResult = validateAddress('sultan1qpzry9x8gf2tvdw0s3jn54khce6mua7lz');
+    expect(sultanResult.chain).toBe('sultan');
+    
+    // Cross-chain transfers should be flagged
+    const ethResult = validateAddress('0x742d35Cc6634C0532925a3b844Bc9e7595f8e2D0');
+    expect(ethResult.chain).not.toBe('sultan');
+    expect(ethResult.wrappedToken).toBe('sETH');
+    
+    const btcResult = validateAddress('bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq');
+    expect(btcResult.chain).not.toBe('sultan');
+    expect(btcResult.wrappedToken).toBe('sBTC');
+  });
+});
+
+describe('Sultan-Only Wallet Validation', () => {
+  it('should accept valid sultan1 addresses', () => {
+    const result = validateSultanOnlyAddress('sultan1qpzry9x8gf2tvdw0s3jn54khce6mua7lz');
+    expect(result.valid).toBe(true);
+  });
+
+  it('should reject Ethereum addresses (wallet is Sultan-only)', () => {
+    const result = validateSultanOnlyAddress('0x742d35Cc6634C0532925a3b844Bc9e7595f8e2D0');
+    expect(result.valid).toBe(false);
+    expect(result.error).toContain('sultan1');
+  });
+
+  it('should reject Bitcoin addresses (wallet is Sultan-only)', () => {
+    const result = validateSultanOnlyAddress('bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq');
+    expect(result.valid).toBe(false);
+    expect(result.error).toContain('sultan1');
+  });
+
+  it('should reject Solana addresses (wallet is Sultan-only)', () => {
+    const result = validateSultanOnlyAddress('7EFvUvMvuqVGXpTPCHQJeXwkvGHKiYxdHk6bVPWfWS8m');
+    expect(result.valid).toBe(false);
+    expect(result.error).toContain('sultan1');
+  });
+
+  it('should reject empty addresses', () => {
+    const result = validateSultanOnlyAddress('');
+    expect(result.valid).toBe(false);
+    expect(result.error).toBe('Address is required');
+  });
+
+  it('should validate bech32 format for Sultan addresses', () => {
+    // Valid Sultan address format
+    const validResult = validateSultanOnlyAddress('sultan1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq');
+    expect(validResult.valid).toBe(true);
+    
+    // Invalid - too short
+    const shortResult = validateSultanOnlyAddress('sultan1abc');
+    expect(shortResult.valid).toBe(false);
+    
+    // Invalid - contains invalid chars
+    const invalidCharsResult = validateSultanOnlyAddress('sultan1ABCD123');
+    expect(invalidCharsResult.valid).toBe(false);
+  });
+});
diff --git a/wallet-extension/src/__tests__/nfts.test.tsx b/wallet-extension/src/__tests__/nfts.test.tsx
new file mode 100644
index 00000000..afc69333
--- /dev/null
+++ b/wallet-extension/src/__tests__/nfts.test.tsx
@@ -0,0 +1,151 @@
+/**
+ * NFT Gallery Tests
+ * 
+ * Tests for the NFT Gallery screen and Sultan native NFT integration.
+ */
+
+import { describe, it, expect, vi, beforeEach } from 'vitest';
+import { render, screen, waitFor } from '@testing-library/react';
+import { BrowserRouter } from 'react-router-dom';
+import NFTs from '../screens/NFTs';
+import { sultanAPI } from '../api/sultanAPI';
+
+// Mock the hooks
+vi.mock('../hooks/useWallet', () => ({
+  useWallet: () => ({
+    currentAccount: {
+      address: 'sultan1testaddress12345678901234567890',
+      name: 'Test Account',
+      index: 0,
+      publicKey: 'testpubkey',
+    },
+  }),
+}));
+
+vi.mock('../hooks/useTheme', () => ({
+  useTheme: () => ({
+    theme: 'dark',
+    setTheme: vi.fn(),
+  }),
+}));
+
+// Mock the API
+vi.mock('../api/sultanAPI', () => ({
+  sultanAPI: {
+    queryNFTs: vi.fn(),
+  },
+}));
+
+const mockNFTResponse = {
+  collections: [
+    {
+      address: 'sultan1nftcontract123',
+      name: 'Sultan Genesis',
+      symbol: 'SGEN',
+      nfts: [
+        {
+          tokenId: '1',
+          contractAddress: 'sultan1nftcontract123',
+          name: 'Sultan #1',
+          description: 'The first Sultan NFT',
+          image: 'https://example.com/nft1.png',
+          collection: 'Sultan Genesis',
+          attributes: [
+            { trait_type: 'Rarity', value: 'Legendary' },
+          ],
+        },
+        {
+          tokenId: '42',
+          contractAddress: 'sultan1nftcontract123',
+          name: 'Sultan #42',
+          description: 'A rare Sultan NFT',
+          image: 'https://example.com/nft42.png',
+          collection: 'Sultan Genesis',
+          attributes: [
+            { trait_type: 'Rarity', value: 'Epic' },
+          ],
+        },
+      ],
+    },
+  ],
+};
+
+const renderNFTs = () => {
+  return render(
+    <BrowserRouter>
+      <NFTs />
+    </BrowserRouter>
+  );
+};
+
+describe('NFT Gallery Screen', () => {
+  beforeEach(() => {
+    vi.clearAllMocks();
+  });
+
+  it('should show loading state initially', () => {
+    vi.mocked(sultanAPI.queryNFTs).mockImplementation(() => new Promise(() => {}));
+    renderNFTs();
+    
+    expect(screen.getByText('Loading your NFTs...')).toBeInTheDocument();
+  });
+
+  it('should show empty state when no NFTs', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockResolvedValue({ collections: [] });
+    renderNFTs();
+    
+    await waitFor(() => {
+      expect(screen.getByText('No NFTs Yet')).toBeInTheDocument();
+    });
+  });
+
+  it('should display NFT collections when available', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockResolvedValue(mockNFTResponse);
+    renderNFTs();
+    
+    await waitFor(() => {
+      expect(screen.getByText('Sultan Genesis')).toBeInTheDocument();
+      expect(screen.getByText('Sultan #1')).toBeInTheDocument();
+      expect(screen.getByText('Sultan #42')).toBeInTheDocument();
+    });
+  });
+
+  it('should show stats with correct counts', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockResolvedValue(mockNFTResponse);
+    renderNFTs();
+    
+    await waitFor(() => {
+      expect(screen.getByText('2')).toBeInTheDocument(); // Total NFTs
+      expect(screen.getByText('1')).toBeInTheDocument(); // Collections
+      expect(screen.getByText('2 items')).toBeInTheDocument();
+    });
+  });
+
+  it('should handle API errors gracefully', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockRejectedValue(new Error('Network error'));
+    renderNFTs();
+    
+    // Should show empty state, not crash
+    await waitFor(() => {
+      expect(screen.getByText('No NFTs Yet')).toBeInTheDocument();
+    });
+  });
+
+  it('should have NFT Gallery in header', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockResolvedValue({ collections: [] });
+    renderNFTs();
+    
+    expect(screen.getByText('NFT Gallery')).toBeInTheDocument();
+  });
+});
+
+describe('NFT API Integration', () => {
+  it('should call queryNFTs with correct address', async () => {
+    vi.mocked(sultanAPI.queryNFTs).mockResolvedValue({ collections: [] });
+    renderNFTs();
+    
+    await waitFor(() => {
+      expect(sultanAPI.queryNFTs).toHaveBeenCalledWith('sultan1testaddress12345678901234567890');
+    });
+  });
+});
diff --git a/wallet-extension/src/api/sultanAPI.ts b/wallet-extension/src/api/sultanAPI.ts
index 6666f50f..01ea3542 100644
--- a/wallet-extension/src/api/sultanAPI.ts
+++ b/wallet-extension/src/api/sultanAPI.ts
@@ -1,9 +1,10 @@
 /**
  * Sultan RPC API Client
  * 
- * Connects to https://rpc.sltn.io for balance, transactions, and staking.
+ * Connects to the Sultan L1 blockchain REST API.
  */
 
+// Production RPC endpoint - NYC Bootstrap validator (HTTPS via nginx)
 const RPC_URL = 'https://rpc.sltn.io';
 
 export interface AccountBalance {
@@ -93,37 +94,7 @@ export interface UserVote {
 }
 
 /**
- * Make RPC request
- */
-async function rpc<T>(method: string, params: Record<string, unknown> = {}): Promise<T> {
-  const response = await fetch(`${RPC_URL}`, {
-    method: 'POST',
-    headers: {
-      'Content-Type': 'application/json',
-    },
-    body: JSON.stringify({
-      jsonrpc: '2.0',
-      id: Date.now(),
-      method,
-      params,
-    }),
-  });
-
-  if (!response.ok) {
-    throw new Error(`RPC error: ${response.status}`);
-  }
-
-  const data = await response.json();
-  
-  if (data.error) {
-    throw new Error(data.error.message || 'RPC error');
-  }
-
-  return data.result;
-}
-
-/**
- * Make REST API request (for governance endpoints)
+ * Make REST API request
  */
 async function restApi<T>(
   endpoint: string, 
@@ -155,12 +126,13 @@ async function restApi<T>(
  */
 export async function getBalance(address: string): Promise<AccountBalance> {
   try {
-    const result = await rpc<{ balance: string; nonce: number }>('account_balance', { address });
+    // Use REST API: GET /balance/{address}
+    const result = await restApi<{ address: string; balance: number; nonce: number }>(`/balance/${address}`);
     
     return {
-      address,
-      available: result.balance,
-      balance: result.balance,
+      address: result.address,
+      available: result.balance.toString(),
+      balance: result.balance.toString(),
       nonce: result.nonce,
     };
   } catch {
@@ -179,19 +151,19 @@ export async function getBalance(address: string): Promise<AccountBalance> {
  */
 export async function getStakingInfo(address: string): Promise<StakingInfo> {
   try {
-    const result = await rpc<{
-      staked: string;
-      rewards: string;
+    // Use REST API: GET /staking/delegations/{address}
+    const result = await restApi<{
+      staked: number;
+      rewards: number;
       validator?: string;
-      apy: number;
-    }>('staking_info', { address });
+    }>(`/staking/delegations/${address}`);
 
     return {
       address,
-      staked: result.staked,
-      pendingRewards: result.rewards,
+      staked: (result.staked || 0).toString(),
+      pendingRewards: (result.rewards || 0).toString(),
       validator: result.validator,
-      stakingAPY: result.apy,
+      stakingAPY: 13.33, // Fixed APY
     };
   } catch {
     return {
@@ -208,40 +180,62 @@ export async function getStakingInfo(address: string): Promise<StakingInfo> {
  */
 export async function getValidators(): Promise<Validator[]> {
   try {
-    const result = await rpc<{ validators: Array<{ address: string; moniker: string; stake: string; commission: number; uptime: number; status: string }> }>('validators_list', {});
-    return (result.validators || []).map(v => ({
+    // Use REST API: GET /staking/validators
+    const result = await restApi<Array<{ 
+      address: string; 
+      moniker: string; 
+      stake: number; 
+      commission: number; 
+      uptime: number; 
+      status: string;
+    }>>('/staking/validators');
+    
+    // If empty, return mock validators for the known network validators
+    if (!result || result.length === 0) {
+      return [
+        { address: 'validator-nyc', name: 'NYC Bootstrap', moniker: 'NYC Bootstrap', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+        { address: 'validator-sfo', name: 'SFO', moniker: 'SFO', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+        { address: 'validator-fra', name: 'FRA', moniker: 'FRA', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+        { address: 'validator-ams', name: 'AMS', moniker: 'AMS', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+        { address: 'validator-sgp', name: 'SGP', moniker: 'SGP', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+        { address: 'validator-lon', name: 'LON', moniker: 'LON', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      ];
+    }
+    
+    return result.map(v => ({
       address: v.address,
       name: v.moniker,
       moniker: v.moniker,
-      totalStaked: v.stake,
+      totalStaked: v.stake.toString(),
       commission: v.commission,
       uptime: v.uptime,
       status: v.status as 'active' | 'inactive' | 'jailed',
     }));
   } catch {
-    return [];
+    // Fallback to known validators
+    return [
+      { address: 'validator-nyc', name: 'NYC Bootstrap', moniker: 'NYC Bootstrap', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      { address: 'validator-sfo', name: 'SFO', moniker: 'SFO', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      { address: 'validator-fra', name: 'FRA', moniker: 'FRA', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      { address: 'validator-ams', name: 'AMS', moniker: 'AMS', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      { address: 'validator-sgp', name: 'SGP', moniker: 'SGP', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+      { address: 'validator-lon', name: 'LON', moniker: 'LON', totalStaked: '1000000', commission: 0.05, uptime: 99.9, status: 'active' },
+    ];
   }
 }
 
 /**
  * Get transaction history for an address
+ * Note: Node doesn't have tx history endpoint yet, returns empty for now
  */
 export async function getTransactions(
-  address: string,
-  limit = 20,
-  offset = 0
+  _address: string,
+  _limit = 20,
+  _offset = 0
 ): Promise<Transaction[]> {
-  try {
-    const result = await rpc<{ transactions: Transaction[] }>('account_transactions', {
-      address,
-      limit,
-      offset,
-    });
-
-    return result.transactions || [];
-  } catch {
-    return [];
-  }
+  // Transaction history not yet implemented on node
+  // Future: GET /transactions/{address}
+  return [];
 }
 
 /**
@@ -249,15 +243,30 @@ export async function getTransactions(
  */
 export async function getNetworkStatus(): Promise<NetworkStatus> {
   try {
-    const result = await rpc<NetworkStatus>('network_status', {});
-    return result;
+    // Use REST API: GET /status
+    const result = await restApi<{
+      height: number;
+      validator_count: number;
+      shard_count: number;
+      validator_apy: number;
+      sharding_enabled: boolean;
+    }>('/status');
+    
+    return {
+      chainId: 'sultan-mainnet-1',
+      blockHeight: result.height,
+      blockTime: 2,
+      validatorCount: result.validator_count,
+      totalStaked: '0', // Not provided by /status
+      stakingAPY: result.validator_apy * 100, // Convert to percentage
+    };
   } catch {
     // Fallback values
     return {
       chainId: 'sultan-mainnet-1',
       blockHeight: 0,
       blockTime: 2,
-      validatorCount: 9,
+      validatorCount: 6,
       totalStaked: '0',
       stakingAPY: 13.33,
     };
@@ -281,7 +290,8 @@ export async function broadcastTransaction(
     publicKey: string;
   }
 ): Promise<{ hash: string }> {
-  const result = await rpc<{ hash: string }>('broadcast_tx', {
+  // Use REST API: POST /tx
+  const result = await restApi<{ hash: string }>('/tx', 'POST', {
     tx: signedTx.transaction,
     signature: signedTx.signature,
     public_key: signedTx.publicKey,
@@ -307,7 +317,8 @@ export async function stakeTokens(
     publicKey: string;
   }
 ): Promise<{ hash: string }> {
-  const result = await rpc<{ hash: string }>('stake_tx', {
+  // Use REST API: POST /staking/delegate
+  const result = await restApi<{ hash: string }>('/staking/delegate', 'POST', {
     tx: signedTx.transaction,
     signature: signedTx.signature,
     public_key: signedTx.publicKey,
@@ -332,7 +343,8 @@ export async function unstakeTokens(
     publicKey: string;
   }
 ): Promise<{ hash: string }> {
-  const result = await rpc<{ hash: string }>('unstake_tx', {
+  // Use REST API: POST /staking/undelegate (if available)
+  const result = await restApi<{ hash: string }>('/staking/undelegate', 'POST', {
     tx: signedTx.transaction,
     signature: signedTx.signature,
     public_key: signedTx.publicKey,
@@ -357,7 +369,8 @@ export async function claimRewards(
     publicKey: string;
   }
 ): Promise<{ hash: string }> {
-  const result = await rpc<{ hash: string }>('claim_rewards_tx', {
+  // Use REST API: POST /staking/withdraw_rewards
+  const result = await restApi<{ hash: string }>('/staking/withdraw_rewards', 'POST', {
     tx: signedTx.transaction,
     signature: signedTx.signature,
     public_key: signedTx.publicKey,
@@ -391,6 +404,15 @@ interface ClaimRewardsRequest {
   publicKey: string;
 }
 
+interface CreateValidatorRequest {
+  validatorAddress: string;
+  moniker: string;
+  initialStake: string;
+  commissionRate: number;
+  signature: string;
+  publicKey: string;
+}
+
 // ============================================================================
 // Governance Type Mappers (snake_case from blockchain -> camelCase for UI)
 // ============================================================================
@@ -460,8 +482,8 @@ export const sultanAPI = {
     signature: string;
     publicKey: string;
   }): Promise<{ hash: string }> => {
-    return rpc<{ hash: string }>('broadcast_tx', {
-      tx: {
+    return broadcastTransaction({
+      transaction: {
         from: tx.from,
         to: tx.to,
         amount: tx.amount,
@@ -470,32 +492,73 @@ export const sultanAPI = {
         timestamp: tx.timestamp,
       },
       signature: tx.signature,
-      public_key: tx.publicKey,
+      publicKey: tx.publicKey,
     });
   },
 
   stake: async (req: StakeRequest): Promise<{ hash: string }> => {
-    return rpc<{ hash: string }>('stake_tx', {
-      delegator: req.delegatorAddress,
-      validator: req.validatorAddress,
-      amount: req.amount,
+    return stakeTokens({
+      transaction: {
+        from: req.delegatorAddress,
+        to: req.validatorAddress,
+        amount: req.amount,
+        nonce: 0,
+        timestamp: Date.now(),
+      },
       signature: req.signature,
-      public_key: req.publicKey,
+      publicKey: req.publicKey || '',
     });
   },
 
   unstake: async (req: UnstakeRequest): Promise<{ hash: string }> => {
-    return rpc<{ hash: string }>('unstake_tx', {
-      delegator: req.delegatorAddress,
-      amount: req.amount,
+    return unstakeTokens({
+      transaction: {
+        from: req.delegatorAddress,
+        to: '', // Self-unbond
+        amount: req.amount,
+        nonce: 0,
+        timestamp: Date.now(),
+      },
       signature: req.signature,
-      public_key: req.publicKey,
+      publicKey: req.publicKey || '',
     });
   },
 
   claimRewards: async (req: ClaimRewardsRequest): Promise<{ hash: string }> => {
-    return rpc<{ hash: string }>('claim_rewards_tx', {
-      delegator: req.delegatorAddress,
+    return claimRewards({
+      transaction: {
+        from: req.delegatorAddress,
+        to: '',
+        amount: '0',
+        nonce: 0,
+        timestamp: Date.now(),
+      },
+      signature: req.signature,
+      publicKey: req.publicKey || '',
+    });
+  },
+
+  /**
+   * Create a new validator (become a validator)
+   * Requires minimum 10,000 SLTN stake
+   * Endpoint: POST /staking/create_validator
+   */
+  createValidator: async (req: CreateValidatorRequest): Promise<{ 
+    validatorAddress: string; 
+    stake: string; 
+    commission: number;
+    status: string;
+  }> => {
+    return restApi<{ 
+      validatorAddress: string; 
+      stake: string; 
+      commission: number;
+      status: string;
+    }>('/staking/create_validator', 'POST', {
+      validator_address: req.validatorAddress,
+      moniker: req.moniker,
+      initial_stake: parseInt(req.initialStake, 10),
+      commission_rate: req.commissionRate,
       signature: req.signature,
       public_key: req.publicKey,
     });
@@ -709,4 +772,88 @@ export const sultanAPI = {
     );
     return { proposalId: result.proposal_id };
   },
+
+  /**
+   * Query native NFTs owned by an address (Sultan Token Factory)
+   * Endpoint: GET /nft/tokens?owner={address}
+   */
+  queryNFTs: async (ownerAddress: string): Promise<{
+    collections: Array<{
+      address: string;
+      name: string;
+      symbol: string;
+      nfts: Array<{
+        tokenId: string;
+        contractAddress: string;
+        name: string;
+        description?: string;
+        image?: string;
+        attributes?: Array<{ trait_type: string; value: string }>;
+        collection?: string;
+      }>;
+    }>;
+  }> => {
+    try {
+      const result = await restApi<{
+        collections: Array<{
+          address: string;
+          name: string;
+          symbol: string;
+          tokens: Array<{
+            token_id: string;
+            token_uri?: string;
+            extension?: {
+              name?: string;
+              description?: string;
+              image?: string;
+              attributes?: Array<{ trait_type: string; value: string }>;
+            };
+          }>;
+        }>;
+      }>(`/nft/tokens?owner=${ownerAddress}`, 'GET');
+      
+      // Transform response to frontend format
+      return {
+        collections: result.collections.map(col => ({
+          address: col.address,
+          name: col.name,
+          symbol: col.symbol,
+          nfts: col.tokens.map(token => ({
+            tokenId: token.token_id,
+            contractAddress: col.address,
+            name: token.extension?.name || `${col.name} #${token.token_id}`,
+            description: token.extension?.description,
+            image: token.extension?.image,
+            attributes: token.extension?.attributes,
+            collection: col.name,
+          })),
+        })),
+      };
+    } catch {
+      // Return empty collections if NFT endpoint not available
+      return { collections: [] };
+    }
+  },
+
+  /**
+   * Transfer a native NFT (Sultan Token Factory)
+   * Endpoint: POST /nft/transfer
+   */
+  transferNFT: async (req: {
+    contractAddress: string;
+    tokenId: string;
+    from: string;
+    to: string;
+    signature: string;
+    publicKey: string;
+  }): Promise<{ hash: string }> => {
+    return restApi<{ hash: string }>('/nft/transfer', 'POST', {
+      contract_address: req.contractAddress,
+      token_id: req.tokenId,
+      from: req.from,
+      to: req.to,
+      signature: req.signature,
+      public_key: req.publicKey,
+    });
+  },
 };
diff --git a/wallet-extension/src/core/__tests__/security.test.ts b/wallet-extension/src/core/__tests__/security.test.ts
new file mode 100644
index 00000000..5a6a2d70
--- /dev/null
+++ b/wallet-extension/src/core/__tests__/security.test.ts
@@ -0,0 +1,357 @@
+/**
+ * Sultan Wallet Security - Unit Tests
+ * 
+ * Tests for security primitives: memory wiping, constant-time comparison,
+ * rate limiting, and session management.
+ */
+
+import { describe, it, expect, beforeEach, afterEach, vi } from 'vitest';
+import {
+  secureWipe,
+  SecureString,
+  constantTimeEqual,
+  constantTimeStringEqual,
+  isLockedOut,
+  recordFailedAttempt,
+  clearFailedAttempts,
+  getLockoutRemaining,
+  getLockoutState,
+  startSession,
+  endSession,
+  isSessionValid,
+  recordActivity,
+  MIN_PIN_LENGTH,
+  MAX_PIN_LENGTH,
+  MAX_PIN_ATTEMPTS,
+  LOCKOUT_DURATION_MS,
+  SESSION_TIMEOUT_MS,
+  PBKDF2_ITERATIONS,
+} from '../security';
+
+// ============================================================================
+// Secure Memory Wiping Tests
+// ============================================================================
+
+describe('Security - Secure Wipe', () => {
+  it('should zero out Uint8Array', () => {
+    const data = new Uint8Array([1, 2, 3, 4, 5, 6, 7, 8]);
+    
+    secureWipe(data);
+    
+    // All bytes should be zero
+    expect(data.every((byte) => byte === 0)).toBe(true);
+  });
+
+  it('should handle empty array', () => {
+    const data = new Uint8Array(0);
+    
+    expect(() => secureWipe(data)).not.toThrow();
+  });
+
+  it('should handle large arrays', () => {
+    const data = new Uint8Array(64 * 1024); // 64KB - within randomBytes limit
+    data.fill(0xff);
+    
+    secureWipe(data);
+    
+    expect(data.every((byte) => byte === 0)).toBe(true);
+  });
+});
+
+// ============================================================================
+// SecureString Tests
+// ============================================================================
+
+describe('Security - SecureString', () => {
+  it('should store and retrieve value correctly', () => {
+    const secret = 'my-secret-password';
+    const secureStr = new SecureString(secret);
+    
+    expect(secureStr.toString()).toBe(secret);
+  });
+
+  it('should XOR-encrypt stored data and decrypt correctly', () => {
+    const secret = 'password123';
+    const secureStr = new SecureString(secret);
+    
+    // getValue() should return decrypted data that matches original
+    const bytes = secureStr.getValue();
+    const plainBytes = new TextEncoder().encode(secret);
+    
+    // Decrypted value should match original
+    let allMatch = bytes.length === plainBytes.length;
+    for (let i = 0; i < bytes.length && allMatch; i++) {
+      if (bytes[i] !== plainBytes[i]) {
+        allMatch = false;
+      }
+    }
+    
+    expect(allMatch).toBe(true);
+    
+    // toString() should also return original value
+    expect(secureStr.toString()).toBe(secret);
+    
+    // Cleanup
+    secureWipe(bytes);
+    secureStr.destroy();
+  });
+
+  it('should destroy internal data', () => {
+    const secureStr = new SecureString('secret');
+    
+    secureStr.destroy();
+    
+    // After destruction, getValue should return zeroed data
+    // (Implementation detail - behavior may vary)
+  });
+
+  it('should handle unicode strings', () => {
+    const secret = 'å¯†ç ğŸ”Ã©mojis';
+    const secureStr = new SecureString(secret);
+    
+    expect(secureStr.toString()).toBe(secret);
+    
+    secureStr.destroy();
+  });
+});
+
+// ============================================================================
+// Constant-Time Comparison Tests
+// ============================================================================
+
+describe('Security - Constant-Time Comparison', () => {
+  describe('constantTimeEqual', () => {
+    it('should return true for equal arrays', () => {
+      const a = new Uint8Array([1, 2, 3, 4]);
+      const b = new Uint8Array([1, 2, 3, 4]);
+      
+      expect(constantTimeEqual(a, b)).toBe(true);
+    });
+
+    it('should return false for different arrays', () => {
+      const a = new Uint8Array([1, 2, 3, 4]);
+      const b = new Uint8Array([1, 2, 3, 5]);
+      
+      expect(constantTimeEqual(a, b)).toBe(false);
+    });
+
+    it('should return false for arrays of different length', () => {
+      const a = new Uint8Array([1, 2, 3]);
+      const b = new Uint8Array([1, 2, 3, 4]);
+      
+      expect(constantTimeEqual(a, b)).toBe(false);
+    });
+
+    it('should handle empty arrays', () => {
+      const a = new Uint8Array(0);
+      const b = new Uint8Array(0);
+      
+      expect(constantTimeEqual(a, b)).toBe(true);
+    });
+
+    it('should detect single bit difference', () => {
+      const a = new Uint8Array([0b11111111]);
+      const b = new Uint8Array([0b11111110]);
+      
+      expect(constantTimeEqual(a, b)).toBe(false);
+    });
+  });
+
+  describe('constantTimeStringEqual', () => {
+    it('should return true for equal strings', () => {
+      expect(constantTimeStringEqual('password123', 'password123')).toBe(true);
+    });
+
+    it('should return false for different strings', () => {
+      expect(constantTimeStringEqual('password123', 'password124')).toBe(false);
+    });
+
+    it('should return false for strings of different length', () => {
+      expect(constantTimeStringEqual('short', 'longer')).toBe(false);
+    });
+
+    it('should handle empty strings', () => {
+      expect(constantTimeStringEqual('', '')).toBe(true);
+    });
+
+    it('should handle unicode', () => {
+      expect(constantTimeStringEqual('ğŸ”å¯†ç ', 'ğŸ”å¯†ç ')).toBe(true);
+      expect(constantTimeStringEqual('ğŸ”å¯†ç ', 'ğŸ”å¯†ç¢¼')).toBe(false);
+    });
+  });
+});
+
+// ============================================================================
+// Rate Limiting Tests
+// ============================================================================
+
+describe('Security - Rate Limiting', () => {
+  beforeEach(() => {
+    // Clear lockout state before each test
+    clearFailedAttempts();
+    vi.useFakeTimers();
+  });
+
+  afterEach(() => {
+    vi.useRealTimers();
+    clearFailedAttempts();
+  });
+
+  it('should not be locked out initially', () => {
+    expect(isLockedOut()).toBe(false);
+  });
+
+  it('should track failed attempts', () => {
+    const result1 = recordFailedAttempt();
+    expect(result1.attemptsRemaining).toBe(MAX_PIN_ATTEMPTS - 1);
+    
+    const result2 = recordFailedAttempt();
+    expect(result2.attemptsRemaining).toBe(MAX_PIN_ATTEMPTS - 2);
+  });
+
+  it('should lock out after max attempts', () => {
+    for (let i = 0; i < MAX_PIN_ATTEMPTS; i++) {
+      recordFailedAttempt();
+    }
+    
+    expect(isLockedOut()).toBe(true);
+  });
+
+  it('should unlock after lockout duration', () => {
+    for (let i = 0; i < MAX_PIN_ATTEMPTS; i++) {
+      recordFailedAttempt();
+    }
+    
+    expect(isLockedOut()).toBe(true);
+    
+    // Advance time past lockout duration
+    vi.advanceTimersByTime(LOCKOUT_DURATION_MS + 1000);
+    
+    expect(isLockedOut()).toBe(false);
+  });
+
+  it('should report remaining lockout time', () => {
+    for (let i = 0; i < MAX_PIN_ATTEMPTS; i++) {
+      recordFailedAttempt();
+    }
+    
+    const remaining = getLockoutRemaining();
+    expect(remaining).toBeGreaterThan(0);
+    expect(remaining).toBeLessThanOrEqual(LOCKOUT_DURATION_MS / 1000);
+  });
+
+  it('should clear attempts on successful unlock', () => {
+    recordFailedAttempt();
+    recordFailedAttempt();
+    
+    clearFailedAttempts();
+    
+    const state = getLockoutState();
+    expect(state.attempts).toBe(0);
+  });
+
+  it('should reset attempts after lockout expires', () => {
+    // Make some failed attempts
+    recordFailedAttempt();
+    recordFailedAttempt();
+    
+    // Advance time past lockout duration
+    vi.advanceTimersByTime(LOCKOUT_DURATION_MS + 1000);
+    
+    // Next failed attempt should reset counter
+    const result = recordFailedAttempt();
+    expect(result.attemptsRemaining).toBe(MAX_PIN_ATTEMPTS - 1);
+  });
+});
+
+// ============================================================================
+// Session Management Tests
+// ============================================================================
+
+describe('Security - Session Management', () => {
+  beforeEach(() => {
+    endSession();
+    vi.useFakeTimers();
+  });
+
+  afterEach(() => {
+    vi.useRealTimers();
+    endSession();
+  });
+
+  it('should start a session', () => {
+    startSession(() => {});
+    
+    expect(isSessionValid()).toBe(true);
+  });
+
+  it('should end a session', () => {
+    startSession(() => {});
+    endSession();
+    
+    expect(isSessionValid()).toBe(false);
+  });
+
+  it('should timeout after inactivity', () => {
+    startSession(() => { /* expiry callback */ });
+    
+    expect(isSessionValid()).toBe(true);
+    
+    // Advance time past session timeout
+    vi.advanceTimersByTime(SESSION_TIMEOUT_MS + 1000);
+    
+    expect(isSessionValid()).toBe(false);
+  });
+
+  it('should extend session on activity', () => {
+    startSession(() => {});
+    
+    // Advance time partway through timeout
+    vi.advanceTimersByTime(SESSION_TIMEOUT_MS / 2);
+    
+    // Record activity
+    recordActivity();
+    
+    // Advance time again
+    vi.advanceTimersByTime(SESSION_TIMEOUT_MS / 2);
+    
+    // Session should still be active
+    expect(isSessionValid()).toBe(true);
+  });
+});
+
+// ============================================================================
+// Security Constants Tests
+// ============================================================================
+
+describe('Security - Constants', () => {
+  it('should have reasonable PIN length limits', () => {
+    expect(MIN_PIN_LENGTH).toBeGreaterThanOrEqual(4);
+    expect(MIN_PIN_LENGTH).toBe(6); // OWASP recommendation
+    expect(MAX_PIN_LENGTH).toBeLessThanOrEqual(20);
+  });
+
+  it('should have reasonable attempt limits', () => {
+    expect(MAX_PIN_ATTEMPTS).toBeLessThanOrEqual(10);
+    expect(MAX_PIN_ATTEMPTS).toBeGreaterThanOrEqual(3);
+  });
+
+  it('should have sufficient lockout duration', () => {
+    // At least 1 minute
+    expect(LOCKOUT_DURATION_MS).toBeGreaterThanOrEqual(60 * 1000);
+    // At most 30 minutes (user experience)
+    expect(LOCKOUT_DURATION_MS).toBeLessThanOrEqual(30 * 60 * 1000);
+  });
+
+  it('should have appropriate session timeout', () => {
+    // At least 1 minute
+    expect(SESSION_TIMEOUT_MS).toBeGreaterThanOrEqual(60 * 1000);
+    // At most 30 minutes
+    expect(SESSION_TIMEOUT_MS).toBeLessThanOrEqual(30 * 60 * 1000);
+  });
+
+  it('should use OWASP-recommended PBKDF2 iterations', () => {
+    // OWASP 2024 recommends 600,000 for SHA-256
+    expect(PBKDF2_ITERATIONS).toBeGreaterThanOrEqual(600_000);
+  });
+});
diff --git a/wallet-extension/src/core/__tests__/storage.secure.test.ts b/wallet-extension/src/core/__tests__/storage.secure.test.ts
new file mode 100644
index 00000000..b3ed1434
--- /dev/null
+++ b/wallet-extension/src/core/__tests__/storage.secure.test.ts
@@ -0,0 +1,186 @@
+/**
+ * Sultan Wallet Secure Storage - Unit Tests
+ * 
+ * Tests for the exported storage API. Internal encryption functions
+ * are tested implicitly through the public API.
+ * 
+ * Note: Most tests require IndexedDB which is not available in Node.js.
+ * These tests are designed to run in a browser environment or with
+ * a proper IndexedDB mock.
+ */
+
+import { describe, it, expect, beforeEach } from 'vitest';
+import {
+  saveWallet,
+  loadWallet,
+  hasWallet,
+  deleteWallet,
+  setSessionMnemonic,
+  getSessionMnemonic,
+  clearSession,
+  getMnemonic,
+  walletStorage,
+  setSessionPin,
+  getSessionPin,
+} from '../storage.secure';
+
+// ============================================================================
+// Environment Detection
+// ============================================================================
+
+const hasWebCrypto = typeof globalThis.crypto?.subtle !== 'undefined';
+const hasIndexedDB = typeof globalThis.indexedDB !== 'undefined';
+
+// ============================================================================
+// Session PIN Management Tests
+// ============================================================================
+
+describe('SecureStorage - Session PIN', () => {
+  beforeEach(() => {
+    setSessionPin('');
+  });
+
+  it('should store and retrieve session PIN', () => {
+    setSessionPin('123456');
+    expect(getSessionPin()).toBe('123456');
+  });
+
+  it('should return empty or null when no PIN is set', () => {
+    setSessionPin('');
+    const pin = getSessionPin();
+    expect(pin === '' || pin === null).toBe(true);
+  });
+});
+
+// ============================================================================
+// Session Mnemonic Tests (Memory-based, no IndexedDB needed)
+// ============================================================================
+
+describe('SecureStorage - Session Mnemonic', () => {
+  beforeEach(() => {
+    clearSession();
+  });
+
+  it('should store mnemonic in session', () => {
+    const mnemonic = 'abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about';
+    setSessionMnemonic(mnemonic, () => {});
+    
+    expect(getSessionMnemonic()).toBe(mnemonic);
+  });
+
+  it('should clear session mnemonic', () => {
+    setSessionMnemonic('test mnemonic', () => {});
+    clearSession();
+    
+    expect(getSessionMnemonic()).toBeNull();
+  });
+
+  it('should return null when no session mnemonic', () => {
+    clearSession();
+    expect(getSessionMnemonic()).toBeNull();
+  });
+});
+
+// ============================================================================
+// Wallet Storage Tests (Require IndexedDB)
+// ============================================================================
+
+describe('SecureStorage - Wallet Operations', () => {
+  beforeEach(async () => {
+    if (hasIndexedDB && hasWebCrypto) {
+      try {
+        await deleteWallet();
+      } catch {
+        // Ignore if not exists
+      }
+    }
+  });
+
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should save and load wallet', async () => {
+    const mnemonic = 'abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about';
+    const pin = '123456';
+    
+    await saveWallet(mnemonic, pin);
+    
+    // Load should succeed with correct PIN
+    const loaded = await loadWallet(pin);
+    expect(loaded).toBe(mnemonic);
+  });
+
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should fail load with wrong PIN', async () => {
+    const mnemonic = 'test mnemonic phrase';
+    const correctPin = '123456';
+    const wrongPin = '654321';
+    
+    await saveWallet(mnemonic, correctPin);
+    
+    await expect(loadWallet(wrongPin)).rejects.toThrow();
+  });
+
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should detect if wallet exists', async () => {
+    expect(await hasWallet()).toBe(false);
+    
+    await saveWallet('mnemonic', '123456');
+    
+    expect(await hasWallet()).toBe(true);
+  });
+
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should delete wallet', async () => {
+    await saveWallet('mnemonic', '123456');
+    expect(await hasWallet()).toBe(true);
+    
+    await deleteWallet();
+    
+    expect(await hasWallet()).toBe(false);
+  });
+
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should get mnemonic from session or storage', async () => {
+    const mnemonic = 'abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about';
+    const pin = '123456';
+    
+    await saveWallet(mnemonic, pin);
+    
+    // getMnemonic should load from storage if not in session
+    const result = await getMnemonic(pin);
+    expect(result).toBe(mnemonic);
+  });
+});
+
+// ============================================================================
+// walletStorage Object Tests
+// ============================================================================
+
+describe('SecureStorage - walletStorage export', () => {
+  it('should export all required functions', () => {
+    expect(typeof walletStorage.saveWallet).toBe('function');
+    expect(typeof walletStorage.loadWallet).toBe('function');
+    expect(typeof walletStorage.hasWallet).toBe('function');
+    expect(typeof walletStorage.deleteWallet).toBe('function');
+    expect(typeof walletStorage.getMnemonic).toBe('function');
+    expect(typeof walletStorage.setSessionMnemonic).toBe('function');
+    expect(typeof walletStorage.getSessionMnemonic).toBe('function');
+    expect(typeof walletStorage.clearSession).toBe('function');
+  });
+});
+
+// ============================================================================
+// Security Properties Tests
+// ============================================================================
+
+describe('SecureStorage - Security Properties', () => {
+  it.skipIf(!hasWebCrypto || !hasIndexedDB)('should use unique encryption each time', async () => {
+    const mnemonic = 'same mnemonic phrase';
+    const pin = '123456';
+    
+    // Save twice - should work (overwrites)
+    await saveWallet(mnemonic, pin);
+    const loaded1 = await loadWallet(pin);
+    
+    await saveWallet(mnemonic, pin);
+    const loaded2 = await loadWallet(pin);
+    
+    // Both should decrypt to same value
+    expect(loaded1).toBe(mnemonic);
+    expect(loaded2).toBe(mnemonic);
+  });
+});
diff --git a/wallet-extension/src/core/__tests__/wallet.test.ts b/wallet-extension/src/core/__tests__/wallet.test.ts
new file mode 100644
index 00000000..f5e5c0d8
--- /dev/null
+++ b/wallet-extension/src/core/__tests__/wallet.test.ts
@@ -0,0 +1,341 @@
+/**
+ * Sultan Wallet Core - Unit Tests
+ * 
+ * Tests for key derivation, signing, and address encoding.
+ * These tests are critical for security audit compliance.
+ */
+
+import { describe, it, expect, beforeEach, afterEach } from 'vitest';
+import {
+  SultanWallet,
+  SULTAN_PREFIX,
+  SULTAN_DECIMALS,
+  SULTAN_COIN_TYPE,
+  formatSLTN,
+  parseSLTN,
+  isValidAddress,
+} from '../wallet';
+
+// ============================================================================
+// Test Vectors
+// ============================================================================
+
+/**
+ * Known test vectors for deterministic testing.
+ * These should match the BIP39/SLIP-0010 specification.
+ */
+const TEST_MNEMONIC_24 =
+  'abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon art';
+
+const TEST_MNEMONIC_INVALID = 'invalid mnemonic phrase that should not work';
+
+// ============================================================================
+// Mnemonic Tests
+// ============================================================================
+
+describe('SultanWallet - Mnemonic', () => {
+  describe('generateMnemonic', () => {
+    it('should generate a valid 24-word mnemonic', () => {
+      const mnemonic = SultanWallet.generateMnemonic();
+      const words = mnemonic.split(' ');
+      
+      expect(words).toHaveLength(24);
+      expect(SultanWallet.validateMnemonic(mnemonic)).toBe(true);
+    });
+
+    it('should generate unique mnemonics each time', () => {
+      const mnemonic1 = SultanWallet.generateMnemonic();
+      const mnemonic2 = SultanWallet.generateMnemonic();
+      
+      expect(mnemonic1).not.toBe(mnemonic2);
+    });
+  });
+
+  describe('validateMnemonic', () => {
+    it('should validate a correct 24-word mnemonic', () => {
+      expect(SultanWallet.validateMnemonic(TEST_MNEMONIC_24)).toBe(true);
+    });
+
+    it('should reject an invalid mnemonic', () => {
+      expect(SultanWallet.validateMnemonic(TEST_MNEMONIC_INVALID)).toBe(false);
+    });
+
+    it('should reject empty string', () => {
+      expect(SultanWallet.validateMnemonic('')).toBe(false);
+    });
+
+    it('should reject mnemonic with wrong word count', () => {
+      expect(SultanWallet.validateMnemonic('abandon abandon abandon')).toBe(false);
+    });
+  });
+});
+
+// ============================================================================
+// Wallet Creation Tests
+// ============================================================================
+
+describe('SultanWallet - Creation', () => {
+  let wallet: SultanWallet;
+
+  afterEach(() => {
+    // Ensure wallet is cleaned up
+    wallet = null as unknown as SultanWallet;
+  });
+
+  it('should create wallet from valid mnemonic', async () => {
+    wallet = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+    
+    expect(wallet).toBeDefined();
+    expect(wallet.getAccounts()).toHaveLength(1); // Default account
+  });
+
+  it('should reject invalid mnemonic', async () => {
+    await expect(
+      SultanWallet.fromMnemonic(TEST_MNEMONIC_INVALID)
+    ).rejects.toThrow('Invalid mnemonic phrase');
+  });
+
+  it('should derive deterministic addresses from same mnemonic', async () => {
+    const wallet1 = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+    const wallet2 = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+    
+    const account1 = wallet1.getAccounts()[0];
+    const account2 = wallet2.getAccounts()[0];
+    
+    expect(account1.address).toBe(account2.address);
+    expect(account1.publicKey).toBe(account2.publicKey);
+  });
+});
+
+// ============================================================================
+// Account Derivation Tests
+// ============================================================================
+
+describe('SultanWallet - Account Derivation', () => {
+  let wallet: SultanWallet;
+
+  beforeEach(async () => {
+    wallet = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+  });
+
+  it('should derive accounts at different indices', async () => {
+    const account0 = await wallet.deriveAccount(0);
+    const account1 = await wallet.deriveAccount(1);
+    const account2 = await wallet.deriveAccount(2);
+    
+    // Each account should have unique address
+    expect(account0.address).not.toBe(account1.address);
+    expect(account1.address).not.toBe(account2.address);
+    expect(account0.address).not.toBe(account2.address);
+    
+    // Each should have correct index
+    expect(account0.index).toBe(0);
+    expect(account1.index).toBe(1);
+    expect(account2.index).toBe(2);
+  });
+
+  it('should use correct derivation path', async () => {
+    const account = await wallet.deriveAccount(5);
+    
+    expect(account.path).toBe(`m/44'/${SULTAN_COIN_TYPE}'/0'/0'/5`);
+  });
+
+  it('should cache derived accounts', async () => {
+    const account1 = await wallet.deriveAccount(0);
+    const account2 = await wallet.deriveAccount(0);
+    
+    // Should be same object reference (cached)
+    expect(account1).toBe(account2);
+  });
+
+  it('should generate valid bech32 addresses', async () => {
+    const account = await wallet.deriveAccount(0);
+    
+    expect(account.address.startsWith(SULTAN_PREFIX)).toBe(true);
+    expect(isValidAddress(account.address)).toBe(true);
+  });
+
+  it('should generate 64-character hex public keys', async () => {
+    const account = await wallet.deriveAccount(0);
+    
+    expect(account.publicKey).toMatch(/^[0-9a-f]{64}$/);
+  });
+
+  it('should NOT expose private keys in account object (security)', async () => {
+    const account = await wallet.deriveAccount(0);
+    
+    // SECURITY: Private keys should never be stored or exposed in account objects
+    // They are derived on-demand when signing
+    expect((account as unknown as { privateKey?: string }).privateKey).toBeUndefined();
+  });
+});
+
+// ============================================================================
+// Address Validation Tests
+// ============================================================================
+
+describe('SultanWallet - Address Validation', () => {
+  it('should validate correct sultan addresses', async () => {
+    const wallet = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+    const account = wallet.getAccounts()[0];
+    
+    expect(isValidAddress(account.address)).toBe(true);
+  });
+
+  it('should reject addresses with wrong prefix', () => {
+    expect(isValidAddress('cosmos1abc123def456')).toBe(false);
+    expect(isValidAddress('osmo1abc123def456')).toBe(false);
+  });
+
+  it('should reject malformed addresses', () => {
+    expect(isValidAddress('')).toBe(false);
+    expect(isValidAddress('sultan')).toBe(false);
+    expect(isValidAddress('sultan1')).toBe(false);
+    expect(isValidAddress('not-an-address')).toBe(false);
+  });
+
+  it('should reject addresses with invalid checksum', () => {
+    // Corrupted address (changed last character)
+    expect(isValidAddress('sultan1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqx')).toBe(false);
+  });
+});
+
+// ============================================================================
+// Amount Formatting Tests
+// ============================================================================
+
+describe('SultanWallet - Amount Formatting', () => {
+  describe('formatSLTN', () => {
+    it('should format base units to display units', () => {
+      // formatSLTN trims trailing zeros for cleaner display
+      expect(formatSLTN(1_000_000_000n)).toBe('1');
+      expect(formatSLTN(1_500_000_000n)).toBe('1.5');
+      expect(formatSLTN(123_456_789n)).toBe('0.123456789');
+    });
+
+    it('should handle zero', () => {
+      expect(formatSLTN(0n)).toBe('0');
+    });
+
+    it('should handle large amounts', () => {
+      expect(formatSLTN(1_000_000_000_000_000_000n)).toBe('1000000000');
+    });
+
+    it('should handle string input', () => {
+      expect(formatSLTN('1000000000')).toBe('1');
+    });
+  });
+
+  describe('parseSLTN', () => {
+    it('should parse display units to base units', () => {
+      expect(parseSLTN('1')).toBe(1_000_000_000n);
+      expect(parseSLTN('1.5')).toBe(1_500_000_000n);
+      expect(parseSLTN('0.123456789')).toBe(123_456_789n);
+    });
+
+    it('should handle zero', () => {
+      expect(parseSLTN('0')).toBe(0n);
+    });
+
+    it('should handle amounts with trailing zeros', () => {
+      expect(parseSLTN('1.000000000')).toBe(1_000_000_000n);
+    });
+
+    it('should truncate excess precision', () => {
+      // More than 9 decimal places should truncate
+      expect(parseSLTN('1.1234567899999')).toBe(1_123_456_789n);
+    });
+  });
+
+  it('should roundtrip correctly', () => {
+    const original = 12_345_678_901n;
+    const formatted = formatSLTN(original);
+    const parsed = parseSLTN(formatted);
+    
+    expect(parsed).toBe(original);
+  });
+});
+
+// ============================================================================
+// Transaction Signing Tests
+// ============================================================================
+
+describe('SultanWallet - Transaction Signing', () => {
+  let wallet: SultanWallet;
+
+  beforeEach(async () => {
+    wallet = await SultanWallet.fromMnemonic(TEST_MNEMONIC_24);
+  });
+
+  it('should sign transactions', async () => {
+    const account = wallet.getAccounts()[0];
+    const tx = {
+      from: account.address,
+      to: 'sultan1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq5dc3f2',
+      amount: '1000000000',
+      nonce: 1,
+      timestamp: Date.now(),
+    };
+    
+    // signTransaction returns the signature string directly
+    const signature = await wallet.signTransaction(tx, 0);
+    
+    expect(signature).toBeDefined();
+    expect(typeof signature).toBe('string');
+    expect(signature).toMatch(/^[0-9a-f]{128}$/); // Ed25519 signature is 64 bytes = 128 hex chars
+  });
+
+  it('should produce deterministic signatures', async () => {
+    const tx = {
+      from: 'sultan1test',
+      to: 'sultan1recipient',
+      amount: '1000000000',
+      nonce: 1,
+      timestamp: 1234567890,
+    };
+    
+    const signature1 = await wallet.signTransaction(tx, 0);
+    const signature2 = await wallet.signTransaction(tx, 0);
+    
+    expect(signature1).toBe(signature2);
+  });
+
+  it('should produce different signatures for different transactions', async () => {
+    const tx1 = {
+      from: 'sultan1test',
+      to: 'sultan1recipient',
+      amount: '1000000000',
+      nonce: 1,
+      timestamp: 1234567890,
+    };
+    
+    const tx2 = { ...tx1, nonce: 2 };
+    
+    const signature1 = await wallet.signTransaction(tx1, 0);
+    const signature2 = await wallet.signTransaction(tx2, 0);
+    
+    expect(signature1).not.toBe(signature2);
+  });
+});
+
+// ============================================================================
+// Constants Tests
+// ============================================================================
+
+describe('SultanWallet - Constants', () => {
+  it('should have correct decimal precision', () => {
+    expect(SULTAN_DECIMALS).toBe(9);
+  });
+
+  it('should have correct bech32 prefix', () => {
+    expect(SULTAN_PREFIX).toBe('sultan');
+  });
+
+  it('should have unique coin type', () => {
+    expect(SULTAN_COIN_TYPE).toBe(1984);
+    // Should not conflict with common coin types
+    expect(SULTAN_COIN_TYPE).not.toBe(0); // Bitcoin
+    expect(SULTAN_COIN_TYPE).not.toBe(60); // Ethereum
+    expect(SULTAN_COIN_TYPE).not.toBe(118); // Cosmos
+  });
+});
diff --git a/wallet-extension/src/core/clipboard.ts b/wallet-extension/src/core/clipboard.ts
new file mode 100644
index 00000000..0f5037b5
--- /dev/null
+++ b/wallet-extension/src/core/clipboard.ts
@@ -0,0 +1,155 @@
+/**
+ * Secure Clipboard Utility
+ * 
+ * SECURITY: Auto-clears sensitive data from clipboard after a timeout.
+ * Prevents clipboard snooping of addresses, amounts, and especially mnemonics.
+ */
+
+import { logger } from './logger';
+
+/**
+ * Default timeout for auto-clearing clipboard (in milliseconds)
+ * 60 seconds is a balance between usability and security
+ */
+const DEFAULT_CLEAR_TIMEOUT_MS = 60_000;
+
+/**
+ * Shorter timeout for highly sensitive data like mnemonics
+ */
+const SENSITIVE_CLEAR_TIMEOUT_MS = 30_000;
+
+// Track active clear timeout
+let clearTimeoutId: ReturnType<typeof setTimeout> | null = null;
+
+/**
+ * Copy text to clipboard with automatic clearing
+ * 
+ * @param text - Text to copy
+ * @param options - Configuration options
+ * @returns Promise that resolves when text is copied
+ */
+export async function secureCopy(
+  text: string,
+  options: {
+    /** Timeout in ms before clipboard is cleared (default: 60s) */
+    clearAfterMs?: number;
+    /** Whether this is highly sensitive data (uses shorter timeout) */
+    sensitive?: boolean;
+    /** Callback when clipboard is cleared */
+    onClear?: () => void;
+  } = {}
+): Promise<boolean> {
+  try {
+    await navigator.clipboard.writeText(text);
+
+    // Determine timeout
+    const timeout = options.clearAfterMs ?? 
+      (options.sensitive ? SENSITIVE_CLEAR_TIMEOUT_MS : DEFAULT_CLEAR_TIMEOUT_MS);
+
+    // Cancel any existing timeout
+    if (clearTimeoutId) {
+      clearTimeout(clearTimeoutId);
+    }
+
+    // Schedule auto-clear
+    clearTimeoutId = setTimeout(async () => {
+      try {
+        // Read current clipboard to check if it's still our content
+        const currentContent = await navigator.clipboard.readText();
+        if (currentContent === text) {
+          await navigator.clipboard.writeText('');
+          logger.debug('Clipboard auto-cleared for security');
+          options.onClear?.();
+        }
+      } catch {
+        // Can't read clipboard - clear it anyway for safety
+        try {
+          await navigator.clipboard.writeText('');
+        } catch {
+          // Clipboard API not available
+        }
+      }
+      clearTimeoutId = null;
+    }, timeout);
+
+    return true;
+  } catch (error) {
+    logger.error('Failed to copy to clipboard:', error);
+    return false;
+  }
+}
+
+/**
+ * Copy an address to clipboard with 60-second auto-clear
+ */
+export async function copyAddress(
+  address: string,
+  onClear?: () => void
+): Promise<boolean> {
+  return secureCopy(address, {
+    clearAfterMs: DEFAULT_CLEAR_TIMEOUT_MS,
+    onClear,
+  });
+}
+
+/**
+ * Copy a mnemonic to clipboard with 30-second auto-clear
+ * SECURITY: Uses shorter timeout for highly sensitive data
+ */
+export async function copyMnemonic(
+  mnemonic: string,
+  onClear?: () => void
+): Promise<boolean> {
+  return secureCopy(mnemonic, {
+    sensitive: true,
+    clearAfterMs: SENSITIVE_CLEAR_TIMEOUT_MS,
+    onClear,
+  });
+}
+
+/**
+ * Copy a transaction hash to clipboard
+ */
+export async function copyTxHash(
+  hash: string,
+  onClear?: () => void
+): Promise<boolean> {
+  return secureCopy(hash, {
+    clearAfterMs: DEFAULT_CLEAR_TIMEOUT_MS * 2, // 2 minutes for tx hashes
+    onClear,
+  });
+}
+
+/**
+ * Immediately clear the clipboard
+ */
+export async function clearClipboard(): Promise<void> {
+  try {
+    if (clearTimeoutId) {
+      clearTimeout(clearTimeoutId);
+      clearTimeoutId = null;
+    }
+    await navigator.clipboard.writeText('');
+    logger.debug('Clipboard cleared');
+  } catch {
+    // Clipboard API not available
+  }
+}
+
+/**
+ * Check if clipboard API is available
+ */
+export function isClipboardAvailable(): boolean {
+  return typeof navigator !== 'undefined' && 
+         typeof navigator.clipboard !== 'undefined' &&
+         typeof navigator.clipboard.writeText === 'function';
+}
+
+export default {
+  secureCopy,
+  copyAddress,
+  copyMnemonic,
+  copyTxHash,
+  clearClipboard,
+  isClipboardAvailable,
+};
diff --git a/wallet-extension/src/core/logger.ts b/wallet-extension/src/core/logger.ts
new file mode 100644
index 00000000..a918e819
--- /dev/null
+++ b/wallet-extension/src/core/logger.ts
@@ -0,0 +1,140 @@
+/**
+ * Production-Safe Logger
+ * 
+ * SECURITY: Prevents sensitive data from being logged in production.
+ * - In development: Full logging with all details
+ * - In production: Critical errors only, no sensitive data
+ */
+
+const isDev = import.meta.env.DEV;
+const isTest = import.meta.env.MODE === 'test';
+
+/**
+ * Sensitive patterns that should NEVER be logged
+ */
+const SENSITIVE_PATTERNS = [
+  /mnemonic/i,
+  /private.*key/i,
+  /seed/i,
+  /secret/i,
+  /password/i,
+  /pin/i,
+  /[a-f0-9]{64}/i, // Private key hex pattern
+];
+
+/**
+ * Check if a message contains sensitive data
+ */
+function containsSensitiveData(args: unknown[]): boolean {
+  const str = args.map(a => String(a)).join(' ');
+  return SENSITIVE_PATTERNS.some(pattern => pattern.test(str));
+}
+
+/**
+ * Sanitize arguments by redacting sensitive data
+ */
+function sanitizeArgs(args: unknown[]): unknown[] {
+  return args.map(arg => {
+    if (typeof arg === 'string') {
+      let sanitized = arg;
+      for (const pattern of SENSITIVE_PATTERNS) {
+        sanitized = sanitized.replace(pattern, '[REDACTED]');
+      }
+      return sanitized;
+    }
+    if (typeof arg === 'object' && arg !== null) {
+      return '[Object]'; // Don't risk logging sensitive object properties
+    }
+    return arg;
+  });
+}
+
+/**
+ * Production-safe logger
+ * 
+ * Usage:
+ *   import { logger } from './logger';
+ *   logger.debug('Processing request'); // Only in dev
+ *   logger.info('User action');         // Only in dev
+ *   logger.warn('Deprecated usage');    // Only in dev
+ *   logger.error('Critical failure');   // Always (sanitized in prod)
+ */
+export const logger = {
+  /**
+   * Debug level - development only
+   */
+  debug: (...args: unknown[]): void => {
+    if (isDev && !containsSensitiveData(args)) {
+      console.debug('[DEBUG]', ...args);
+    }
+  },
+
+  /**
+   * Info level - development only
+   */
+  info: (...args: unknown[]): void => {
+    if (isDev && !containsSensitiveData(args)) {
+      console.info('[INFO]', ...args);
+    }
+  },
+
+  /**
+   * Warning level - development only
+   */
+  warn: (...args: unknown[]): void => {
+    if (isDev) {
+      console.warn('[WARN]', ...sanitizeArgs(args));
+    }
+  },
+
+  /**
+   * Error level - always logs (sanitized in production)
+   * Critical errors that need attention
+   */
+  error: (...args: unknown[]): void => {
+    if (isDev || isTest) {
+      console.error('[ERROR]', ...args);
+    } else {
+      // In production, sanitize before logging
+      console.error('[ERROR]', ...sanitizeArgs(args));
+    }
+  },
+
+  /**
+   * Development-only console group
+   */
+  group: (label: string): void => {
+    if (isDev) {
+      console.group(label);
+    }
+  },
+
+  /**
+   * Development-only console groupEnd
+   */
+  groupEnd: (): void => {
+    if (isDev) {
+      console.groupEnd();
+    }
+  },
+
+  /**
+   * Development-only table output
+   */
+  table: (data: unknown): void => {
+    if (isDev) {
+      console.table(data);
+    }
+  },
+};
+
+/**
+ * Assert condition (development only)
+ */
+export function devAssert(condition: boolean, message: string): void {
+  if (isDev && !condition) {
+    console.error('[ASSERT FAILED]', message);
+  }
+}
+
+export default logger;
diff --git a/wallet-extension/src/core/security.ts b/wallet-extension/src/core/security.ts
index 676df66c..526627cf 100644
--- a/wallet-extension/src/core/security.ts
+++ b/wallet-extension/src/core/security.ts
@@ -124,6 +124,16 @@ export class SecureString {
     secureWipe(bytes);
     return str;
   }
+
+  /**
+   * Reveal the secret value as a string.
+   * SECURITY: The returned string is immutable and cannot be wiped.
+   * Use only when absolutely necessary (e.g., passing to library functions).
+   * Alias for toString() with more explicit naming.
+   */
+  reveal(): string {
+    return this.toString();
+  }
   
   /**
    * Securely destroy this secure string
@@ -357,6 +367,71 @@ export function isSessionValid(): boolean {
   return elapsed < SESSION_TIMEOUT_MS;
 }
 
+// Session PIN storage for verification (in-memory only, hash only)
+let sessionPinHash: string | null = null;
+
+/**
+ * Set the session PIN hash for verification
+ * SECURITY: Only stores hash, never the plain PIN
+ */
+export function setSessionPinHash(pinHash: string): void {
+  sessionPinHash = pinHash;
+}
+
+/**
+ * Clear the session PIN hash
+ */
+export function clearSessionPinHash(): void {
+  sessionPinHash = null;
+}
+
+/**
+ * Hash a PIN for comparison/storage
+ * Uses SHA-256 for consistency
+ * Exported for use in unlock flow
+ */
+export function hashPinForVerification(pin: string): string {
+  const encoder = new TextEncoder();
+  const hash = sha256(encoder.encode(pin));
+  return Array.from(hash).map(b => b.toString(16).padStart(2, '0')).join('');
+}
+
+/**
+ * Verify a PIN against the session PIN hash
+ * SECURITY: Used to re-verify PIN before sensitive operations like signing
+ * 
+ * @param pin - The PIN entered by the user
+ * @returns True if PIN matches, false otherwise
+ */
+export async function verifySessionPin(pin: string): Promise<boolean> {
+  // Check if locked out
+  if (isLockedOut()) {
+    const remaining = getLockoutRemaining();
+    throw new Error(`Too many attempts. Try again in ${remaining} seconds.`);
+  }
+
+  if (!sessionPinHash) {
+    // No session PIN stored - session may have expired
+    return false;
+  }
+
+  const inputHash = hashPinForVerification(pin);
+  
+  // Use constant-time comparison to prevent timing attacks
+  const encoder = new TextEncoder();
+  const storedBytes = encoder.encode(sessionPinHash);
+  const inputBytes = encoder.encode(inputHash);
+  
+  const isValid = constantTimeEqual(storedBytes, inputBytes);
+  
+  if (!isValid) {
+    // Record failed attempt for rate limiting
+    recordFailedAttempt();
+  }
+  
+  return isValid;
+}
+
 // ============================================================================
 // Input Validation
 // ============================================================================
@@ -417,28 +492,195 @@ export function sanitizeInput(input: string): string {
 /**
  * Validate Sultan address format
  */
-export function validateAddress(address: string): { valid: boolean; error?: string } {
-  if (!address || typeof address !== 'string') {
-    return { valid: false, error: 'Address is required' };
-  }
+/**
+ * Supported blockchain networks for multi-chain transactions
+ */
+export type ChainType = 'sultan' | 'ethereum' | 'bitcoin' | 'solana' | 'ton';
+
+export interface AddressValidationResult {
+  valid: boolean;
+  error?: string;
+  chain?: ChainType;
+  chainName?: string;
+  wrappedToken?: string;
+}
+
+/**
+ * Detect chain type from address format
+ */
+export function detectChainFromAddress(address: string): ChainType | null {
+  if (!address || typeof address !== 'string') return null;
   
-  if (!address.startsWith('sultan1')) {
-    return { valid: false, error: 'Address must start with "sultan1"' };
-  }
+  const trimmed = address.trim();
   
+  // Sultan Chain: bech32 with sultan1 prefix
+  if (trimmed.startsWith('sultan1')) return 'sultan';
+  
+  // Ethereum: 0x prefix, 42 chars total (0x + 40 hex)
+  if (/^0x[a-fA-F0-9]{40}$/.test(trimmed)) return 'ethereum';
+  
+  // Bitcoin: bc1 (bech32 native segwit), 1 or 3 (legacy)
+  if (/^bc1[a-zA-HJ-NP-Z0-9]{25,87}$/.test(trimmed)) return 'bitcoin';
+  if (/^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(trimmed)) return 'bitcoin';
+  
+  // Solana: Base58, 32-44 chars, no 0, O, I, l
+  if (/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(trimmed)) return 'solana';
+  
+  // TON: EQ or UQ prefix (bounceable/non-bounceable)
+  if (/^(EQ|UQ)[A-Za-z0-9_-]{46}$/.test(trimmed)) return 'ton';
+  
+  return null;
+}
+
+/**
+ * Get chain display info
+ */
+export function getChainInfo(chain: ChainType): { name: string; symbol: string; wrappedToken: string } {
+  const chainInfo: Record<ChainType, { name: string; symbol: string; wrappedToken: string }> = {
+    sultan: { name: 'Sultan Chain', symbol: 'SLTN', wrappedToken: 'SLTN' },
+    ethereum: { name: 'Ethereum', symbol: 'ETH', wrappedToken: 'sETH' },
+    bitcoin: { name: 'Bitcoin', symbol: 'BTC', wrappedToken: 'sBTC' },
+    solana: { name: 'Solana', symbol: 'SOL', wrappedToken: 'sSOL' },
+    ton: { name: 'TON', symbol: 'TON', wrappedToken: 'sTON' },
+  };
+  return chainInfo[chain];
+}
+
+/**
+ * Validate Sultan Chain address (native) - INTERNAL
+ */
+function validateSultanAddressInternal(address: string): { valid: boolean; error?: string } {
   if (address.length < 39 || address.length > 59) {
-    return { valid: false, error: 'Invalid address length' };
+    return { valid: false, error: 'Invalid Sultan address length' };
   }
   
   // Check for valid bech32 characters
   const validChars = /^sultan1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/;
   if (!validChars.test(address)) {
-    return { valid: false, error: 'Address contains invalid characters' };
+    return { valid: false, error: 'Sultan address contains invalid characters' };
   }
   
   return { valid: true };
 }
 
+/**
+ * Validate Sultan-only address (for wallet Send screen)
+ * Sultan Wallet only sends to sultan1... addresses
+ */
+export function validateSultanOnlyAddress(address: string): { valid: boolean; error?: string } {
+  if (!address || typeof address !== 'string') {
+    return { valid: false, error: 'Address is required' };
+  }
+  
+  const trimmed = address.trim();
+  
+  if (!trimmed.startsWith('sultan1')) {
+    return { valid: false, error: 'Address must start with "sultan1"' };
+  }
+  
+  return validateSultanAddressInternal(trimmed);
+}
+
+/**
+ * Validate Ethereum address with checksum verification
+ */
+function validateEthereumAddress(address: string): { valid: boolean; error?: string } {
+  if (!/^0x[a-fA-F0-9]{40}$/.test(address)) {
+    return { valid: false, error: 'Invalid Ethereum address format' };
+  }
+  return { valid: true };
+}
+
+/**
+ * Validate Bitcoin address (segwit bc1 or legacy)
+ */
+function validateBitcoinAddress(address: string): { valid: boolean; error?: string } {
+  // Native SegWit (Bech32)
+  if (/^bc1[a-zA-HJ-NP-Z0-9]{25,87}$/.test(address)) {
+    return { valid: true };
+  }
+  // Legacy P2PKH (starts with 1) or P2SH (starts with 3)
+  if (/^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(address)) {
+    return { valid: true };
+  }
+  return { valid: false, error: 'Invalid Bitcoin address format' };
+}
+
+/**
+ * Validate Solana address (Base58)
+ */
+function validateSolanaAddress(address: string): { valid: boolean; error?: string } {
+  if (!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(address)) {
+    return { valid: false, error: 'Invalid Solana address format' };
+  }
+  return { valid: true };
+}
+
+/**
+ * Validate TON address
+ */
+function validateTONAddress(address: string): { valid: boolean; error?: string } {
+  if (!/^(EQ|UQ)[A-Za-z0-9_-]{46}$/.test(address)) {
+    return { valid: false, error: 'Invalid TON address format' };
+  }
+  return { valid: true };
+}
+
+/**
+ * Multi-chain address validation
+ * Automatically detects chain from address format and validates accordingly
+ */
+export function validateAddress(address: string): AddressValidationResult {
+  if (!address || typeof address !== 'string') {
+    return { valid: false, error: 'Address is required' };
+  }
+  
+  const trimmed = address.trim();
+  const chain = detectChainFromAddress(trimmed);
+  
+  if (!chain) {
+    return { 
+      valid: false, 
+      error: 'Unknown address format. Supported: Sultan (sultan1...), Ethereum (0x...), Bitcoin (bc1.../1.../3...), Solana, TON (EQ.../UQ...)' 
+    };
+  }
+  
+  // Validate based on detected chain
+  let validation: { valid: boolean; error?: string };
+  
+  switch (chain) {
+    case 'sultan':
+      validation = validateSultanAddressInternal(trimmed);
+      break;
+    case 'ethereum':
+      validation = validateEthereumAddress(trimmed);
+      break;
+    case 'bitcoin':
+      validation = validateBitcoinAddress(trimmed);
+      break;
+    case 'solana':
+      validation = validateSolanaAddress(trimmed);
+      break;
+    case 'ton':
+      validation = validateTONAddress(trimmed);
+      break;
+    default:
+      validation = { valid: false, error: 'Unsupported chain' };
+  }
+  
+  if (!validation.valid) {
+    return validation;
+  }
+  
+  const chainInfo = getChainInfo(chain);
+  return { 
+    valid: true, 
+    chain, 
+    chainName: chainInfo.name,
+    wrappedToken: chainInfo.wrappedToken
+  };
+}
+
 /**
  * Validate transaction amount
  */
diff --git a/wallet-extension/src/core/wallet.ts b/wallet-extension/src/core/wallet.ts
index 8bac29e7..5e9669d3 100644
--- a/wallet-extension/src/core/wallet.ts
+++ b/wallet-extension/src/core/wallet.ts
@@ -15,7 +15,7 @@ import { sha512 } from '@noble/hashes/sha512';
 import { randomBytes } from '@noble/hashes/utils';
 import * as ed25519 from '@noble/ed25519';
 import { bech32 } from 'bech32';
-import { secureWipe } from './security';
+import { secureWipe, SecureString } from './security';
 
 // Configure ed25519 to use sha512
 ed25519.etc.sha512Sync = (...msgs) => sha512(ed25519.etc.concatBytes(...msgs));
@@ -26,10 +26,13 @@ export const SULTAN_PREFIX = 'sultan';
 export const SULTAN_COIN_TYPE = 1984; // Custom coin type for Sultan
 export const MIN_STAKE = 10_000; // 10,000 SLTN minimum stake
 
+/**
+ * Account info exposed externally (NO private key - derived on demand)
+ * SECURITY: Private keys are NEVER stored in memory or cache
+ */
 export interface SultanAccount {
   address: string;
   publicKey: string;
-  privateKey: string;
   path: string;
   index: number;
   name: string;
@@ -52,10 +55,17 @@ export interface SultanTransaction {
 
 /**
  * Core wallet functionality for Sultan chain
+ * 
+ * SECURITY ARCHITECTURE:
+ * - Mnemonic stored as SecureString (XOR encrypted in memory)
+ * - Private keys are NEVER cached - derived on-demand for each signing operation
+ * - All sensitive data wiped immediately after use
+ * - No JS string exposure for sensitive material
  */
 export class SultanWallet {
-  private mnemonic: string | null = null;
+  private secureMnemonic: SecureString | null = null;
   private accounts: Map<number, SultanAccount> = new Map();
+  private destroyed: boolean = false;
 
   /**
    * Generate a new 24-word mnemonic
@@ -94,13 +104,17 @@ export class SultanWallet {
 
   /**
    * Create wallet from mnemonic
+   * SECURITY: Mnemonic is immediately encrypted into SecureString
    */
   static async fromMnemonic(mnemonic: string): Promise<SultanWallet> {
     if (!SultanWallet.validateMnemonic(mnemonic)) {
       throw new Error('Invalid mnemonic phrase');
     }
     const wallet = new SultanWallet();
-    wallet.mnemonic = mnemonic;
+    
+    // SECURITY: Store mnemonic as SecureString (XOR encrypted)
+    wallet.secureMnemonic = new SecureString(mnemonic);
+    
     // Derive first account by default
     await wallet.deriveAccount(0);
     return wallet;
@@ -108,18 +122,24 @@ export class SultanWallet {
 
   /**
    * Derive account at index
+   * SECURITY: Only caches public data - private key is derived on-demand for signing
    */
   async deriveAccount(index: number, name?: string): Promise<SultanAccount> {
-    if (!this.mnemonic) {
+    this.ensureNotDestroyed();
+    if (!this.secureMnemonic) {
       throw new Error('Wallet not initialized');
     }
 
-    // Check cache
+    // Check cache (only contains public data)
     if (this.accounts.has(index)) {
       return this.accounts.get(index)!;
     }
 
-    const seed = mnemonicToSeedSync(this.mnemonic);
+    // SECURITY: Decrypt mnemonic, use it, then let temporary reference go out of scope
+    const mnemonic = this.secureMnemonic.reveal();
+    const seed = mnemonicToSeedSync(mnemonic);
+    // Note: mnemonic string goes out of scope here - V8 will GC it
+    
     const path = `m/44'/${SULTAN_COIN_TYPE}'/0'/0'/${index}`;
     
     // Derive key using SLIP-0010 for Ed25519
@@ -127,10 +147,14 @@ export class SultanWallet {
     const publicKey = await ed25519.getPublicKeyAsync(privateKey);
     const address = this.publicKeyToAddress(publicKey);
 
+    // SECURITY: Wipe private key and seed immediately after deriving public key
+    secureWipe(privateKey);
+    secureWipe(seed);
+
+    // SECURITY: Account object contains NO private key
     const account: SultanAccount = {
       address,
       publicKey: bytesToHex(publicKey),
-      privateKey: bytesToHex(privateKey),
       path,
       index,
       name: name || `Account ${index + 1}`,
@@ -140,6 +164,36 @@ export class SultanWallet {
     return account;
   }
 
+  /**
+   * Derive private key on-demand for signing operations
+   * SECURITY: Key is returned for immediate use and must be wiped by caller
+   */
+  private async derivePrivateKeyForSigning(index: number): Promise<Uint8Array> {
+    this.ensureNotDestroyed();
+    if (!this.secureMnemonic) {
+      throw new Error('Wallet not initialized');
+    }
+
+    const mnemonic = this.secureMnemonic.reveal();
+    const seed = mnemonicToSeedSync(mnemonic);
+    const path = `m/44'/${SULTAN_COIN_TYPE}'/0'/0'/${index}`;
+    const privateKey = this.deriveEd25519Key(seed, path);
+    
+    // Wipe seed immediately
+    secureWipe(seed);
+    
+    return privateKey;
+  }
+
+  /**
+   * Ensure wallet has not been destroyed
+   */
+  private ensureNotDestroyed(): void {
+    if (this.destroyed) {
+      throw new Error('Wallet has been destroyed and cannot be used');
+    }
+  }
+
   /**
    * SLIP-0010 key derivation for Ed25519
    */
@@ -210,11 +264,13 @@ export class SultanWallet {
 
   /**
    * Sign a transaction (takes data object and account index)
+   * SECURITY: Derives private key on-demand and wipes immediately after use
    */
   async signTransaction(
     txData: Record<string, unknown>,
     accountIndex: number
   ): Promise<string> {
+    this.ensureNotDestroyed();
     const account = this.accounts.get(accountIndex);
     if (!account) {
       throw new Error(`Account at index ${accountIndex} not found`);
@@ -222,19 +278,27 @@ export class SultanWallet {
 
     const canonical = JSON.stringify(txData);
     const msgBytes = sha256(new TextEncoder().encode(canonical));
-    const privateKey = hexToBytes(account.privateKey);
-    const signature = await ed25519.signAsync(msgBytes, privateKey);
-
-    return bytesToHex(signature);
+    
+    // SECURITY: Derive key on-demand
+    const privateKey = await this.derivePrivateKeyForSigning(accountIndex);
+    try {
+      const signature = await ed25519.signAsync(msgBytes, privateKey);
+      return bytesToHex(signature);
+    } finally {
+      // SECURITY: Always wipe key after use
+      secureWipe(privateKey);
+    }
   }
 
   /**
    * Sign and return a full transaction structure
+   * SECURITY: Derives private key on-demand and wipes immediately after use
    */
   async signFullTransaction(
     accountIndex: number,
     tx: Omit<SultanTransaction, 'from'>
   ): Promise<SignedTransaction> {
+    this.ensureNotDestroyed();
     const account = this.accounts.get(accountIndex);
     if (!account) {
       throw new Error(`Account at index ${accountIndex} not found`);
@@ -246,30 +310,44 @@ export class SultanWallet {
     };
 
     const msgBytes = this.serializeTransaction(transaction);
-    const privateKey = hexToBytes(account.privateKey);
-    const signature = await ed25519.signAsync(msgBytes, privateKey);
-
-    return {
-      transaction,
-      signature: bytesToHex(signature),
-      publicKey: account.publicKey,
-    };
+    
+    // SECURITY: Derive key on-demand
+    const privateKey = await this.derivePrivateKeyForSigning(accountIndex);
+    try {
+      const signature = await ed25519.signAsync(msgBytes, privateKey);
+      return {
+        transaction,
+        signature: bytesToHex(signature),
+        publicKey: account.publicKey,
+      };
+    } finally {
+      // SECURITY: Always wipe key after use
+      secureWipe(privateKey);
+    }
   }
 
   /**
    * Sign arbitrary message
+   * SECURITY: Derives private key on-demand and wipes immediately after use
    */
   async signMessage(accountIndex: number, message: string): Promise<string> {
+    this.ensureNotDestroyed();
     const account = this.accounts.get(accountIndex);
     if (!account) {
       throw new Error(`Account at index ${accountIndex} not found`);
     }
 
     const msgBytes = new TextEncoder().encode(message);
-    const privateKey = hexToBytes(account.privateKey);
-    const signature = await ed25519.signAsync(msgBytes, privateKey);
     
-    return bytesToHex(signature);
+    // SECURITY: Derive key on-demand
+    const privateKey = await this.derivePrivateKeyForSigning(accountIndex);
+    try {
+      const signature = await ed25519.signAsync(msgBytes, privateKey);
+      return bytesToHex(signature);
+    } finally {
+      // SECURITY: Always wipe key after use
+      secureWipe(privateKey);
+    }
   }
 
   /**
@@ -307,10 +385,27 @@ export class SultanWallet {
   }
 
   /**
-   * Get mnemonic (for backup - handle with care!)
+   * Get mnemonic for backup purposes
+   * SECURITY: Uses callback pattern to minimize exposure time
+   * The mnemonic is only revealed within the callback scope
+   * 
+   * @param callback - Function that receives the mnemonic. Should NOT store it.
+   * @returns The return value of the callback
+   */
+  withMnemonic<T>(callback: (mnemonic: string) => T): T {
+    this.ensureNotDestroyed();
+    if (!this.secureMnemonic) {
+      throw new Error('Wallet not initialized');
+    }
+    const mnemonic = this.secureMnemonic.reveal();
+    return callback(mnemonic);
+  }
+
+  /**
+   * Check if wallet has mnemonic stored
    */
-  getMnemonic(): string | null {
-    return this.mnemonic;
+  hasMnemonic(): boolean {
+    return this.secureMnemonic !== null && !this.destroyed;
   }
 
   /**
@@ -318,26 +413,25 @@ export class SultanWallet {
    * CRITICAL: Always call this when done with the wallet
    */
   destroy(): void {
-    // Wipe mnemonic
-    if (this.mnemonic) {
-      // Create a buffer and wipe it (JS strings are immutable)
-      const encoder = new TextEncoder();
-      const mnemonicBytes = encoder.encode(this.mnemonic);
-      secureWipe(mnemonicBytes);
-      this.mnemonic = null;
-    }
+    if (this.destroyed) return;
     
-    // Wipe all account private keys
-    for (const account of this.accounts.values()) {
-      if (account.privateKey) {
-        const keyBytes = hexToBytes(account.privateKey);
-        secureWipe(keyBytes);
-        // Overwrite the string reference
-        (account as { privateKey: string }).privateKey = '';
-      }
+    // SECURITY: Destroy SecureString (wipes XOR encrypted data)
+    if (this.secureMnemonic) {
+      this.secureMnemonic.destroy();
+      this.secureMnemonic = null;
     }
     
+    // Clear account cache (no private keys stored, just public data)
     this.accounts.clear();
+    
+    this.destroyed = true;
+  }
+
+  /**
+   * Check if wallet has been destroyed
+   */
+  isDestroyed(): boolean {
+    return this.destroyed;
   }
 }
 
diff --git a/wallet-extension/src/hooks/useWallet.tsx b/wallet-extension/src/hooks/useWallet.tsx
index 89f50efe..9735ca02 100644
--- a/wallet-extension/src/hooks/useWallet.tsx
+++ b/wallet-extension/src/hooks/useWallet.tsx
@@ -29,6 +29,9 @@ import {
   checkSessionTimeout,
   startSession,
   endSession as endSecuritySession,
+  setSessionPinHash,
+  clearSessionPinHash,
+  hashPinForVerification,
 } from '../core/security';
 
 interface WalletState {
@@ -300,11 +303,16 @@ export function WalletProvider({ children }: { children: ReactNode }) {
       clearFailedAttempts();
       setSessionPin(pin);
       
+      // SECURITY: Store hashed PIN for transaction verification
+      const pinHash = hashPinForVerification(pin);
+      setSessionPinHash(pinHash);
+      
       // Initialize security session with auto-lock callback
       startSession(() => {
         // This will be called when session expires
         wallet.destroy();
         clearSession();
+        clearSessionPinHash();
       });
       
       const accounts = wallet.getAccounts();
@@ -338,6 +346,7 @@ export function WalletProvider({ children }: { children: ReactNode }) {
   const lock = useCallback(() => {
     state.wallet?.destroy();
     clearSession();
+    clearSessionPinHash(); // SECURITY: Clear PIN hash on lock
     endSecuritySession(); // End the security session timer
     
     setState(prev => ({
diff --git a/wallet-extension/src/screens/BecomeValidator.css b/wallet-extension/src/screens/BecomeValidator.css
new file mode 100644
index 00000000..d8eab33b
--- /dev/null
+++ b/wallet-extension/src/screens/BecomeValidator.css
@@ -0,0 +1,753 @@
+/**
+ * Become Validator Screen Styles
+ */
+
+.validator-hero {
+  text-align: center;
+  padding: 1.5rem 0;
+  margin-bottom: 1rem;
+}
+
+.validator-icon {
+  width: 80px;
+  height: 80px;
+  margin: 0 auto 1rem;
+  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
+  border-radius: 50%;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  color: white;
+}
+
+.validator-hero h2 {
+  font-size: 1.5rem;
+  font-weight: 600;
+  margin: 0 0 0.5rem;
+}
+
+.hero-subtitle {
+  color: var(--text-secondary);
+  font-size: 0.95rem;
+  margin: 0;
+}
+
+.benefits-card,
+.requirements-card,
+.validator-form,
+.warning-card {
+  background: var(--card-bg);
+  border-radius: 16px;
+  padding: 1.25rem;
+  margin-bottom: 1rem;
+  border: 1px solid var(--border);
+}
+
+.benefits-card h3,
+.requirements-card h3 {
+  font-size: 1rem;
+  font-weight: 600;
+  margin: 0 0 1rem;
+}
+
+.benefits-list {
+  list-style: none;
+  padding: 0;
+  margin: 0;
+}
+
+.benefits-list li {
+  display: flex;
+  align-items: center;
+  gap: 0.75rem;
+  padding: 0.5rem 0;
+  color: var(--text-secondary);
+  font-size: 0.9rem;
+}
+
+.benefits-list li svg {
+  color: var(--success);
+  flex-shrink: 0;
+}
+
+.requirement-item {
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  padding: 0.75rem 0;
+  border-bottom: 1px solid var(--border);
+}
+
+.requirement-item:last-child {
+  border-bottom: none;
+  padding-bottom: 0;
+}
+
+.requirement-label {
+  color: var(--text-secondary);
+  font-size: 0.9rem;
+}
+
+.requirement-value {
+  font-weight: 600;
+  font-size: 0.95rem;
+}
+
+.requirement-value.success {
+  color: var(--success);
+}
+
+.requirement-value.error {
+  color: var(--error);
+}
+
+.form-group {
+  margin-bottom: 1.25rem;
+}
+
+.form-group label {
+  display: block;
+  font-size: 0.9rem;
+  font-weight: 500;
+  margin-bottom: 0.5rem;
+  color: var(--text-primary);
+}
+
+.input-hint {
+  display: block;
+  font-size: 0.8rem;
+  color: var(--text-secondary);
+  margin-top: 0.35rem;
+}
+
+.earnings-preview {
+  background: var(--bg-secondary);
+  border-radius: 12px;
+  padding: 1rem;
+  margin-bottom: 1.25rem;
+}
+
+.earnings-preview h4 {
+  font-size: 0.9rem;
+  font-weight: 600;
+  margin: 0 0 0.75rem;
+}
+
+.earnings-row {
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  padding: 0.5rem 0;
+  font-size: 0.85rem;
+}
+
+.earnings-row span:first-child {
+  color: var(--text-secondary);
+}
+
+.earnings-value {
+  font-weight: 600;
+  color: var(--success);
+}
+
+.btn-lg {
+  width: 100%;
+  padding: 1rem;
+  font-size: 1rem;
+  font-weight: 600;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  gap: 0.5rem;
+}
+
+.spinner-small {
+  width: 18px;
+  height: 18px;
+  border: 2px solid rgba(255, 255, 255, 0.3);
+  border-top-color: white;
+  border-radius: 50%;
+  animation: spin 0.8s linear infinite;
+}
+
+@keyframes spin {
+  to { transform: rotate(360deg); }
+}
+
+.insufficient-funds {
+  text-align: center;
+  padding: 2rem 1rem;
+  background: var(--card-bg);
+  border-radius: 16px;
+  border: 1px solid var(--border);
+  margin-bottom: 1rem;
+}
+
+.insufficient-funds p {
+  margin: 0 0 0.5rem;
+  color: var(--text-secondary);
+}
+
+.insufficient-funds .current-balance {
+  margin-bottom: 1.5rem;
+}
+
+.insufficient-funds strong {
+  color: var(--text-primary);
+}
+
+.warning-card {
+  background: rgba(255, 193, 7, 0.1);
+  border-color: rgba(255, 193, 7, 0.3);
+}
+
+.warning-card h4 {
+  font-size: 0.95rem;
+  font-weight: 600;
+  margin: 0 0 0.75rem;
+  color: #f59e0b;
+}
+
+.warning-card ul {
+  margin: 0;
+  padding-left: 1.25rem;
+}
+
+.warning-card li {
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+  margin-bottom: 0.35rem;
+}
+
+.warning-card li:last-child {
+  margin-bottom: 0;
+}
+
+.error-message {
+  background: rgba(239, 68, 68, 0.1);
+  color: var(--error);
+  padding: 0.75rem 1rem;
+  border-radius: 8px;
+  font-size: 0.9rem;
+  margin-bottom: 1rem;
+}
+
+.success-message {
+  background: rgba(34, 197, 94, 0.1);
+  color: var(--success);
+  padding: 0.75rem 1rem;
+  border-radius: 8px;
+  font-size: 0.9rem;
+  margin-bottom: 1rem;
+  text-align: center;
+}
+/* Step Indicator */
+.step-indicator {
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  gap: 0;
+  margin-bottom: 1.5rem;
+}
+
+.step-dot {
+  width: 32px;
+  height: 32px;
+  border-radius: 50%;
+  background: var(--bg-secondary);
+  border: 2px solid var(--border);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  font-size: 0.8rem;
+  font-weight: 600;
+  color: var(--text-secondary);
+  transition: all 0.2s;
+}
+
+.step-dot.active {
+  background: var(--primary);
+  border-color: var(--primary);
+  color: white;
+}
+
+.step-dot.done {
+  background: var(--success);
+  border-color: var(--success);
+  color: white;
+}
+
+.step-line {
+  width: 40px;
+  height: 2px;
+  background: var(--border);
+}
+
+/* Steps Preview */
+.steps-preview {
+  background: var(--card-bg);
+  border-radius: 16px;
+  padding: 1.25rem;
+  margin-bottom: 1rem;
+  border: 1px solid var(--border);
+}
+
+.steps-preview h3 {
+  font-size: 1rem;
+  font-weight: 600;
+  margin: 0 0 1rem;
+}
+
+.step-preview-item {
+  display: flex;
+  gap: 1rem;
+  padding: 0.75rem 0;
+  border-bottom: 1px solid var(--border);
+}
+
+.step-preview-item:last-child {
+  border-bottom: none;
+  padding-bottom: 0;
+}
+
+.step-preview-num {
+  width: 28px;
+  height: 28px;
+  border-radius: 50%;
+  background: var(--bg-secondary);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  font-size: 0.8rem;
+  font-weight: 600;
+  flex-shrink: 0;
+}
+
+.step-preview-item strong {
+  font-size: 0.95rem;
+  display: block;
+  margin-bottom: 0.25rem;
+}
+
+.step-preview-item p {
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+  margin: 0;
+}
+
+/* Step Header */
+.step-header-large {
+  text-align: center;
+  padding: 1rem 0;
+  margin-bottom: 1rem;
+}
+
+.step-header-large svg {
+  color: var(--primary);
+  margin-bottom: 0.75rem;
+}
+
+.step-header-large h2 {
+  font-size: 1.25rem;
+  font-weight: 600;
+  margin: 0;
+}
+
+/* Info Card */
+.info-card {
+  background: var(--card-bg);
+  border-radius: 16px;
+  padding: 1.25rem;
+  margin-bottom: 1rem;
+  border: 1px solid var(--border);
+}
+
+.info-card h4 {
+  font-size: 1rem;
+  font-weight: 600;
+  margin: 0 0 0.5rem;
+}
+
+.info-card p {
+  font-size: 0.9rem;
+  color: var(--text-secondary);
+  margin: 0 0 1rem;
+}
+
+.info-card p:last-child {
+  margin-bottom: 0;
+}
+
+.specs-list {
+  list-style: none;
+  padding: 0;
+  margin: 0;
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  gap: 0.5rem;
+}
+
+.specs-list li {
+  background: var(--bg-secondary);
+  padding: 0.5rem 0.75rem;
+  border-radius: 8px;
+  font-size: 0.85rem;
+}
+
+/* Provider Cards */
+.provider-cards {
+  display: flex;
+  gap: 0.75rem;
+  margin-bottom: 1rem;
+}
+
+.provider-card {
+  flex: 1;
+  background: var(--card-bg);
+  border: 1px solid var(--border);
+  border-radius: 12px;
+  padding: 1rem;
+  text-align: center;
+  text-decoration: none;
+  color: var(--text-primary);
+  transition: border-color 0.2s, transform 0.2s;
+}
+
+.provider-card:hover {
+  border-color: var(--primary);
+  transform: translateY(-2px);
+}
+
+.provider-card strong {
+  display: block;
+  font-size: 0.9rem;
+  margin-bottom: 0.25rem;
+}
+
+.provider-card .price {
+  font-size: 0.8rem;
+  color: var(--success);
+  font-weight: 600;
+}
+
+/* Tip Box */
+.tip-box {
+  background: rgba(59, 130, 246, 0.1);
+  border: 1px solid rgba(59, 130, 246, 0.3);
+  border-radius: 12px;
+  padding: 1rem;
+  margin-bottom: 1rem;
+  font-size: 0.9rem;
+}
+
+.tip-box a {
+  color: var(--primary);
+  text-decoration: underline;
+}
+
+/* Checkbox */
+.checkbox-item {
+  display: flex;
+  align-items: center;
+  gap: 0.75rem;
+  padding: 1rem;
+  background: var(--card-bg);
+  border: 1px solid var(--border);
+  border-radius: 12px;
+  margin-bottom: 1rem;
+  cursor: pointer;
+  transition: border-color 0.2s;
+}
+
+.checkbox-item:hover {
+  border-color: var(--primary);
+}
+
+.checkbox {
+  width: 24px;
+  height: 24px;
+  border: 2px solid var(--border);
+  border-radius: 6px;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  flex-shrink: 0;
+  transition: all 0.2s;
+}
+
+.checkbox.checked {
+  background: var(--primary);
+  border-color: var(--primary);
+  color: white;
+}
+
+/* Button Row */
+.button-row {
+  display: flex;
+  gap: 0.75rem;
+  margin-top: 1rem;
+}
+
+.button-row .btn {
+  flex: 1;
+}
+
+/* Address Display */
+.address-display {
+  background: var(--bg-secondary);
+  border-radius: 8px;
+  padding: 0.75rem;
+  margin-top: 1rem;
+}
+
+.address-display .label {
+  display: block;
+  font-size: 0.8rem;
+  color: var(--text-secondary);
+  margin-bottom: 0.35rem;
+}
+
+.address-display code {
+  font-size: 0.8rem;
+  word-break: break-all;
+  color: var(--primary);
+}
+
+/* Command Block */
+.command-block {
+  position: relative;
+  background: var(--bg-secondary);
+  border-radius: 8px;
+  padding: 1rem;
+  margin-top: 0.75rem;
+}
+
+.command-block pre {
+  margin: 0;
+  font-size: 0.75rem;
+  line-height: 1.5;
+  white-space: pre-wrap;
+  word-break: break-word;
+  color: var(--text-primary);
+}
+
+.copy-btn {
+  position: absolute;
+  top: 0.5rem;
+  right: 0.5rem;
+  display: flex;
+  align-items: center;
+  gap: 0.35rem;
+  background: var(--card-bg);
+  border: 1px solid var(--border);
+  border-radius: 6px;
+  padding: 0.35rem 0.6rem;
+  font-size: 0.75rem;
+  cursor: pointer;
+  color: var(--text-secondary);
+  transition: all 0.2s;
+}
+
+.copy-btn:hover {
+  border-color: var(--primary);
+  color: var(--primary);
+}
+
+/* Next Steps Card */
+.next-steps-card {
+  background: rgba(34, 197, 94, 0.1);
+  border: 1px solid rgba(34, 197, 94, 0.3);
+  border-radius: 12px;
+  padding: 1rem;
+  margin: 1rem 0;
+}
+
+.next-steps-card h4 {
+  font-size: 0.95rem;
+  font-weight: 600;
+  margin: 0 0 0.5rem;
+  color: var(--success);
+}
+
+.next-steps-card p {
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+  margin: 0 0 0.5rem;
+}
+
+.next-steps-card pre {
+  background: var(--bg-secondary);
+  padding: 0.75rem;
+  border-radius: 6px;
+  font-size: 0.75rem;
+  margin: 0;
+  overflow-x: auto;
+}
+
+/* Divider */
+.divider {
+  display: flex;
+  align-items: center;
+  margin: 1.5rem 0;
+}
+
+.divider::before,
+.divider::after {
+  content: '';
+  flex: 1;
+  height: 1px;
+  background: var(--border);
+}
+
+.divider span {
+  padding: 0 1rem;
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+}
+
+/* Button Success State */
+.btn-success {
+  background: var(--success) !important;
+}
+
+.btn-success:hover {
+  background: #16a34a !important;
+}
+
+/* Security Badge */
+.security-badge {
+  display: flex;
+  align-items: center;
+  gap: 1rem;
+  background: rgba(34, 197, 94, 0.1);
+  border: 1px solid rgba(34, 197, 94, 0.3);
+  border-radius: 12px;
+  padding: 1rem;
+  margin-bottom: 1rem;
+}
+
+.security-badge svg {
+  color: var(--success);
+  flex-shrink: 0;
+}
+
+.security-badge strong {
+  display: block;
+  font-size: 0.95rem;
+  color: var(--success);
+}
+
+.security-badge p {
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+  margin: 0.25rem 0 0;
+}
+
+/* Security Note */
+.security-note {
+  display: flex;
+  gap: 0.75rem;
+  background: var(--bg-secondary);
+  border-radius: 12px;
+  padding: 1rem;
+  margin: 1rem 0;
+}
+
+.security-note svg {
+  color: var(--success);
+  flex-shrink: 0;
+  margin-top: 2px;
+}
+
+.security-note strong {
+  display: block;
+  font-size: 0.9rem;
+  margin-bottom: 0.25rem;
+}
+
+.security-note p {
+  font-size: 0.85rem;
+  color: var(--text-secondary);
+  margin: 0;
+}
+
+/* Fund Summary */
+.fund-summary {
+  background: var(--card-bg);
+  border: 1px solid var(--border);
+  border-radius: 16px;
+  padding: 1.25rem;
+  margin-bottom: 1rem;
+}
+
+.fund-row {
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  padding: 0.5rem 0;
+}
+
+.fund-row.highlight {
+  padding-top: 1rem;
+  margin-top: 0.5rem;
+  border-top: 1px solid var(--border);
+}
+
+.fund-label {
+  color: var(--text-secondary);
+  font-size: 0.9rem;
+}
+
+.fund-value {
+  font-weight: 600;
+  font-size: 0.95rem;
+  font-family: monospace;
+}
+
+.fund-row.highlight .fund-value {
+  color: var(--success);
+  font-size: 1.1rem;
+}
+
+.fund-arrow {
+  text-align: center;
+  color: var(--primary);
+  font-size: 1.25rem;
+  padding: 0.25rem 0;
+}
+
+/* Next List */
+.next-list {
+  margin: 0;
+  padding-left: 1.5rem;
+}
+
+.next-list li {
+  font-size: 0.9rem;
+  color: var(--text-secondary);
+  margin-bottom: 0.5rem;
+}
+
+.next-list li:last-child {
+  margin-bottom: 0;
+}
+
+/* Command Block Small */
+.command-block.small {
+  margin-top: 0.75rem;
+}
+
+.command-block.small pre {
+  font-size: 0.8rem;
+}
+
+/* Code in text */
+.steps-preview code,
+.info-card code,
+.tip-box code {
+  background: var(--bg-secondary);
+  padding: 0.15rem 0.4rem;
+  border-radius: 4px;
+  font-size: 0.85em;
+  font-family: monospace;
+}
\ No newline at end of file
diff --git a/wallet-extension/src/screens/BecomeValidator.tsx b/wallet-extension/src/screens/BecomeValidator.tsx
new file mode 100644
index 00000000..945ba1ce
--- /dev/null
+++ b/wallet-extension/src/screens/BecomeValidator.tsx
@@ -0,0 +1,543 @@
+/**
+ * Become Validator Screen
+ * 
+ * Secure validator setup flow (like Solana/Cosmos):
+ * 1. User sets up server and runs `sultan-node init`
+ * 2. Server generates validator keypair locally (never leaves server)
+ * 3. User copies validator address from server
+ * 4. User sends 10,000 SLTN to fund the validator
+ * 5. Server auto-registers when funded
+ */
+
+import { useState } from 'react';
+import { useNavigate } from 'react-router-dom';
+import { useWallet } from '../hooks/useWallet';
+import { useTheme } from '../hooks/useTheme';
+import { useBalance } from '../hooks/useBalance';
+import { SultanWallet } from '../core/wallet';
+import { sultanAPI } from '../api/sultanAPI';
+import { validateAddress, validateAmount } from '../core/security';
+import './BecomeValidator.css';
+
+// Premium SVG Icons
+const BackIcon = () => (
+  <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <polyline points="15 18 9 12 15 6" />
+  </svg>
+);
+
+const SunIcon = () => (
+  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <circle cx="12" cy="12" r="5" />
+    <line x1="12" y1="1" x2="12" y2="3" />
+    <line x1="12" y1="21" x2="12" y2="23" />
+    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
+    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
+    <line x1="1" y1="12" x2="3" y2="12" />
+    <line x1="21" y1="12" x2="23" y2="12" />
+    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
+    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
+  </svg>
+);
+
+const MoonIcon = () => (
+  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
+  </svg>
+);
+
+const ValidatorIcon = () => (
+  <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M12 2L2 7l10 5 10-5-10-5z" />
+    <path d="M2 17l10 5 10-5" />
+    <path d="M2 12l10 5 10-5" />
+  </svg>
+);
+
+const CheckIcon = () => (
+  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <polyline points="20 6 9 17 4 12" />
+  </svg>
+);
+
+const ServerIcon = () => (
+  <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <rect x="2" y="2" width="20" height="8" rx="2" ry="2" />
+    <rect x="2" y="14" width="20" height="8" rx="2" ry="2" />
+    <line x1="6" y1="6" x2="6.01" y2="6" />
+    <line x1="6" y1="18" x2="6.01" y2="18" />
+  </svg>
+);
+
+const KeyIcon = () => (
+  <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
+  </svg>
+);
+
+const SendIcon = () => (
+  <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <line x1="22" y1="2" x2="11" y2="13" />
+    <polygon points="22 2 15 22 11 13 2 9 22 2" />
+  </svg>
+);
+
+const CopyIcon = () => (
+  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
+    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
+  </svg>
+);
+
+const ShieldIcon = () => (
+  <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
+    <polyline points="9 12 11 14 15 10" />
+  </svg>
+);
+
+type Step = 'overview' | 'server' | 'address' | 'fund';
+
+export default function BecomeValidator() {
+  const navigate = useNavigate();
+  const { wallet, currentAccount } = useWallet();
+  const { theme, setTheme } = useTheme();
+  const { data: balanceData, refetch: refetchBalance } = useBalance(currentAccount?.address);
+  
+  const [step, setStep] = useState<Step>('overview');
+  const [validatorAddress, setValidatorAddress] = useState('');
+  const [moniker, setMoniker] = useState('');
+  const [isLoading, setIsLoading] = useState(false);
+  const [error, setError] = useState('');
+  const [success, setSuccess] = useState('');
+  const [serverReady, setServerReady] = useState(false);
+  const [copied, setCopied] = useState(false);
+
+  const toggleTheme = () => {
+    setTheme(theme === 'dark' ? 'light' : 'dark');
+  };
+
+  const availableBalance = SultanWallet.formatSLTN(balanceData?.available || '0');
+  const hasMinimumStake = parseFloat(availableBalance) >= 10000;
+
+  const handleCopyCommand = async (text: string) => {
+    await navigator.clipboard.writeText(text);
+    setCopied(true);
+    setTimeout(() => setCopied(false), 2000);
+  };
+
+  const handleFundValidator = async () => {
+    if (!wallet || !currentAccount) return;
+
+    // Validate address
+    const addrValidation = validateAddress(validatorAddress);
+    if (!addrValidation.valid) {
+      setError(addrValidation.error || 'Invalid validator address');
+      return;
+    }
+
+    if (!validatorAddress.startsWith('sltn1')) {
+      setError('Address must start with sltn1');
+      return;
+    }
+
+    // Validate amount
+    const amount = '10000';
+    const amountValidation = validateAmount(amount, availableBalance);
+    if (!amountValidation.valid) {
+      setError(amountValidation.error || 'Insufficient balance');
+      return;
+    }
+
+    setIsLoading(true);
+    setError('');
+    setSuccess('');
+
+    try {
+      const atomicAmount = SultanWallet.parseSLTN(amount);
+      
+      const txData = {
+        type: 'fund_validator' as const,
+        from: currentAccount.address,
+        to: validatorAddress,
+        amount: atomicAmount,
+        moniker: moniker.trim() || 'Sultan Validator',
+        timestamp: Date.now(),
+      };
+
+      const signature = await wallet.signTransaction(txData, currentAccount.index);
+      
+      await sultanAPI.broadcastTransaction({
+        from: currentAccount.address,
+        to: validatorAddress,
+        amount: atomicAmount,
+        memo: `validator:${moniker.trim() || 'Sultan Validator'}`,
+        timestamp: Date.now(),
+        signature,
+        publicKey: currentAccount.publicKey,
+      });
+
+      setSuccess(`ğŸ‰ Successfully funded validator with 10,000 SLTN! Your node will auto-register.`);
+      refetchBalance();
+      
+      setTimeout(() => {
+        navigate('/stake');
+      }, 4000);
+    } catch (err) {
+      setError(err instanceof Error ? err.message : 'Failed to fund validator');
+    } finally {
+      setIsLoading(false);
+    }
+  };
+
+  const renderStepIndicator = () => (
+    <div className="step-indicator">
+      <div className={`step-dot ${step === 'overview' ? 'active' : ''}`}>1</div>
+      <div className="step-line" />
+      <div className={`step-dot ${step === 'server' ? 'active' : serverReady ? 'done' : ''}`}>2</div>
+      <div className="step-line" />
+      <div className={`step-dot ${step === 'address' ? 'active' : validatorAddress ? 'done' : ''}`}>3</div>
+      <div className="step-line" />
+      <div className={`step-dot ${step === 'fund' ? 'active' : ''}`}>4</div>
+    </div>
+  );
+
+  return (
+    <div className="container">
+      <header className="header">
+        <button className="back-btn" onClick={() => step === 'overview' ? navigate('/stake') : setStep('overview')}>
+          <BackIcon />
+        </button>
+        <h1 className="title">Become Validator</h1>
+        <button className="theme-toggle" onClick={toggleTheme}>
+          {theme === 'dark' ? <SunIcon /> : <MoonIcon />}
+        </button>
+      </header>
+
+      <main className="main-content">
+        {renderStepIndicator()}
+
+        {/* Step 1: Overview */}
+        {step === 'overview' && (
+          <>
+            <div className="validator-hero">
+              <div className="validator-icon">
+                <ValidatorIcon />
+              </div>
+              <h2>Become a Sultan Validator</h2>
+              <p className="hero-subtitle">Secure the network and earn ~13.33% APY (variable)</p>
+            </div>
+
+            <div className="security-badge">
+              <ShieldIcon />
+              <div>
+                <strong>Bank-Grade Security</strong>
+                <p>Keys generated on your server, never transmitted</p>
+              </div>
+            </div>
+
+            <div className="benefits-card">
+              <h3>Validator Benefits</h3>
+              <ul className="benefits-list">
+                <li><CheckIcon /> <span>~13.33% APY (variable based on network stake)</span></li>
+                <li><CheckIcon /> <span>Commission on delegator rewards</span></li>
+                <li><CheckIcon /> <span>Zero gas fees on all transactions</span></li>
+                <li><CheckIcon /> <span>Help secure the Sultan network</span></li>
+              </ul>
+            </div>
+
+            <div className="requirements-card">
+              <h3>Requirements</h3>
+              <div className="requirement-item">
+                <span className="requirement-label">Minimum Stake</span>
+                <span className="requirement-value">10,000 SLTN</span>
+              </div>
+              <div className="requirement-item">
+                <span className="requirement-label">Your Balance</span>
+                <span className={`requirement-value ${hasMinimumStake ? 'success' : 'error'}`}>
+                  {parseFloat(availableBalance).toLocaleString()} SLTN
+                </span>
+              </div>
+              <div className="requirement-item">
+                <span className="requirement-label">Server Cost</span>
+                <span className="requirement-value">~$5-6/month</span>
+              </div>
+            </div>
+
+            <div className="steps-preview">
+              <h3>How It Works</h3>
+              <div className="step-preview-item">
+                <div className="step-preview-num">1</div>
+                <div>
+                  <strong>Create a Server</strong>
+                  <p>Get a $5/mo VPS from DigitalOcean, Vultr, etc.</p>
+                </div>
+              </div>
+              <div className="step-preview-item">
+                <div className="step-preview-num">2</div>
+                <div>
+                  <strong>Start Validator Node</strong>
+                  <p>Run <code>sultan-node --validator</code> with your stake</p>
+                </div>
+              </div>
+              <div className="step-preview-item">
+                <div className="step-preview-num">3</div>
+                <div>
+                  <strong>Connect to Network</strong>
+                  <p>Your node syncs with bootstrap peers automatically</p>
+                </div>
+              </div>
+              <div className="step-preview-item">
+                <div className="step-preview-num">4</div>
+                <div>
+                  <strong>Earn Rewards</strong>
+                  <p>Start earning ~13.33% APY on your stake</p>
+                </div>
+              </div>
+            </div>
+
+            {hasMinimumStake ? (
+              <button className="btn btn-primary btn-lg" onClick={() => setStep('server')}>
+                Start Setup â†’
+              </button>
+            ) : (
+              <div className="insufficient-funds">
+                <p>You need <strong>10,000 SLTN</strong> to become a validator.</p>
+                <button className="btn btn-secondary" onClick={() => navigate('/receive')}>
+                  Receive SLTN
+                </button>
+              </div>
+            )}
+          </>
+        )}
+
+        {/* Step 2: Server Setup */}
+        {step === 'server' && (
+          <>
+            <div className="step-header-large">
+              <ServerIcon />
+              <h2>Step 1: Set Up Your Server</h2>
+            </div>
+
+            <div className="info-card">
+              <p>Create a VPS with these minimum specs:</p>
+              <ul className="specs-list">
+                <li>1 vCPU</li>
+                <li>1GB RAM</li>
+                <li>20GB SSD</li>
+                <li>Ubuntu 24.04</li>
+              </ul>
+            </div>
+
+            <div className="provider-cards">
+              <a href="https://www.digitalocean.com" target="_blank" rel="noopener noreferrer" className="provider-card">
+                <strong>DigitalOcean</strong>
+                <span className="price">$6/mo</span>
+              </a>
+              <a href="https://www.vultr.com" target="_blank" rel="noopener noreferrer" className="provider-card">
+                <strong>Vultr</strong>
+                <span className="price">$5/mo</span>
+              </a>
+              <a href="https://www.hetzner.com/cloud" target="_blank" rel="noopener noreferrer" className="provider-card">
+                <strong>Hetzner</strong>
+                <span className="price">â‚¬4.51/mo</span>
+              </a>
+            </div>
+
+            <div className="info-card">
+              <h4>SSH into your server and run:</h4>
+              <div className="command-block">
+                <pre>{`# Download Sultan node
+curl -L https://github.com/Wollnbergen/DOCS/releases/latest/download/sultan-node -o sultan-node
+chmod +x sultan-node
+
+# Open firewall ports
+sudo ufw allow 26656/tcp && sudo ufw allow 26657/tcp
+
+# Start validator (replace MyValidator with your name)
+./sultan-node --validator \\
+  --name "MyValidator" \\
+  --validator-address "MyValidator" \\
+  --validator-stake 10000 \\
+  --enable-sharding --shard-count 16 \\
+  --enable-p2p \\
+  --bootstrap-peers /ip4/206.189.224.142/tcp/26656`}</pre>
+                <button className="copy-btn" onClick={() => handleCopyCommand(`curl -L https://github.com/Wollnbergen/DOCS/releases/latest/download/sultan-node -o sultan-node && chmod +x sultan-node && sudo ufw allow 26656/tcp && sudo ufw allow 26657/tcp`)}>
+                  {copied ? <CheckIcon /> : <CopyIcon />}
+                </button>
+              </div>
+            </div>
+
+            <div className="tip-box">
+              <strong>ğŸ’¡ What happens:</strong> Your node connects to the Sultan network via the bootstrap peer,
+              syncs with other validators, and starts participating in consensus to earn rewards.
+            </div>
+
+            <div className="checkbox-item" onClick={() => setServerReady(!serverReady)}>
+              <div className={`checkbox ${serverReady ? 'checked' : ''}`}>
+                {serverReady && <CheckIcon />}
+              </div>
+              <span>My validator is running and connected to peers</span>
+            </div>
+
+            <div className="button-row">
+              <button className="btn btn-secondary" onClick={() => setStep('overview')}>
+                â† Back
+              </button>
+              <button 
+                className="btn btn-primary" 
+                onClick={() => navigate('/stake')}
+                disabled={!serverReady}
+              >
+                Done â†’ View Staking
+              </button>
+            </div>
+
+            <div className="info-card" style={{ marginTop: '20px' }}>
+              <h4>ğŸ“š Full Documentation</h4>
+              <p>For systemd service setup, monitoring, and troubleshooting, see the <a href="https://github.com/Wollnbergen/0xv7/blob/main/VALIDATOR_GUIDE.md" target="_blank" rel="noopener noreferrer">Validator Guide</a>.</p>
+            </div>
+          </>
+        )}
+
+        {/* Step 3: Enter Address */}
+        {step === 'address' && (
+          <>
+            <div className="step-header-large">
+              <KeyIcon />
+              <h2>Step 2: Copy Validator Address</h2>
+            </div>
+
+            <div className="info-card">
+              <p>After running <code>sultan-node init</code>, your server displays:</p>
+              <div className="command-block">
+                <pre>{`âœ… Sultan node initialized!
+
+Validator Address: sltn1abc...xyz
+Moniker: MyValidator
+
+âš ï¸  IMPORTANT: Your validator key is stored at:
+    ~/.sultan/validator_key.json
+    Keep this file safe! Never share it.
+
+Next: Fund this address with 10,000 SLTN to activate.`}</pre>
+              </div>
+            </div>
+
+            <div className="form-group">
+              <label>Paste Your Validator Address</label>
+              <input
+                type="text"
+                className="input"
+                placeholder="sltn1..."
+                value={validatorAddress}
+                onChange={(e) => setValidatorAddress(e.target.value.trim())}
+              />
+              <span className="input-hint">
+                This is the address shown by your server (starts with sltn1)
+              </span>
+            </div>
+
+            <div className="form-group">
+              <label>Validator Name (Optional)</label>
+              <input
+                type="text"
+                className="input"
+                placeholder="e.g., MyValidator"
+                value={moniker}
+                onChange={(e) => setMoniker(e.target.value)}
+                maxLength={32}
+              />
+            </div>
+
+            <div className="security-note">
+              <ShieldIcon />
+              <div>
+                <strong>Why this is secure</strong>
+                <p>Your validator private key was generated on the server and stays there. 
+                You're only entering the public address here â€” safe to share.</p>
+              </div>
+            </div>
+
+            <div className="button-row">
+              <button className="btn btn-secondary" onClick={() => setStep('server')}>
+                â† Back
+              </button>
+              <button 
+                className="btn btn-primary" 
+                onClick={() => setStep('fund')}
+                disabled={!validatorAddress || !validatorAddress.startsWith('sltn1')}
+              >
+                Continue â†’
+              </button>
+            </div>
+          </>
+        )}
+
+        {/* Step 4: Fund Validator */}
+        {step === 'fund' && (
+          <>
+            <div className="step-header-large">
+              <SendIcon />
+              <h2>Step 3: Fund Your Validator</h2>
+            </div>
+
+            <div className="fund-summary">
+              <div className="fund-row">
+                <span className="fund-label">From</span>
+                <span className="fund-value">{currentAccount?.address.slice(0, 12)}...{currentAccount?.address.slice(-6)}</span>
+              </div>
+              <div className="fund-arrow">â†“</div>
+              <div className="fund-row">
+                <span className="fund-label">To (Validator)</span>
+                <span className="fund-value">{validatorAddress.slice(0, 12)}...{validatorAddress.slice(-6)}</span>
+              </div>
+              <div className="fund-row highlight">
+                <span className="fund-label">Amount</span>
+                <span className="fund-value">10,000 SLTN</span>
+              </div>
+            </div>
+
+            <div className="info-card">
+              <h4>What happens next:</h4>
+              <ol className="next-list">
+                <li>This wallet sends 10,000 SLTN to your validator address</li>
+                <li>Your server detects the funding automatically</li>
+                <li>Validator registers on-chain and starts earning rewards</li>
+                <li>You earn 13.33% APY + delegator commissions</li>
+              </ol>
+            </div>
+
+            <div className="tip-box">
+              <strong>ğŸ’¡ Keep your server running!</strong> After funding, start the validator:
+              <div className="command-block small">
+                <pre>./sultan-node start --validator</pre>
+              </div>
+            </div>
+
+            {error && <div className="error-message">{error}</div>}
+            {success && <div className="success-message">{success}</div>}
+
+            <button
+              className="btn btn-primary btn-lg"
+              onClick={handleFundValidator}
+              disabled={isLoading}
+            >
+              {isLoading ? (
+                <><span className="spinner-small" /> Sending...</>
+              ) : (
+                'ğŸš€ Fund Validator with 10,000 SLTN'
+              )}
+            </button>
+
+            <div className="button-row">
+              <button className="btn btn-secondary" onClick={() => setStep('address')}>
+                â† Back
+              </button>
+            </div>
+          </>
+        )}
+      </main>
+    </div>
+  );
+}
diff --git a/wallet-extension/src/screens/Dashboard.css b/wallet-extension/src/screens/Dashboard.css
index ae6853a1..838e301b 100644
--- a/wallet-extension/src/screens/Dashboard.css
+++ b/wallet-extension/src/screens/Dashboard.css
@@ -433,3 +433,74 @@
 .nav-item:hover .nav-icon svg {
   stroke: var(--accent-primary);
 }
+/* DEX Banner */
+.dex-banner {
+  display: flex;
+  align-items: center;
+  justify-content: space-between;
+  background: linear-gradient(135deg, rgba(0, 212, 170, 0.1) 0%, rgba(255, 180, 100, 0.1) 100%);
+  border: 1px solid rgba(0, 212, 170, 0.3);
+  border-radius: var(--radius-lg);
+  padding: var(--spacing-md) var(--spacing-lg);
+  margin-bottom: var(--spacing-lg);
+  cursor: pointer;
+  transition: all 0.2s ease;
+}
+
+.dex-banner:hover {
+  border-color: var(--accent-primary);
+  transform: translateY(-2px);
+  box-shadow: 0 4px 20px rgba(0, 212, 170, 0.2);
+}
+
+.dex-banner-content {
+  display: flex;
+  align-items: center;
+  gap: var(--spacing-md);
+}
+
+.dex-banner-content svg {
+  color: var(--accent-primary);
+  stroke: currentColor;
+}
+
+.dex-banner-text {
+  display: flex;
+  flex-direction: column;
+  gap: 2px;
+}
+
+.dex-title {
+  font-weight: 600;
+  font-size: 0.875rem;
+  color: var(--text-primary);
+}
+
+.dex-subtitle {
+  font-size: 0.75rem;
+  color: var(--text-muted);
+}
+
+.dex-arrow {
+  font-size: 1.25rem;
+  color: var(--accent-primary);
+}
+
+/* Quick actions grid for 4 items */
+.quick-actions {
+  display: grid;
+  grid-template-columns: repeat(4, 1fr);
+  gap: var(--spacing-sm);
+}
+
+@media (max-width: 380px) {
+  .quick-actions {
+    grid-template-columns: repeat(2, 1fr);
+    gap: var(--spacing-md);
+  }
+  
+  .action-btn {
+    padding: var(--spacing-sm);
+    min-width: unset;
+  }
+}
\ No newline at end of file
diff --git a/wallet-extension/src/screens/Dashboard.tsx b/wallet-extension/src/screens/Dashboard.tsx
index a60bef6a..80ef9591 100644
--- a/wallet-extension/src/screens/Dashboard.tsx
+++ b/wallet-extension/src/screens/Dashboard.tsx
@@ -107,6 +107,23 @@ const GovernanceIcon = () => (
   </svg>
 );
 
+const NFTIcon = () => (
+  <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
+    <circle cx="8.5" cy="8.5" r="1.5" />
+    <polyline points="21 15 16 10 5 21" />
+  </svg>
+);
+
+const SwapIcon = () => (
+  <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <polyline points="17 1 21 5 17 9" />
+    <path d="M3 11V9a4 4 0 0 1 4-4h14" />
+    <polyline points="7 23 3 19 7 15" />
+    <path d="M21 13v2a4 4 0 0 1-4 4H3" />
+  </svg>
+);
+
 export default function Dashboard() {
   const navigate = useNavigate();
   const { lock, currentAccount } = useWallet();
@@ -213,6 +230,21 @@ export default function Dashboard() {
             <span className="action-icon"><StakeIcon /></span>
             <span>Stake</span>
           </button>
+          <button className="action-btn" onClick={() => navigate('/nfts')}>
+            <span className="action-icon"><NFTIcon /></span>
+            <span>NFTs</span>
+          </button>
+        </div>
+
+        <div className="dex-banner" onClick={() => window.open('https://hodlholdings.com', '_blank')}>
+          <div className="dex-banner-content">
+            <SwapIcon />
+            <div className="dex-banner-text">
+              <span className="dex-title">Trade on HODL Holdings</span>
+              <span className="dex-subtitle">Zero-fee P2P trading</span>
+            </div>
+          </div>
+          <span className="dex-arrow">â†’</span>
         </div>
 
         {stakingData && stakingData.staked !== '0' && (
diff --git a/wallet-extension/src/screens/NFTs.css b/wallet-extension/src/screens/NFTs.css
new file mode 100644
index 00000000..73950d0c
--- /dev/null
+++ b/wallet-extension/src/screens/NFTs.css
@@ -0,0 +1,338 @@
+.nft-screen {
+  min-height: 100vh;
+  display: flex;
+  flex-direction: column;
+  background: var(--bg-primary);
+}
+
+.nft-content {
+  flex: 1;
+  padding: var(--spacing-lg);
+  overflow-y: auto;
+}
+
+/* Loading State */
+.nft-loading {
+  display: flex;
+  flex-direction: column;
+  align-items: center;
+  justify-content: center;
+  padding: var(--spacing-xxl);
+  gap: var(--spacing-md);
+}
+
+.nft-loading .spinner {
+  width: 48px;
+  height: 48px;
+  border: 3px solid var(--border-color);
+  border-top-color: var(--accent-primary);
+  border-radius: 50%;
+  animation: spin 1s linear infinite;
+}
+
+@keyframes spin {
+  to { transform: rotate(360deg); }
+}
+
+/* Empty State */
+.nft-empty {
+  display: flex;
+  flex-direction: column;
+  align-items: center;
+  justify-content: center;
+  padding: var(--spacing-xxl);
+  text-align: center;
+}
+
+.empty-icon {
+  width: 80px;
+  height: 80px;
+  border-radius: 50%;
+  background: var(--bg-secondary);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  margin-bottom: var(--spacing-lg);
+  color: var(--text-muted);
+}
+
+.nft-empty h3 {
+  margin-bottom: var(--spacing-sm);
+  color: var(--text-primary);
+}
+
+/* Stats */
+.nft-stats {
+  display: grid;
+  grid-template-columns: 1fr 1fr;
+  gap: var(--spacing-md);
+  margin-bottom: var(--spacing-lg);
+}
+
+.stat-card {
+  background: var(--bg-secondary);
+  border: 1px solid var(--border-color);
+  border-radius: var(--radius-lg);
+  padding: var(--spacing-md);
+  text-align: center;
+}
+
+.stat-value {
+  display: block;
+  font-size: 1.5rem;
+  font-weight: 700;
+  color: var(--accent-primary);
+  margin-bottom: var(--spacing-xs);
+}
+
+.stat-label {
+  font-size: 0.75rem;
+  color: var(--text-muted);
+  text-transform: uppercase;
+  letter-spacing: 0.5px;
+}
+
+/* Collection */
+.nft-collection {
+  margin-bottom: var(--spacing-xl);
+}
+
+.collection-header {
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  margin-bottom: var(--spacing-md);
+}
+
+.collection-header h3 {
+  font-size: 1rem;
+  font-weight: 600;
+  color: var(--text-primary);
+}
+
+.collection-count {
+  font-size: 0.75rem;
+  color: var(--text-muted);
+  background: var(--bg-secondary);
+  padding: 4px 10px;
+  border-radius: 12px;
+}
+
+/* NFT Grid */
+.nft-grid {
+  display: grid;
+  grid-template-columns: repeat(2, 1fr);
+  gap: var(--spacing-md);
+}
+
+.nft-grid.list {
+  grid-template-columns: 1fr;
+}
+
+.nft-card {
+  background: var(--bg-secondary);
+  border: 1px solid var(--border-color);
+  border-radius: var(--radius-lg);
+  overflow: hidden;
+  cursor: pointer;
+  transition: all 0.2s ease;
+}
+
+.nft-card:hover {
+  border-color: var(--accent-primary);
+  transform: translateY(-2px);
+  box-shadow: 0 4px 20px rgba(0, 212, 170, 0.15);
+}
+
+.nft-image {
+  aspect-ratio: 1;
+  background: var(--bg-primary);
+  overflow: hidden;
+}
+
+.nft-image img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+
+.nft-placeholder {
+  width: 100%;
+  height: 100%;
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  color: var(--text-muted);
+}
+
+.nft-card-info {
+  padding: var(--spacing-sm) var(--spacing-md);
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+}
+
+.nft-name {
+  font-weight: 600;
+  font-size: 0.875rem;
+  color: var(--text-primary);
+  white-space: nowrap;
+  overflow: hidden;
+  text-overflow: ellipsis;
+}
+
+.nft-id {
+  font-size: 0.75rem;
+  color: var(--text-muted);
+  font-family: monospace;
+}
+
+/* NFT Detail View */
+.nft-detail {
+  flex: 1;
+  padding: var(--spacing-lg);
+  overflow-y: auto;
+}
+
+.nft-image-large {
+  width: 100%;
+  max-width: 320px;
+  aspect-ratio: 1;
+  margin: 0 auto var(--spacing-lg);
+  border-radius: var(--radius-lg);
+  overflow: hidden;
+  background: var(--bg-secondary);
+}
+
+.nft-image-large img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+
+.nft-info {
+  text-align: center;
+}
+
+.nft-collection-badge {
+  display: inline-block;
+  font-size: 0.75rem;
+  color: var(--accent-primary);
+  background: rgba(0, 212, 170, 0.1);
+  border: 1px solid rgba(0, 212, 170, 0.2);
+  padding: 4px 12px;
+  border-radius: 20px;
+  margin-bottom: var(--spacing-sm);
+}
+
+.nft-info h2 {
+  font-size: 1.5rem;
+  margin-bottom: var(--spacing-sm);
+}
+
+.nft-description {
+  color: var(--text-muted);
+  font-size: 0.875rem;
+  margin-bottom: var(--spacing-lg);
+  line-height: 1.5;
+}
+
+/* Attributes */
+.nft-attributes {
+  margin-bottom: var(--spacing-lg);
+}
+
+.nft-attributes h4 {
+  font-size: 0.875rem;
+  font-weight: 600;
+  margin-bottom: var(--spacing-sm);
+  color: var(--text-secondary);
+}
+
+.attributes-grid {
+  display: grid;
+  grid-template-columns: repeat(2, 1fr);
+  gap: var(--spacing-sm);
+}
+
+.attribute-card {
+  background: var(--bg-secondary);
+  border: 1px solid var(--border-color);
+  border-radius: var(--radius-md);
+  padding: var(--spacing-sm);
+  text-align: center;
+}
+
+.attr-type {
+  display: block;
+  font-size: 0.7rem;
+  color: var(--text-muted);
+  text-transform: uppercase;
+  letter-spacing: 0.5px;
+  margin-bottom: 2px;
+}
+
+.attr-value {
+  display: block;
+  font-size: 0.875rem;
+  font-weight: 600;
+  color: var(--accent-primary);
+}
+
+/* Meta */
+.nft-meta {
+  background: var(--bg-secondary);
+  border-radius: var(--radius-md);
+  padding: var(--spacing-md);
+  margin-bottom: var(--spacing-lg);
+}
+
+.meta-row {
+  display: flex;
+  justify-content: space-between;
+  padding: var(--spacing-xs) 0;
+  font-size: 0.875rem;
+}
+
+.meta-row:not(:last-child) {
+  border-bottom: 1px solid var(--border-color);
+}
+
+.meta-row .mono {
+  font-family: monospace;
+  color: var(--text-muted);
+}
+
+/* Actions */
+.nft-actions {
+  display: flex;
+  flex-direction: column;
+  gap: var(--spacing-sm);
+}
+
+.nft-actions .btn {
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  gap: var(--spacing-sm);
+}
+
+/* Error State */
+.nft-error {
+  display: flex;
+  flex-direction: column;
+  align-items: center;
+  gap: var(--spacing-md);
+  padding: var(--spacing-xxl);
+}
+
+/* Header actions */
+.header-actions {
+  display: flex;
+  align-items: center;
+  gap: var(--spacing-xs);
+}
+
+.view-toggle {
+  font-size: 1rem;
+}
diff --git a/wallet-extension/src/screens/NFTs.tsx b/wallet-extension/src/screens/NFTs.tsx
new file mode 100644
index 00000000..083cf9af
--- /dev/null
+++ b/wallet-extension/src/screens/NFTs.tsx
@@ -0,0 +1,334 @@
+/**
+ * NFT Gallery Screen
+ * 
+ * Display Native NFTs from Sultan's Token Factory.
+ * Sultan is a native Rust L1 - NOT Cosmos/CW721.
+ * Supports viewing, sending, and NFT details.
+ */
+
+import { useState, useEffect } from 'react';
+import { useNavigate } from 'react-router-dom';
+import { useWallet } from '../hooks/useWallet';
+import { useTheme } from '../hooks/useTheme';
+import { sultanAPI } from '../api/sultanAPI';
+import './NFTs.css';
+
+// Premium SVG Icons
+const BackIcon = () => (
+  <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <polyline points="15 18 9 12 15 6" />
+  </svg>
+);
+
+const SunIcon = () => (
+  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <circle cx="12" cy="12" r="5" />
+    <line x1="12" y1="1" x2="12" y2="3" />
+    <line x1="12" y1="21" x2="12" y2="23" />
+    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
+    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
+    <line x1="1" y1="12" x2="3" y2="12" />
+    <line x1="21" y1="12" x2="23" y2="12" />
+    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
+    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
+  </svg>
+);
+
+const MoonIcon = () => (
+  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
+  </svg>
+);
+
+const SendIcon = () => (
+  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <line x1="22" y1="2" x2="11" y2="13" />
+    <polygon points="22 2 15 22 11 13 2 9 22 2" />
+  </svg>
+);
+
+const ExternalLinkIcon = () => (
+  <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
+    <polyline points="15 3 21 3 21 9" />
+    <line x1="10" y1="14" x2="21" y2="3" />
+  </svg>
+);
+
+const ImageIcon = () => (
+  <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
+    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
+    <circle cx="8.5" cy="8.5" r="1.5" />
+    <polyline points="21 15 16 10 5 21" />
+  </svg>
+);
+
+// NFT Interface
+interface NFT {
+  tokenId: string;
+  contractAddress: string;
+  name: string;
+  description?: string;
+  image?: string;
+  attributes?: Array<{ trait_type: string; value: string }>;
+  collection?: string;
+}
+
+interface NFTCollection {
+  address: string;
+  name: string;
+  symbol: string;
+  nfts: NFT[];
+}
+
+export default function NFTs() {
+  const navigate = useNavigate();
+  const { currentAccount } = useWallet();
+  const { theme, setTheme } = useTheme();
+  
+  const [collections, setCollections] = useState<NFTCollection[]>([]);
+  const [selectedNFT, setSelectedNFT] = useState<NFT | null>(null);
+  const [isLoading, setIsLoading] = useState(true);
+  const [error, setError] = useState('');
+  const [view, setView] = useState<'grid' | 'list'>('grid');
+  
+  const toggleView = () => setView(v => v === 'grid' ? 'list' : 'grid');
+
+  const toggleTheme = () => {
+    setTheme(theme === 'dark' ? 'light' : 'dark');
+  };
+
+  // Fetch user's NFTs
+  useEffect(() => {
+    const fetchNFTs = async () => {
+      if (!currentAccount?.address) return;
+      
+      setIsLoading(true);
+      setError('');
+      
+      try {
+        // Query Sultan's native token factory for user's NFTs
+        const response = await sultanAPI.queryNFTs(currentAccount.address);
+        
+        if (response.collections) {
+          setCollections(response.collections);
+        } else {
+          // Mock data for development - remove in production
+          setCollections([
+            {
+              address: 'sultan1nft...',
+              name: 'Sultan Genesis',
+              symbol: 'SGEN',
+              nfts: [
+                {
+                  tokenId: '1',
+                  contractAddress: 'sultan1nft...',
+                  name: 'Sultan #1',
+                  description: 'The first Sultan NFT ever minted',
+                  image: 'https://placeholder.pics/svg/300/1a1a2e/00d4aa/Sultan%20%231',
+                  collection: 'Sultan Genesis',
+                  attributes: [
+                    { trait_type: 'Rarity', value: 'Legendary' },
+                    { trait_type: 'Power', value: '100' }
+                  ]
+                },
+                {
+                  tokenId: '42',
+                  contractAddress: 'sultan1nft...',
+                  name: 'Sultan #42',
+                  description: 'A rare Sultan NFT',
+                  image: 'https://placeholder.pics/svg/300/1a1a2e/627eea/Sultan%20%2342',
+                  collection: 'Sultan Genesis',
+                  attributes: [
+                    { trait_type: 'Rarity', value: 'Epic' },
+                    { trait_type: 'Power', value: '88' }
+                  ]
+                }
+              ]
+            }
+          ]);
+        }
+      } catch (err) {
+        console.error('Failed to fetch NFTs:', err);
+        // Show empty state instead of error for now
+        setCollections([]);
+      } finally {
+        setIsLoading(false);
+      }
+    };
+
+    fetchNFTs();
+  }, [currentAccount?.address]);
+
+  const totalNFTs = collections.reduce((sum, col) => sum + col.nfts.length, 0);
+
+  // NFT Detail Modal
+  if (selectedNFT) {
+    return (
+      <div className="nft-screen">
+        <header className="screen-header">
+          <button className="btn-back" onClick={() => setSelectedNFT(null)}>
+            <BackIcon />
+          </button>
+          <h2>{selectedNFT.name}</h2>
+          <button className="btn-icon theme-toggle" onClick={toggleTheme}>
+            {theme === 'dark' ? <SunIcon /> : <MoonIcon />}
+          </button>
+        </header>
+
+        <div className="nft-detail fade-in">
+          <div className="nft-image-large">
+            {selectedNFT.image ? (
+              <img src={selectedNFT.image} alt={selectedNFT.name} />
+            ) : (
+              <div className="nft-placeholder">
+                <ImageIcon />
+              </div>
+            )}
+          </div>
+
+          <div className="nft-info">
+            <div className="nft-collection-badge">{selectedNFT.collection}</div>
+            <h2>{selectedNFT.name}</h2>
+            {selectedNFT.description && (
+              <p className="nft-description">{selectedNFT.description}</p>
+            )}
+
+            {selectedNFT.attributes && selectedNFT.attributes.length > 0 && (
+              <div className="nft-attributes">
+                <h4>Attributes</h4>
+                <div className="attributes-grid">
+                  {selectedNFT.attributes.map((attr, index) => (
+                    <div key={index} className="attribute-card">
+                      <span className="attr-type">{attr.trait_type}</span>
+                      <span className="attr-value">{attr.value}</span>
+                    </div>
+                  ))}
+                </div>
+              </div>
+            )}
+
+            <div className="nft-meta">
+              <div className="meta-row">
+                <span>Token ID</span>
+                <span className="mono">#{selectedNFT.tokenId}</span>
+              </div>
+              <div className="meta-row">
+                <span>Contract</span>
+                <span className="mono">{selectedNFT.contractAddress.slice(0, 16)}...</span>
+              </div>
+            </div>
+
+            <div className="nft-actions">
+              <button 
+                className="btn btn-primary"
+                onClick={() => navigate(`/send?nft=${selectedNFT.tokenId}&contract=${selectedNFT.contractAddress}`)}
+              >
+                <SendIcon /> Send NFT
+              </button>
+              <button 
+                className="btn btn-secondary"
+                onClick={() => window.open(`https://explorer.sultanchain.io/nft/${selectedNFT.contractAddress}/${selectedNFT.tokenId}`, '_blank')}
+              >
+                <ExternalLinkIcon /> View on Explorer
+              </button>
+            </div>
+          </div>
+        </div>
+      </div>
+    );
+  }
+
+  return (
+    <div className="nft-screen">
+      <header className="screen-header">
+        <button className="btn-back" onClick={() => navigate('/dashboard')}>
+          <BackIcon />
+        </button>
+        <h2>NFT Gallery</h2>
+        <div className="header-actions">
+          {totalNFTs > 0 && (
+            <button className="btn-icon view-toggle" onClick={toggleView} title={view === 'grid' ? 'List view' : 'Grid view'}>
+              {view === 'grid' ? 'â˜°' : 'âŠ'}
+            </button>
+          )}
+          <button className="btn-icon theme-toggle" onClick={toggleTheme}>
+            {theme === 'dark' ? <SunIcon /> : <MoonIcon />}
+          </button>
+        </div>
+      </header>
+
+      <div className="nft-content fade-in">
+        {isLoading ? (
+          <div className="nft-loading">
+            <div className="spinner"></div>
+            <p>Loading your NFTs...</p>
+          </div>
+        ) : error ? (
+          <div className="nft-error">
+            <p className="text-error">{error}</p>
+            <button className="btn btn-secondary" onClick={() => window.location.reload()}>
+              Try Again
+            </button>
+          </div>
+        ) : totalNFTs === 0 ? (
+          <div className="nft-empty">
+            <div className="empty-icon">
+              <ImageIcon />
+            </div>
+            <h3>No NFTs Yet</h3>
+            <p className="text-muted">
+              Your NFTs will appear here once you receive or mint them.
+            </p>
+          </div>
+        ) : (
+          <>
+            <div className="nft-stats">
+              <div className="stat-card">
+                <span className="stat-value">{totalNFTs}</span>
+                <span className="stat-label">Total NFTs</span>
+              </div>
+              <div className="stat-card">
+                <span className="stat-value">{collections.length}</span>
+                <span className="stat-label">Collections</span>
+              </div>
+            </div>
+
+            {collections.map((collection) => (
+              <div key={collection.address} className="nft-collection">
+                <div className="collection-header">
+                  <h3>{collection.name}</h3>
+                  <span className="collection-count">{collection.nfts.length} items</span>
+                </div>
+                
+                <div className={`nft-grid ${view}`}>
+                  {collection.nfts.map((nft) => (
+                    <div 
+                      key={`${nft.contractAddress}-${nft.tokenId}`} 
+                      className="nft-card"
+                      onClick={() => setSelectedNFT(nft)}
+                    >
+                      <div className="nft-image">
+                        {nft.image ? (
+                          <img src={nft.image} alt={nft.name} loading="lazy" />
+                        ) : (
+                          <div className="nft-placeholder">
+                            <ImageIcon />
+                          </div>
+                        )}
+                      </div>
+                      <div className="nft-card-info">
+                        <span className="nft-name">{nft.name}</span>
+                        <span className="nft-id">#{nft.tokenId}</span>
+                      </div>
+                    </div>
+                  ))}
+                </div>
+              </div>
+            ))}
+          </>
+        )}
+      </div>
+    </div>
+  );
+}
diff --git a/wallet-extension/src/screens/Send.css b/wallet-extension/src/screens/Send.css
index fcf5d38b..918289f1 100644
--- a/wallet-extension/src/screens/Send.css
+++ b/wallet-extension/src/screens/Send.css
@@ -229,3 +229,166 @@
   padding: var(--spacing-lg);
   width: 100%;
 }
+/* PIN Verification Step */
+.pin-header {
+  text-align: center;
+  margin-bottom: var(--spacing-xl);
+}
+
+.pin-header h2 {
+  margin: var(--spacing-md) 0 var(--spacing-sm);
+}
+
+.lock-icon {
+  width: 80px;
+  height: 80px;
+  border-radius: 50%;
+  background: rgba(0, 212, 170, 0.15);
+  color: var(--accent-primary);
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  margin: 0 auto;
+}
+
+.lock-icon svg {
+  stroke: currentColor;
+}
+
+.tx-summary-mini {
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  gap: var(--spacing-sm);
+  padding: var(--spacing-md);
+  background: var(--bg-secondary);
+  border-radius: var(--radius-md);
+  margin-bottom: var(--spacing-xl);
+  font-size: 0.9rem;
+}
+
+.tx-summary-mini .amount {
+  font-weight: 600;
+  color: var(--accent-primary);
+}
+
+.tx-summary-mini .arrow {
+  color: var(--text-muted);
+}
+
+.tx-summary-mini .recipient {
+  color: var(--text-secondary);
+  font-family: monospace;
+}
+
+.pin-input-group {
+  display: flex;
+  justify-content: center;
+  gap: var(--spacing-sm);
+  margin-bottom: var(--spacing-lg);
+}
+
+.pin-input {
+  width: 48px;
+  height: 56px;
+  text-align: center;
+  font-size: 1.5rem;
+  font-weight: 600;
+  border: 2px solid var(--border-color);
+  border-radius: var(--radius-md);
+  background: var(--bg-secondary);
+  color: var(--text-primary);
+  transition: all 0.2s ease;
+}
+
+.pin-input:focus {
+  outline: none;
+  border-color: var(--accent-primary);
+  box-shadow: 0 0 0 3px rgba(0, 212, 170, 0.2);
+}
+
+.pin-input::-webkit-outer-spin-button,
+.pin-input::-webkit-inner-spin-button {
+  -webkit-appearance: none;
+  margin: 0;
+}
+
+.pin-input[type=number] {
+  -moz-appearance: textfield;
+}
+
+/* Multi-chain detection styles */
+.chain-detected {
+  display: flex;
+  align-items: center;
+  gap: var(--spacing-sm);
+  margin-top: var(--spacing-sm);
+  padding: var(--spacing-sm) var(--spacing-md);
+  border-radius: var(--radius-md);
+  font-size: 0.875rem;
+  font-weight: 500;
+}
+
+.chain-detected.chain-sultan {
+  background: linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(0, 180, 150, 0.1));
+  border: 1px solid rgba(0, 212, 170, 0.3);
+  color: var(--accent-primary);
+}
+
+.chain-detected.chain-ethereum {
+  background: linear-gradient(135deg, rgba(98, 126, 234, 0.15), rgba(130, 71, 229, 0.1));
+  border: 1px solid rgba(98, 126, 234, 0.3);
+  color: #627eea;
+}
+
+.chain-detected.chain-bitcoin {
+  background: linear-gradient(135deg, rgba(247, 147, 26, 0.15), rgba(255, 180, 60, 0.1));
+  border: 1px solid rgba(247, 147, 26, 0.3);
+  color: #f7931a;
+}
+
+.chain-detected.chain-solana {
+  background: linear-gradient(135deg, rgba(153, 69, 255, 0.15), rgba(20, 241, 149, 0.1));
+  border: 1px solid rgba(153, 69, 255, 0.3);
+  color: #9945ff;
+}
+
+.chain-detected.chain-ton {
+  background: linear-gradient(135deg, rgba(0, 136, 204, 0.15), rgba(0, 180, 255, 0.1));
+  border: 1px solid rgba(0, 136, 204, 0.3);
+  color: #0088cc;
+}
+
+.chain-icon {
+  font-size: 1.1rem;
+}
+
+.chain-name {
+  flex: 1;
+}
+
+.bridge-badge {
+  font-size: 0.75rem;
+  padding: 2px 8px;
+  border-radius: 12px;
+  background: rgba(255, 255, 255, 0.1);
+  border: 1px solid rgba(255, 255, 255, 0.2);
+}
+
+.cross-chain-notice {
+  display: flex;
+  align-items: center;
+  justify-content: center;
+  gap: var(--spacing-sm);
+  padding: var(--spacing-md);
+  background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(255, 200, 100, 0.1));
+  border: 1px solid rgba(0, 212, 170, 0.3);
+  border-radius: var(--radius-md);
+  margin-bottom: var(--spacing-lg);
+  font-weight: 500;
+  color: var(--accent-primary);
+}
+
+.bridge-icon {
+  font-size: 1.25rem;
+}
\ No newline at end of file
diff --git a/wallet-extension/src/screens/Send.tsx b/wallet-extension/src/screens/Send.tsx
index 58c3f95a..067812ac 100644
--- a/wallet-extension/src/screens/Send.tsx
+++ b/wallet-extension/src/screens/Send.tsx
@@ -2,16 +2,17 @@
  * Send Screen
  * 
  * Send SLTN to another address.
+ * SECURITY: Requires PIN confirmation before signing transactions.
  */
 
-import { useState } from 'react';
+import { useState, useRef, useEffect } from 'react';
 import { useNavigate } from 'react-router-dom';
 import { useWallet } from '../hooks/useWallet';
 import { useTheme } from '../hooks/useTheme';
 import { useBalance } from '../hooks/useBalance';
 import { SultanWallet } from '../core/wallet';
 import { sultanAPI } from '../api/sultanAPI';
-import { validateAddress, validateAmount } from '../core/security';
+import { validateSultanOnlyAddress, validateAmount, verifySessionPin } from '../core/security';
 import './Send.css';
 
 // Premium SVG Icons
@@ -48,7 +49,7 @@ const CheckCircleIcon = () => (
   </svg>
 );
 
-type Step = 'form' | 'confirm' | 'success';
+type Step = 'form' | 'confirm' | 'pin' | 'success';
 
 export default function Send() {
   const navigate = useNavigate();
@@ -63,6 +64,10 @@ export default function Send() {
   const [error, setError] = useState('');
   const [isLoading, setIsLoading] = useState(false);
   const [txHash, setTxHash] = useState('');
+  
+  // PIN verification state
+  const [pin, setPin] = useState(['', '', '', '', '', '']);
+  const pinInputRefs = useRef<(HTMLInputElement | null)[]>([]);
 
   const toggleTheme = () => {
     setTheme(theme === 'dark' ? 'light' : 'dark');
@@ -77,8 +82,8 @@ export default function Send() {
   const validateForm = (): boolean => {
     setError('');
 
-    // Validate recipient address
-    const addressValidation = validateAddress(recipient);
+    // Validate recipient address (Sultan-only wallet)
+    const addressValidation = validateSultanOnlyAddress(recipient);
     if (!addressValidation.valid) {
       setError(addressValidation.error || 'Invalid recipient address');
       return false;
@@ -100,12 +105,80 @@ export default function Send() {
     }
   };
 
-  const handleSend = async () => {
-    if (!wallet || !currentAccount) return;
+  /**
+   * Proceed to PIN verification step
+   * SECURITY: PIN must be verified before any signing operation
+   */
+  const handleConfirmToPin = () => {
+    setError('');
+    setPin(['', '', '', '', '', '']);
+    setStep('pin');
+  };
+
+  /**
+   * Handle PIN input with auto-focus
+   */
+  const handlePinChange = (index: number, value: string) => {
+    if (!/^\d*$/.test(value)) return; // Only digits
+    
+    const newPin = [...pin];
+    newPin[index] = value.slice(-1); // Take last character
+    setPin(newPin);
+    
+    // Auto-focus next input
+    if (value && index < 5) {
+      pinInputRefs.current[index + 1]?.focus();
+    }
+  };
+
+  /**
+   * Handle PIN backspace
+   */
+  const handlePinKeyDown = (index: number, e: React.KeyboardEvent) => {
+    if (e.key === 'Backspace' && !pin[index] && index > 0) {
+      pinInputRefs.current[index - 1]?.focus();
+    }
+  };
+
+  /**
+   * Verify PIN and execute transaction
+   * SECURITY: PIN verification required before signing
+   */
+  const handlePinSubmit = async () => {
+    const fullPin = pin.join('');
+    if (fullPin.length !== 6) {
+      setError('Please enter your 6-digit PIN');
+      return;
+    }
 
     setIsLoading(true);
     setError('');
 
+    try {
+      // SECURITY: Verify PIN before allowing transaction
+      const pinValid = await verifySessionPin(fullPin);
+      if (!pinValid) {
+        setError('Incorrect PIN. Please try again.');
+        setPin(['', '', '', '', '', '']);
+        pinInputRefs.current[0]?.focus();
+        setIsLoading(false);
+        return;
+      }
+
+      // PIN verified - proceed with transaction
+      await executeTransaction();
+    } catch (err) {
+      setError(err instanceof Error ? err.message : 'Transaction failed');
+      setIsLoading(false);
+    }
+  };
+
+  /**
+   * Execute transaction after PIN verification
+   */
+  const executeTransaction = async () => {
+    if (!wallet || !currentAccount) return;
+
     try {
       const atomicAmount = SultanWallet.parseSLTN(amount);
       
@@ -136,6 +209,13 @@ export default function Send() {
     }
   };
 
+  // Focus first PIN input when entering PIN step
+  useEffect(() => {
+    if (step === 'pin') {
+      pinInputRefs.current[0]?.focus();
+    }
+  }, [step]);
+
   if (step === 'success') {
     return (
       <div className="send-screen">
@@ -220,8 +300,74 @@ export default function Send() {
             </button>
             <button 
               className="btn btn-primary"
-              onClick={handleSend}
+              onClick={handleConfirmToPin}
+              disabled={isLoading}
+            >
+              Continue
+            </button>
+          </div>
+        </div>
+      </div>
+    );
+  }
+
+  // PIN verification step
+  if (step === 'pin') {
+    return (
+      <div className="send-screen">
+        <div className="send-content fade-in">
+          <div className="pin-header">
+            <div className="lock-icon">
+              <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
+                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
+                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
+              </svg>
+            </div>
+            <h2>Confirm with PIN</h2>
+            <p className="text-muted">Enter your 6-digit PIN to authorize this transaction</p>
+          </div>
+
+          <div className="tx-summary-mini">
+            <span className="amount">{amount} SLTN</span>
+            <span className="arrow">â†’</span>
+            <span className="recipient">{recipient.slice(0, 12)}...</span>
+          </div>
+
+          <div className="pin-input-group">
+            {pin.map((digit, index) => (
+              <input
+                key={index}
+                ref={(el) => { pinInputRefs.current[index] = el; }}
+                type="password"
+                inputMode="numeric"
+                maxLength={1}
+                value={digit}
+                onChange={(e) => handlePinChange(index, e.target.value)}
+                onKeyDown={(e) => handlePinKeyDown(index, e)}
+                className="pin-input"
+                autoComplete="off"
+              />
+            ))}
+          </div>
+
+          {error && <p className="text-error mt-md">{error}</p>}
+
+          <div className="button-row mt-lg">
+            <button 
+              className="btn btn-secondary"
+              onClick={() => {
+                setStep('confirm');
+                setPin(['', '', '', '', '', '']);
+                setError('');
+              }}
               disabled={isLoading}
+            >
+              Back
+            </button>
+            <button 
+              className="btn btn-primary"
+              onClick={handlePinSubmit}
+              disabled={isLoading || pin.some(d => !d)}
             >
               {isLoading ? 'Sending...' : 'Confirm & Send'}
             </button>
diff --git a/wallet-extension/src/screens/Stake.css b/wallet-extension/src/screens/Stake.css
index 8578d938..2ca12c75 100644
--- a/wallet-extension/src/screens/Stake.css
+++ b/wallet-extension/src/screens/Stake.css
@@ -180,3 +180,23 @@
 .text-center {
   text-align: center;
 }
+
+/* Become Validator CTA */
+.become-validator-cta {
+  margin-top: var(--spacing-xl);
+  padding: var(--spacing-lg);
+  background: linear-gradient(135deg, rgba(0, 212, 170, 0.1) 0%, rgba(0, 212, 170, 0.05) 100%);
+  border: 1px solid rgba(0, 212, 170, 0.2);
+  border-radius: var(--radius-lg);
+  text-align: center;
+}
+
+.become-validator-cta p {
+  margin: 0 0 var(--spacing-md);
+  color: var(--text-muted);
+  font-size: 0.9rem;
+}
+
+.become-validator-cta .btn {
+  font-weight: 600;
+}
diff --git a/wallet-extension/src/screens/Stake.tsx b/wallet-extension/src/screens/Stake.tsx
index f3d405e7..c0c9ceb0 100644
--- a/wallet-extension/src/screens/Stake.tsx
+++ b/wallet-extension/src/screens/Stake.tsx
@@ -347,6 +347,17 @@ export default function Stake() {
             {(!validators || validators.length === 0) && (
               <p className="text-muted text-center">No validators available</p>
             )}
+
+            {/* Become Validator CTA */}
+            <div className="become-validator-cta">
+              <p>Want to run your own validator?</p>
+              <button 
+                className="btn btn-secondary"
+                onClick={() => navigate('/become-validator')}
+              >
+                ğŸš€ Become a Validator
+              </button>
+            </div>
           </div>
         )}
       </div>
diff --git a/wallet-extension/src/test-setup.ts b/wallet-extension/src/test-setup.ts
new file mode 100644
index 00000000..b9b336f4
--- /dev/null
+++ b/wallet-extension/src/test-setup.ts
@@ -0,0 +1,16 @@
+/**
+ * Test setup for Sultan Wallet
+ * Configures jsdom environment and mocks for browser APIs
+ */
+
+import '@testing-library/jest-dom';
+
+// Mock IndexedDB is more complex - tests that need it will skip gracefully
+if (typeof globalThis.indexedDB === 'undefined') {
+  console.warn('IndexedDB not available in test environment - related tests will be skipped');
+}
+
+// Ensure crypto.subtle is available (jsdom should provide this)
+if (typeof globalThis.crypto?.subtle === 'undefined') {
+  console.warn('Web Crypto API not available - crypto tests will be skipped');
+}
diff --git a/wallet-extension/tsconfig.tsbuildinfo b/wallet-extension/tsconfig.tsbuildinfo
index 86afdb2d..9276accb 100644
--- a/wallet-extension/tsconfig.tsbuildinfo
+++ b/wallet-extension/tsconfig.tsbuildinfo
@@ -1 +1 @@
-{"root":["./src/App.tsx","./src/main.tsx","./src/vite-env.d.ts","./src/api/sultanAPI.ts","./src/components/AddressQR.tsx","./src/components/MnemonicDisplay.tsx","./src/components/PinInput.tsx","./src/components/TOTPSetup.tsx","./src/components/TOTPVerify.tsx","./src/core/csp.ts","./src/core/security.ts","./src/core/storage.secure.ts","./src/core/storage.ts","./src/core/totp.ts","./src/core/wallet.ts","./src/hooks/useBalance.ts","./src/hooks/useTheme.tsx","./src/hooks/useWallet.tsx","./src/screens/Activity.tsx","./src/screens/CreateWallet.tsx","./src/screens/Dashboard.tsx","./src/screens/ImportWallet.tsx","./src/screens/Receive.tsx","./src/screens/Send.tsx","./src/screens/Settings.tsx","./src/screens/Stake.tsx","./src/screens/Unlock.tsx","./src/screens/Welcome.tsx"],"version":"5.6.3"}
\ No newline at end of file
+{"root":["./src/App.tsx","./src/main.tsx","./src/test-setup.ts","./src/vite-env.d.ts","./src/__tests__/multichain.test.ts","./src/__tests__/nfts.test.tsx","./src/api/sultanAPI.ts","./src/components/AddressQR.tsx","./src/components/MnemonicDisplay.tsx","./src/components/PinInput.tsx","./src/components/TOTPSetup.tsx","./src/components/TOTPVerify.tsx","./src/core/clipboard.ts","./src/core/csp.ts","./src/core/logger.ts","./src/core/security.ts","./src/core/storage.secure.ts","./src/core/storage.ts","./src/core/totp.ts","./src/core/wallet.ts","./src/core/__tests__/security.test.ts","./src/core/__tests__/storage.secure.test.ts","./src/core/__tests__/wallet.test.ts","./src/hooks/useBalance.ts","./src/hooks/useTheme.tsx","./src/hooks/useWallet.tsx","./src/screens/Activity.tsx","./src/screens/BecomeValidator.tsx","./src/screens/CreateWallet.tsx","./src/screens/Dashboard.tsx","./src/screens/Governance.tsx","./src/screens/ImportWallet.tsx","./src/screens/NFTs.tsx","./src/screens/Receive.tsx","./src/screens/Send.tsx","./src/screens/Settings.tsx","./src/screens/Stake.tsx","./src/screens/Unlock.tsx","./src/screens/Welcome.tsx"],"version":"5.6.3"}
\ No newline at end of file
diff --git a/wallet-extension/vitest.config.ts b/wallet-extension/vitest.config.ts
new file mode 100644
index 00000000..53c751ea
--- /dev/null
+++ b/wallet-extension/vitest.config.ts
@@ -0,0 +1,18 @@
+import { defineConfig } from 'vitest/config';
+import react from '@vitejs/plugin-react';
+
+export default defineConfig({
+  plugins: [react()],
+  test: {
+    environment: 'jsdom',
+    globals: true,
+    setupFiles: ['./src/test-setup.ts'],
+    include: ['src/**/*.test.ts', 'src/**/*.test.tsx'],
+    coverage: {
+      provider: 'v8',
+      reporter: ['text', 'html'],
+      include: ['src/core/**/*.ts'],
+      exclude: ['src/**/*.test.ts', 'src/**/*.test.tsx', 'src/test-setup.ts'],
+    },
+  },
+});
